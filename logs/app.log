2022-03-12 12:39:07,927 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:39:07,986 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:39:11,316 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:39:12,445 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:39:12,451 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 12:39:13,761 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 12:39:13,845 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:39:13,849 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:39:14,947 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 12:39:14,950 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 12:39:15,368 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 406 ms. Found 1 MongoDB repository interfaces.
2022-03-12 12:39:15,797 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 12:39:15,801 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 12:39:15,827 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 12:39:15,828 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2022-03-12 12:39:16,538 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 12:39:17,929 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 12:39:17,950 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 12:39:17,951 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 12:39:17,952 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 12:39:18,064 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 12:39:18,067 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4213 ms
2022-03-12 12:39:20,324 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 12:39:20,326 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 12:39:20,419 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 12:39:20,423 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 12:39:20,497 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:22}] to mongodb2:27017
2022-03-12 12:39:20,498 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:20}] to mongodb1:27017
2022-03-12 12:39:20,499 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:18}] to mongodb3:27017
2022-03-12 12:39:20,499 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:21}] to mongodb2:27017
2022-03-12 12:39:20,499 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:21}] to mongodb1:27017
2022-03-12 12:39:20,499 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:17}] to mongodb3:27017
2022-03-12 12:39:20,512 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51511800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c94181b2acf68dde5d5bf, counter=8}, lastWriteDate=Sat Mar 12 12:39:17 GMT 2022, lastUpdateTimeNanos=460689928225387}
2022-03-12 12:39:20,514 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51021700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000013, setVersion=1, topologyVersion=TopologyVersion{processId=622c9418febe952011d76996, counter=7}, lastWriteDate=Sat Mar 12 12:39:17 GMT 2022, lastUpdateTimeNanos=460689929285587}
2022-03-12 12:39:20,513 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51662800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c9418ae162535c2a84327, counter=5}, lastWriteDate=Sat Mar 12 12:39:17 GMT 2022, lastUpdateTimeNanos=460689928086787}
2022-03-12 12:39:20,523 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000013 from replica set primary mongodb1:27017
2022-03-12 12:39:20,524 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 12:39:20,526 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9478c17357220cafd534', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 12:39:20,590 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 12:39:20,681 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 12:39:21,844 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 1633a637-c460-459d-a60d-730c2b35677b

2022-03-12 12:39:22,766 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77c233af, org.springframework.security.web.context.SecurityContextPersistenceFilter@28bdbe88, org.springframework.security.web.header.HeaderWriterFilter@46a488c2, org.springframework.security.web.authentication.logout.LogoutFilter@326d27ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ef60710, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@606f81b5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37b56ac7, org.springframework.security.web.session.SessionManagementFilter@49d831c2, org.springframework.security.web.access.ExceptionTranslationFilter@3e4e4c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c6017b9]
2022-03-12 12:39:24,688 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 12:39:25,013 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 12:39:25,081 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 12:39:25,197 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 12:39:25,214 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 12:39:25,314 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 12:39:25,317 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 12:39:25,320 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 12:39:25,321 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 12:39:25,323 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 12:39:25,324 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 12:39:25,328 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 12:39:25,596 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 12:39:25,602 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 12:39:25,609 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 12:39:25,620 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647088765618 with initial instances count: 1
2022-03-12 12:39:25,634 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 12:39:25,636 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647088765636, current=UP, previous=STARTING]
2022-03-12 12:39:25,641 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 12:39:25,648 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2b255ad08309:urlshortener: registering service...
2022-03-12 12:39:25,680 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 12:39:25,682 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 12:39:25,725 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 12:39:25,767 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 23.381 seconds (JVM running for 99.229)
2022-03-12 12:39:25,819 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2b255ad08309:urlshortener - registration status: 204
2022-03-12 12:40:01,455 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 12:40:01,457 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647088801457, current=DOWN, previous=UP]
2022-03-12 12:40:01,462 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2b255ad08309:urlshortener: registering service...
2022-03-12 12:40:01,480 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2b255ad08309:urlshortener - registration status: 204
2022-03-12 12:40:01,565 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 12:40:04,538 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 12:40:04,559 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/2b255ad08309:urlshortener - deregister  status: 200
2022-03-12 12:40:04,570 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 12:41:08,710 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:41:08,716 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:41:11,955 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:41:13,193 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:41:13,198 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 12:41:14,393 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 12:41:14,447 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:41:14,448 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:41:15,293 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 12:41:15,298 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 12:41:15,690 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 372 ms. Found 1 MongoDB repository interfaces.
2022-03-12 12:41:16,073 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 12:41:16,076 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 12:41:16,110 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 12:41:16,112 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 12:41:16,699 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 12:41:18,052 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 12:41:18,073 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 12:41:18,075 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 12:41:18,076 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 12:41:18,177 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 12:41:18,180 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3731 ms
2022-03-12 12:41:20,082 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 12:41:20,084 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 12:41:20,148 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 12:41:20,151 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 12:41:20,235 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:20}] to mongodb2:27017
2022-03-12 12:41:20,237 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:21}] to mongodb2:27017
2022-03-12 12:41:20,236 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:19}] to mongodb1:27017
2022-03-12 12:41:20,236 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:16}] to mongodb3:27017
2022-03-12 12:41:20,237 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:18}] to mongodb1:27017
2022-03-12 12:41:20,237 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:17}] to mongodb3:27017
2022-03-12 12:41:20,243 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65206500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c94c2b9526e1901ea5250, counter=8}, lastWriteDate=Sat Mar 12 12:41:16 GMT 2022, lastUpdateTimeNanos=460809806191887}
2022-03-12 12:41:20,249 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61856800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c94c25fb7f699a0beb89f, counter=5}, lastWriteDate=Sat Mar 12 12:41:16 GMT 2022, lastUpdateTimeNanos=460809806801287}
2022-03-12 12:41:20,250 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65457500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000016, setVersion=1, topologyVersion=TopologyVersion{processId=622c94c21d2632b98be59120, counter=7}, lastWriteDate=Sat Mar 12 12:41:16 GMT 2022, lastUpdateTimeNanos=460809806371787}
2022-03-12 12:41:20,258 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000016 from replica set primary mongodb1:27017
2022-03-12 12:41:20,259 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 12:41:20,261 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c94f00c77bc16ea1dea39', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 12:41:20,356 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 12:41:20,416 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 12:41:21,029 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: a52642f5-0321-4265-8cb3-5e5e2b5cbbb5

2022-03-12 12:41:21,273 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 12:41:23,024 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 12:41:23,365 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 12:41:23,422 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 12:41:23,520 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 12:41:23,536 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 12:41:23,615 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 12:41:23,616 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 12:41:23,620 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 12:41:23,621 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 12:41:23,623 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 12:41:23,624 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 12:41:23,627 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 12:41:24,062 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 12:41:24,067 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 12:41:24,074 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 12:41:24,085 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647088884083 with initial instances count: 0
2022-03-12 12:41:24,101 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 12:41:24,104 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647088884104, current=UP, previous=STARTING]
2022-03-12 12:41:24,109 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 12:41:24,113 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/7126a5e73b55:urlshortener: registering service...
2022-03-12 12:41:24,165 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 12:41:24,169 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 12:41:24,244 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 12:41:24,286 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 21.154 seconds (JVM running for 47.813)
2022-03-12 12:41:24,321 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/7126a5e73b55:urlshortener - registration status: 204
2022-03-12 12:41:54,035 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Disable delta property : false
2022-03-12 12:41:54,039 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Single vip registry refresh property : null
2022-03-12 12:41:54,041 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Force full registry fetch : false
2022-03-12 12:41:54,043 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application is null : false
2022-03-12 12:41:54,044 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Registered Applications size is zero : true
2022-03-12 12:41:54,045 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application version is -1: false
2022-03-12 12:41:54,046 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Getting all instance registry info from the eureka server
2022-03-12 12:41:54,066 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] The response status is 200
2022-03-12 12:44:41,148 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 12:44:41,151 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647089081151, current=DOWN, previous=UP]
2022-03-12 12:44:41,154 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/7126a5e73b55:urlshortener: registering service...
2022-03-12 12:44:41,183 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/7126a5e73b55:urlshortener - registration status: 204
2022-03-12 12:44:41,272 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 12:44:44,282 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 12:44:44,298 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/7126a5e73b55:urlshortener - deregister  status: 200
2022-03-12 12:44:44,313 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 12:54:40,797 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:54:40,803 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:54:45,274 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:54:46,638 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:54:46,641 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 12:54:47,932 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 12:54:48,073 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 12:54:48,076 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 12:54:49,720 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 12:54:49,756 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 12:54:50,611 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 811 ms. Found 1 MongoDB repository interfaces.
2022-03-12 12:54:51,459 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 12:54:51,481 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 12:54:51,609 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 12:54:51,612 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2022-03-12 12:54:52,658 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 12:54:54,851 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 12:54:54,881 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 12:54:54,884 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 12:54:54,887 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 12:54:55,052 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 12:54:55,056 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6978 ms
2022-03-12 12:54:57,246 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 12:54:57,249 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 12:54:57,327 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 12:54:57,335 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 12:54:57,410 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:21}] to mongodb3:27017
2022-03-12 12:54:57,410 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:20}] to mongodb1:27017
2022-03-12 12:54:57,416 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:18}] to mongodb2:27017
2022-03-12 12:54:57,416 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:17}] to mongodb2:27017
2022-03-12 12:54:57,415 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:20}] to mongodb3:27017
2022-03-12 12:54:57,416 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:19}] to mongodb1:27017
2022-03-12 12:54:57,420 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53311400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000019, setVersion=1, topologyVersion=TopologyVersion{processId=622c97f64189e6c22ef8698d, counter=7}, lastWriteDate=Sat Mar 12 12:54:57 GMT 2022, lastUpdateTimeNanos=461627940314787}
2022-03-12 12:54:57,420 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51507600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c97f64d6a813879861ad1, counter=8}, lastWriteDate=Sat Mar 12 12:54:57 GMT 2022, lastUpdateTimeNanos=461627941038587}
2022-03-12 12:54:57,423 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53424600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c97f6ab45557271f57958, counter=5}, lastWriteDate=Sat Mar 12 12:54:57 GMT 2022, lastUpdateTimeNanos=461627940424187}
2022-03-12 12:54:57,435 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000019 from replica set primary mongodb1:27017
2022-03-12 12:54:57,436 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 12:54:57,438 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9821487c7e6406c2b3a9', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 12:54:57,530 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 12:54:57,590 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 12:54:58,810 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3dca6413-bd96-4364-9877-d44bb33d6e3d

2022-03-12 12:54:59,756 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fb2e3fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c601d50, org.springframework.security.web.header.HeaderWriterFilter@5e1fc42f, org.springframework.security.web.authentication.logout.LogoutFilter@4fa822ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@326d27ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cc9d3d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43a09ce2, org.springframework.security.web.session.SessionManagementFilter@285c6918, org.springframework.security.web.access.ExceptionTranslationFilter@600f5704, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48f4713c]
2022-03-12 12:55:03,274 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 12:55:03,874 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 12:55:03,962 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 12:55:04,296 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 12:55:04,337 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 12:55:04,500 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 12:55:04,502 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 12:55:04,503 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 12:55:04,504 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 12:55:04,506 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 12:55:04,507 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 12:55:04,508 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 12:55:05,172 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 12:55:05,182 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 12:55:05,192 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 12:55:05,210 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647089705208 with initial instances count: 1
2022-03-12 12:55:05,222 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 12:55:05,226 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647089705226, current=UP, previous=STARTING]
2022-03-12 12:55:05,233 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 12:55:05,238 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/64952b5cc9ea:urlshortener: registering service...
2022-03-12 12:55:05,280 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 12:55:05,282 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 12:55:05,315 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 12:55:05,351 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 33.141 seconds (JVM running for 48.346)
2022-03-12 12:55:05,439 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/64952b5cc9ea:urlshortener - registration status: 204
2022-03-12 13:00:04,166 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2022-03-12 13:01:42,336 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 13:01:42,339 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647090102339, current=DOWN, previous=UP]
2022-03-12 13:01:42,341 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/64952b5cc9ea:urlshortener: registering service...
2022-03-12 13:01:42,368 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/64952b5cc9ea:urlshortener - registration status: 204
2022-03-12 13:01:42,477 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 13:01:45,487 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 13:01:45,509 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/64952b5cc9ea:urlshortener - deregister  status: 200
2022-03-12 13:01:45,523 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 13:02:39,144 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:02:39,152 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 13:02:46,843 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:02:48,307 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 13:02:48,311 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:02:49,868 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:02:49,940 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:02:49,942 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 13:02:51,216 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:02:51,221 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:02:51,681 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 442 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:02:52,222 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:02:52,227 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:02:52,269 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:02:52,278 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2022-03-12 13:02:53,058 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:02:55,063 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:02:55,095 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:02:55,097 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:02:55,098 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:02:55,203 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:02:55,207 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5262 ms
2022-03-12 13:02:57,050 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:02:57,052 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:02:57,192 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:02:57,196 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:02:57,278 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:20}] to mongodb3:27017
2022-03-12 13:02:57,274 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:21}] to mongodb1:27017
2022-03-12 13:02:57,278 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:22}] to mongodb2:27017
2022-03-12 13:02:57,274 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:19}] to mongodb3:27017
2022-03-12 13:02:57,274 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:21}] to mongodb2:27017
2022-03-12 13:02:57,274 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:20}] to mongodb1:27017
2022-03-12 13:02:57,283 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48756400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff000000000000001d, setVersion=1, topologyVersion=TopologyVersion{processId=622c99cd55bc3b89d83c4479, counter=7}, lastWriteDate=Sat Mar 12 13:02:47 GMT 2022, lastUpdateTimeNanos=462108371323987}
2022-03-12 13:02:57,285 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52794900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c99cd9de4645ec3d76e0c, counter=5}, lastWriteDate=Sat Mar 12 13:02:47 GMT 2022, lastUpdateTimeNanos=462108371476387}
2022-03-12 13:02:57,285 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52739500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c99cd2054a52bc6906fff, counter=8}, lastWriteDate=Sat Mar 12 13:02:47 GMT 2022, lastUpdateTimeNanos=462108371483587}
2022-03-12 13:02:57,294 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb1:27017] Setting max election id to 7fffffff000000000000001d from replica set primary mongodb1:27017
2022-03-12 13:02:57,295 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:02:57,296 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9a01580cdd7ab42ad6ee', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:02:57,392 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:02:57,452 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:02:58,182 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 1537c76e-621f-49d1-bbe8-e457d2314f7a

2022-03-12 13:02:58,387 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a0e495, org.springframework.security.web.context.SecurityContextPersistenceFilter@600f5704, org.springframework.security.web.header.HeaderWriterFilter@56399b9e, org.springframework.security.web.authentication.logout.LogoutFilter@5cc9d3d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@606f81b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ee8130e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5399f6c5, org.springframework.security.web.session.SessionManagementFilter@6a87026, org.springframework.security.web.access.ExceptionTranslationFilter@46a488c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b7332a7]
2022-03-12 13:03:00,114 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:03:00,381 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:03:00,441 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:03:00,538 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:03:00,551 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:03:00,613 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:03:00,614 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:03:00,616 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:03:00,617 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:03:00,618 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:03:00,619 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:03:00,621 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:03:00,837 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:03:00,842 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:03:00,847 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:03:00,856 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647090180854 with initial instances count: 2
2022-03-12 13:03:00,881 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:03:00,883 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647090180883, current=UP, previous=STARTING]
2022-03-12 13:03:00,887 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:03:00,889 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/44e163e61249:urlshortener: registering service...
2022-03-12 13:03:00,924 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 13:03:00,926 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 13:03:00,957 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 13:03:00,977 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 42.033 seconds (JVM running for 52.882)
2022-03-12 13:03:00,985 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/44e163e61249:urlshortener - registration status: 204
2022-03-12 13:08:00,276 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2022-03-12 13:09:32,564 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-03-12 13:09:32,566 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2022-03-12 13:09:32,570 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 3 ms
2022-03-12 13:09:38,836 INFO org.mongodb.driver.connection [http-nio-8080-exec-3] Opened connection [connectionId{localValue:7, serverValue:30}] to mongodb1:27017
2022-03-12 13:09:38,907 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException] with root cause
java.lang.IllegalArgumentException: null
	at java.base/java.util.Optional.orElseThrow(Unknown Source)
	at com.urlshortener.controller.RedirectController.redirectEndPoint(RedirectController.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Unknown Source)
2022-03-12 13:12:59,932 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2022-03-12 13:17:59,595 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2022-03-12 13:20:47,748 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 13:20:47,752 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647091247752, current=DOWN, previous=UP]
2022-03-12 13:20:47,755 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/44e163e61249:urlshortener: registering service...
2022-03-12 13:20:47,803 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/44e163e61249:urlshortener - registration status: 204
2022-03-12 13:20:47,913 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 13:20:50,921 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 13:20:50,932 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/44e163e61249:urlshortener - deregister  status: 200
2022-03-12 13:20:50,948 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 13:22:09,051 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:22:09,058 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 13:22:12,098 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:22:13,151 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 13:22:13,155 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:22:14,676 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:22:14,733 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:22:14,734 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=43cb539a354a28dc5966b687f5e22eb486c557d3, state=null
2022-03-12 13:22:15,623 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:22:15,628 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:22:16,000 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 354 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:22:16,413 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:22:16,416 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:22:16,457 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:22:16,459 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2022-03-12 13:22:17,094 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:22:18,770 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:22:18,792 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:22:18,794 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:22:18,795 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:22:18,890 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:22:18,892 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4157 ms
2022-03-12 13:22:21,242 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:22:21,246 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:22:21,329 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:22:21,333 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:22:21,417 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:19}] to mongodb2:27017
2022-03-12 13:22:21,420 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:23}] to mongodb3:27017
2022-03-12 13:22:21,420 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:21}] to mongodb1:27017
2022-03-12 13:22:21,420 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:18}] to mongodb2:27017
2022-03-12 13:22:21,420 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:20}] to mongodb1:27017
2022-03-12 13:22:21,421 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:22}] to mongodb3:27017
2022-03-12 13:22:21,424 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60977900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000020, setVersion=1, topologyVersion=TopologyVersion{processId=622c9e4e96a695071e58f3cb, counter=7}, lastWriteDate=Sat Mar 12 13:22:21 GMT 2022, lastUpdateTimeNanos=463273868131587}
2022-03-12 13:22:21,425 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63383500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c9e4e34e995d7eb31e3e3, counter=5}, lastWriteDate=Sat Mar 12 13:22:21 GMT 2022, lastUpdateTimeNanos=463273870098887}
2022-03-12 13:22:21,432 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62170900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c9e4eda963070efc36649, counter=8}, lastWriteDate=Sat Mar 12 13:22:21 GMT 2022, lastUpdateTimeNanos=463273868781487}
2022-03-12 13:22:21,441 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000020 from replica set primary mongodb1:27017
2022-03-12 13:22:21,442 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:22:21,444 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622c9e8d6e0c632593478e26', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:22:21,538 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:22:21,603 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:22:22,345 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 4e2e4db1-906f-4287-9a15-a7a955a6189e

2022-03-12 13:22:22,608 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7332a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@53a7a60c, org.springframework.security.web.header.HeaderWriterFilter@3ae126d1, org.springframework.security.web.authentication.logout.LogoutFilter@79b2852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a87026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2503ec73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c233af, org.springframework.security.web.session.SessionManagementFilter@43fda8d9, org.springframework.security.web.access.ExceptionTranslationFilter@77f68df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10db6131]
2022-03-12 13:22:24,374 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:22:24,667 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:22:24,732 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:22:24,853 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:22:24,894 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:22:24,958 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:22:24,959 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:22:24,961 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:22:24,962 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:22:24,963 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:22:24,964 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:22:24,966 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:22:25,261 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:22:25,266 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:22:25,273 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:22:25,286 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647091345282 with initial instances count: 0
2022-03-12 13:22:25,300 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:22:25,302 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647091345302, current=UP, previous=STARTING]
2022-03-12 13:22:25,308 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:22:25,311 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2371e6257b06:urlshortener: registering service...
2022-03-12 13:22:25,366 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 13:22:25,370 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 13:22:25,415 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 13:22:25,434 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2371e6257b06:urlshortener - registration status: 204
2022-03-12 13:22:25,443 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 22.266 seconds (JVM running for 64.403)
2022-03-12 13:22:55,231 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Disable delta property : false
2022-03-12 13:22:55,248 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Single vip registry refresh property : null
2022-03-12 13:22:55,250 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Force full registry fetch : false
2022-03-12 13:22:55,253 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application is null : false
2022-03-12 13:22:55,257 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Registered Applications size is zero : true
2022-03-12 13:22:55,258 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application version is -1: false
2022-03-12 13:22:55,261 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Getting all instance registry info from the eureka server
2022-03-12 13:22:55,286 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] The response status is 200
2022-03-12 13:27:24,623 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [AsyncResolver-bootstrap-executor-0] Resolving eureka endpoints via configuration
2022-03-12 13:27:45,440 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 13:27:45,444 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647091665444, current=DOWN, previous=UP]
2022-03-12 13:27:45,446 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2371e6257b06:urlshortener: registering service...
2022-03-12 13:27:45,468 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/2371e6257b06:urlshortener - registration status: 204
2022-03-12 13:27:45,585 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 13:27:48,605 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 13:27:48,645 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/2371e6257b06:urlshortener - deregister  status: 200
2022-03-12 13:27:48,665 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 13:28:42,470 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:28:42,476 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=d6e4ac3a67d85c3fa08d75e39c213be5703a48d2, state=null
2022-03-12 13:28:47,165 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:28:48,438 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=d6e4ac3a67d85c3fa08d75e39c213be5703a48d2, state=null
2022-03-12 13:28:48,447 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:28:51,234 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:28:51,340 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:28:51,343 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=d6e4ac3a67d85c3fa08d75e39c213be5703a48d2, state=null
2022-03-12 13:28:53,044 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:28:53,050 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:28:53,619 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 552 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:28:54,204 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:28:54,208 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:28:54,249 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:28:54,252 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2022-03-12 13:28:55,014 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:28:56,734 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:28:56,760 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:28:56,762 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:28:56,764 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:28:56,885 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:28:56,889 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5544 ms
2022-03-12 13:28:59,450 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:28:59,453 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:28:59,573 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:28:59,546 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:28:59,683 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:18}] to mongodb1:27017
2022-03-12 13:28:59,683 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:19}] to mongodb1:27017
2022-03-12 13:28:59,683 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:15}] to mongodb3:27017
2022-03-12 13:28:59,690 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68038900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000023, setVersion=1, topologyVersion=TopologyVersion{processId=622c9fe6c95f976c52f7e524, counter=7}, lastWriteDate=Sat Mar 12 13:28:58 GMT 2022, lastUpdateTimeNanos=463672616591487}
2022-03-12 13:28:59,682 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:16}] to mongodb3:27017
2022-03-12 13:28:59,683 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:19}] to mongodb2:27017
2022-03-12 13:28:59,680 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:20}] to mongodb2:27017
2022-03-12 13:28:59,692 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68179200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c9fe6ca995d59c4be6353, counter=5}, lastWriteDate=Sat Mar 12 13:28:58 GMT 2022, lastUpdateTimeNanos=463672616599887}
2022-03-12 13:28:59,704 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70206800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622c9fe68e2b9e08c0d7e6dc, counter=8}, lastWriteDate=Sat Mar 12 13:28:58 GMT 2022, lastUpdateTimeNanos=463672617391687}
2022-03-12 13:28:59,708 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000023 from replica set primary mongodb1:27017
2022-03-12 13:28:59,717 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:28:59,719 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca01b9f6ff54356c1acd6', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:28:59,897 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:28:59,993 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:29:01,029 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: d2bfcb72-d4a9-45a2-bcc0-d7c098d45018

2022-03-12 13:29:01,454 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@95eb320, org.springframework.security.web.context.SecurityContextPersistenceFilter@46a488c2, org.springframework.security.web.header.HeaderWriterFilter@4397a639, org.springframework.security.web.authentication.logout.LogoutFilter@7ee8130e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65ddee5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43fda8d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f521c4, org.springframework.security.web.session.SessionManagementFilter@7e7f3cfd, org.springframework.security.web.access.ExceptionTranslationFilter@39bbd9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed34ef5]
2022-03-12 13:29:03,699 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:29:03,993 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:29:04,067 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:29:04,209 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:29:04,228 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:29:04,299 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:29:04,300 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:29:04,302 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:29:04,304 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:29:04,305 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:29:04,305 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:29:04,307 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:29:04,594 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:29:04,599 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:29:04,606 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:29:04,618 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647091744616 with initial instances count: 0
2022-03-12 13:29:04,633 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:29:04,635 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647091744635, current=UP, previous=STARTING]
2022-03-12 13:29:04,641 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:29:04,643 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/ae6d46737595:urlshortener: registering service...
2022-03-12 13:29:04,690 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 13:29:04,693 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 13:29:04,737 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 13:29:04,765 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 41.749 seconds (JVM running for 55.404)
2022-03-12 13:29:04,810 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/ae6d46737595:urlshortener - registration status: 204
2022-03-12 13:29:34,561 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Disable delta property : false
2022-03-12 13:29:34,565 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Single vip registry refresh property : null
2022-03-12 13:29:34,567 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Force full registry fetch : false
2022-03-12 13:29:34,569 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application is null : false
2022-03-12 13:29:34,570 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Registered Applications size is zero : true
2022-03-12 13:29:34,571 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application version is -1: false
2022-03-12 13:29:34,574 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Getting all instance registry info from the eureka server
2022-03-12 13:29:34,602 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] The response status is 200
2022-03-12 13:32:26,795 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 13:32:26,801 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647091946801, current=DOWN, previous=UP]
2022-03-12 13:32:26,805 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/ae6d46737595:urlshortener: registering service...
2022-03-12 13:32:26,819 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/ae6d46737595:urlshortener - registration status: 204
2022-03-12 13:32:26,966 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 13:32:29,939 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 13:32:29,956 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/ae6d46737595:urlshortener - deregister  status: 200
2022-03-12 13:32:29,981 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 13:33:38,331 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:33:38,345 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=53ff52d75f6121850049c2ee19473f23e684c105, state=null
2022-03-12 13:33:44,041 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:33:45,116 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=53ff52d75f6121850049c2ee19473f23e684c105, state=null
2022-03-12 13:33:45,119 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:33:46,363 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:33:46,439 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:33:46,440 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=53ff52d75f6121850049c2ee19473f23e684c105, state=null
2022-03-12 13:33:47,571 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:33:47,574 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:33:48,153 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 561 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:33:48,781 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:33:48,785 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:33:48,827 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:33:48,830 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 13:33:49,630 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:33:51,115 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:33:51,137 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:33:51,139 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:33:51,141 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:33:51,240 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:33:51,243 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4801 ms
2022-03-12 13:33:53,300 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:33:53,303 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:33:53,375 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:33:53,379 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:33:53,464 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:14}] to mongodb2:27017
2022-03-12 13:33:53,468 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:12}] to mongodb3:27017
2022-03-12 13:33:53,469 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:13}] to mongodb2:27017
2022-03-12 13:33:53,473 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61907500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca1104a7a94c5efedc637, counter=4}, lastWriteDate=Sat Mar 12 13:33:46 GMT 2022, lastUpdateTimeNanos=463966706901387}
2022-03-12 13:33:53,468 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:16}] to mongodb1:27017
2022-03-12 13:33:53,464 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:13}] to mongodb3:27017
2022-03-12 13:33:53,472 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56117600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca110a89f6ed30ba9027c, counter=4}, lastWriteDate=Sat Mar 12 13:33:46 GMT 2022, lastUpdateTimeNanos=463966706459587}
2022-03-12 13:33:53,467 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:15}] to mongodb1:27017
2022-03-12 13:33:53,478 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56770300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000025, setVersion=1, topologyVersion=TopologyVersion{processId=622ca11043adbbe4f61091a1, counter=6}, lastWriteDate=Sat Mar 12 13:33:46 GMT 2022, lastUpdateTimeNanos=463966706475987}
2022-03-12 13:33:53,490 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000025 from replica set primary mongodb1:27017
2022-03-12 13:33:53,492 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:33:53,494 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca141b0023240f97f3997', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:33:53,577 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:33:53,662 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:33:54,385 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 36144da8-45d8-4186-87f9-697ba16d7791

2022-03-12 13:33:54,714 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fb2e3fd, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c601d50, org.springframework.security.web.header.HeaderWriterFilter@5e1fc42f, org.springframework.security.web.authentication.logout.LogoutFilter@4fa822ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@326d27ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cc9d3d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43a09ce2, org.springframework.security.web.session.SessionManagementFilter@285c6918, org.springframework.security.web.access.ExceptionTranslationFilter@600f5704, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48f4713c]
2022-03-12 13:33:56,381 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:33:56,633 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:33:56,689 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:33:56,791 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:33:56,804 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:33:56,872 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:33:56,873 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:33:56,874 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:33:56,875 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:33:56,876 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:33:56,877 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:33:56,878 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:33:57,107 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:33:57,113 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:33:57,119 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:33:57,128 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647092037126 with initial instances count: 0
2022-03-12 13:33:57,142 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:33:57,144 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647092037144, current=UP, previous=STARTING]
2022-03-12 13:33:57,148 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:33:57,151 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/a7dcadbeb470:urlshortener: registering service...
2022-03-12 13:33:57,185 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 13:33:57,188 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 13:33:57,224 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 13:33:57,250 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 33.702 seconds (JVM running for 50.337)
2022-03-12 13:33:57,312 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/a7dcadbeb470:urlshortener - registration status: 204
2022-03-12 13:34:27,082 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Disable delta property : false
2022-03-12 13:34:27,086 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Single vip registry refresh property : null
2022-03-12 13:34:27,088 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Force full registry fetch : false
2022-03-12 13:34:27,089 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application is null : false
2022-03-12 13:34:27,090 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Registered Applications size is zero : true
2022-03-12 13:34:27,091 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application version is -1: false
2022-03-12 13:34:27,093 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Getting all instance registry info from the eureka server
2022-03-12 13:34:27,119 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] The response status is 200
2022-03-12 13:35:34,438 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-03-12 13:35:34,442 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2022-03-12 13:35:34,446 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2022-03-12 13:35:44,836 INFO org.mongodb.driver.connection [http-nio-8080-exec-2] Opened connection [connectionId{localValue:7, serverValue:17}] to mongodb1:27017
2022-03-12 13:37:24,824 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 13:37:24,834 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647092244834, current=DOWN, previous=UP]
2022-03-12 13:37:24,838 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/a7dcadbeb470:urlshortener: registering service...
2022-03-12 13:37:24,864 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/a7dcadbeb470:urlshortener - registration status: 204
2022-03-12 13:37:24,979 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 13:37:27,986 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 13:37:27,987 WARN com.netflix.discovery.TimedSupervisorTask [DiscoveryClient-0] task supervisor shutting down, can't accept the task
2022-03-12 13:37:28,000 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/a7dcadbeb470:urlshortener - deregister  status: 200
2022-03-12 13:37:28,016 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 13:39:07,917 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:39:07,924 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:39:10,858 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:39:12,042 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:39:12,046 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:39:13,217 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:39:13,273 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:39:13,274 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:39:14,110 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:39:14,113 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:39:14,565 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 435 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:39:14,952 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:39:14,956 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:39:14,981 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:39:14,983 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2022-03-12 13:39:15,544 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:39:16,934 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:39:16,963 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:39:16,965 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:39:16,967 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:39:17,077 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:39:17,080 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3804 ms
2022-03-12 13:39:19,154 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:39:19,157 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:39:19,235 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:39:19,238 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:39:19,344 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:17}] to mongodb1:27017
2022-03-12 13:39:19,347 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:15}] to mongodb2:27017
2022-03-12 13:39:19,346 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:14}] to mongodb2:27017
2022-03-12 13:39:19,353 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:14}] to mongodb3:27017
2022-03-12 13:39:19,357 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=73586000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca249a69c050d9d375ea2, counter=4}, lastWriteDate=Sat Mar 12 13:39:09 GMT 2022, lastUpdateTimeNanos=464292969068187}
2022-03-12 13:39:19,344 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:16}] to mongodb1:27017
2022-03-12 13:39:19,347 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:15}] to mongodb3:27017
2022-03-12 13:39:19,357 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=73713000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000027, setVersion=1, topologyVersion=TopologyVersion{processId=622ca2495c79871466d19baa, counter=6}, lastWriteDate=Sat Mar 12 13:39:09 GMT 2022, lastUpdateTimeNanos=464292968943887}
2022-03-12 13:39:19,369 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70704200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca249fe20a1ccbcb40c04, counter=4}, lastWriteDate=Sat Mar 12 13:39:09 GMT 2022, lastUpdateTimeNanos=464292969088687}
2022-03-12 13:39:19,382 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000027 from replica set primary mongodb1:27017
2022-03-12 13:39:19,383 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:39:19,385 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca28740394218e5f9a4ae', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:39:19,496 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:39:19,563 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:39:20,246 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: a441dc2c-1c79-4639-9bf1-fee0c83f26fb

2022-03-12 13:39:20,549 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@95eb320, org.springframework.security.web.context.SecurityContextPersistenceFilter@46a488c2, org.springframework.security.web.header.HeaderWriterFilter@4397a639, org.springframework.security.web.authentication.logout.LogoutFilter@7ee8130e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65ddee5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43fda8d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f521c4, org.springframework.security.web.session.SessionManagementFilter@7e7f3cfd, org.springframework.security.web.access.ExceptionTranslationFilter@39bbd9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed34ef5]
2022-03-12 13:39:22,612 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:39:22,912 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:39:22,977 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:39:23,095 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:39:23,112 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:39:23,180 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:39:23,181 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:39:23,183 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:39:23,184 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:39:23,186 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:39:23,186 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:39:23,188 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:39:23,659 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:39:23,672 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:39:23,685 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:39:23,709 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647092363702 with initial instances count: 0
2022-03-12 13:39:23,736 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:39:23,739 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647092363739, current=UP, previous=STARTING]
2022-03-12 13:39:23,748 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:39:23,747 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/81962b20a2df:urlshortener: registering service...
2022-03-12 13:39:23,826 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-03-12 13:39:23,835 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration [main] Updating port to 8080
2022-03-12 13:39:23,923 INFO org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor [main] No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2022-03-12 13:39:23,964 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/81962b20a2df:urlshortener - registration status: 204
2022-03-12 13:39:23,988 INFO com.urlshortener.UrlshortenerApplication [main] Started UrlshortenerApplication in 21.582 seconds (JVM running for 63.688)
2022-03-12 13:39:53,643 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Disable delta property : false
2022-03-12 13:39:53,647 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Single vip registry refresh property : null
2022-03-12 13:39:53,649 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Force full registry fetch : false
2022-03-12 13:39:53,650 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application is null : false
2022-03-12 13:39:53,651 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Registered Applications size is zero : true
2022-03-12 13:39:53,653 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Application version is -1: false
2022-03-12 13:39:53,655 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] Getting all instance registry info from the eureka server
2022-03-12 13:39:53,680 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-CacheRefreshExecutor-0] The response status is 200
2022-03-12 13:42:13,139 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [SpringApplicationShutdownHook] Unregistering application URLSHORTENER with eureka with status DOWN
2022-03-12 13:42:13,142 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Saw local status change event StatusChangeEvent [timestamp=1647092533142, current=DOWN, previous=UP]
2022-03-12 13:42:13,146 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/81962b20a2df:urlshortener: registering service...
2022-03-12 13:42:13,159 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/81962b20a2df:urlshortener - registration status: 204
2022-03-12 13:42:13,275 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Shutting down DiscoveryClient ...
2022-03-12 13:42:16,282 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Unregistering ...
2022-03-12 13:42:16,300 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] DiscoveryClient_URLSHORTENER/81962b20a2df:urlshortener - deregister  status: 200
2022-03-12 13:42:16,316 INFO com.netflix.discovery.DiscoveryClient [SpringApplicationShutdownHook] Completed shut down of DiscoveryClient
2022-03-12 13:47:36,036 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:47:36,054 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:47:40,969 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:47:42,091 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:47:42,096 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:47:43,245 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:47:43,352 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:47:43,353 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:47:45,551 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:47:45,557 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:47:46,752 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1175 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:47:47,680 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:47:47,686 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:47:47,737 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:47:47,739 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2022-03-12 13:47:48,998 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:47:52,174 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:47:52,208 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:47:52,211 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:47:52,213 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:47:52,384 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:47:52,386 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 9031 ms
2022-03-12 13:47:57,429 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:47:57,433 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:47:57,842 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:47:57,852 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:47:58,073 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:13}] to mongodb2:27017
2022-03-12 13:47:58,071 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:17}] to mongodb1:27017
2022-03-12 13:47:58,072 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:15}] to mongodb3:27017
2022-03-12 13:47:58,072 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:14}] to mongodb3:27017
2022-03-12 13:47:58,073 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:12}] to mongodb2:27017
2022-03-12 13:47:58,073 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:16}] to mongodb1:27017
2022-03-12 13:47:58,092 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=158044200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:47:55 GMT 2022, lastUpdateTimeNanos=464812284583787}
2022-03-12 13:47:58,106 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=158976100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:47:55 GMT 2022, lastUpdateTimeNanos=464812285509787}
2022-03-12 13:47:58,107 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=159356800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:47:55 GMT 2022, lastUpdateTimeNanos=464812286236187}
2022-03-12 13:47:58,130 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:47:58,132 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:47:58,139 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca48dd4e6104324816422', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:47:58,475 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:47:58,642 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:48:00,650 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 5841bdef-8106-4db2-9adb-234ee2b7e206

2022-03-12 13:48:01,788 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 13:48:07,717 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:48:08,642 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:48:08,776 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:48:09,089 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:48:09,123 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:48:09,278 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:48:09,279 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:48:09,281 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:48:09,282 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:48:09,285 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:48:09,286 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:48:09,288 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:48:09,971 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:48:09,981 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:48:09,991 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:48:10,017 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647092890015 with initial instances count: 2
2022-03-12 13:48:10,043 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:48:10,047 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647092890047, current=UP, previous=STARTING]
2022-03-12 13:48:10,058 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:10,063 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:48:10,080 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:48:10,120 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:48:10,291 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:48:10,296 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:48:10,317 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:48:10,325 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:48:10,329 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:10,331 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:48:10,351 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:10,354 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:10,373 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:48:10,437 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:48:18,339 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:48:18,344 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:48:21,099 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:48:22,136 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:48:22,140 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:48:23,260 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:48:23,297 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:48:23,298 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:48:23,900 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:48:23,903 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:48:24,269 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 356 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:48:24,620 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:48:24,624 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:48:24,666 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:48:24,668 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 13:48:25,180 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:48:26,248 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:48:26,268 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:26,270 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:48:26,271 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:48:26,351 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:48:26,353 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3054 ms
2022-03-12 13:48:27,941 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:48:27,944 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:48:28,046 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:48:28,049 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:48:28,127 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:17}] to mongodb3:27017
2022-03-12 13:48:28,126 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:15}] to mongodb2:27017
2022-03-12 13:48:28,126 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:14}] to mongodb2:27017
2022-03-12 13:48:28,126 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:18}] to mongodb1:27017
2022-03-12 13:48:28,127 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:19}] to mongodb1:27017
2022-03-12 13:48:28,126 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:16}] to mongodb3:27017
2022-03-12 13:48:28,137 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=59159100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:48:25 GMT 2022, lastUpdateTimeNanos=464842376983587}
2022-03-12 13:48:28,140 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=58790000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:48:25 GMT 2022, lastUpdateTimeNanos=464842377110887}
2022-03-12 13:48:28,146 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=59051600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:48:25 GMT 2022, lastUpdateTimeNanos=464842377203787}
2022-03-12 13:48:28,158 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:48:28,160 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:48:28,163 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4abb9a92255d2f15ea0', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:48:28,267 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:48:28,327 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:48:29,348 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 85dfff5c-61ab-4ebd-a052-0cf72cbc79c0

2022-03-12 13:48:30,169 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@380e1909, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e7f3cfd, org.springframework.security.web.header.HeaderWriterFilter@27fe9713, org.springframework.security.web.authentication.logout.LogoutFilter@5e1fc42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a488c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56399b9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d5ef498, org.springframework.security.web.session.SessionManagementFilter@77f68df, org.springframework.security.web.access.ExceptionTranslationFilter@32b0876c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e58ca]
2022-03-12 13:48:33,165 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:48:33,715 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:48:33,816 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:48:34,159 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:48:34,197 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:48:34,414 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:48:34,420 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:48:34,426 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:48:34,430 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:48:34,433 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:48:34,436 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:48:34,441 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:48:35,164 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:48:35,173 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:48:35,182 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:48:35,199 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647092915197 with initial instances count: 2
2022-03-12 13:48:35,210 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:48:35,213 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647092915213, current=UP, previous=STARTING]
2022-03-12 13:48:35,217 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:35,224 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:48:35,227 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:48:35,265 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:48:35,446 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:48:35,451 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:48:35,463 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:48:35,472 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:48:35,475 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:35,477 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:48:35,492 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:35,495 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:35,507 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:48:35,568 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:48:42,448 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:48:42,453 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:48:45,510 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:48:46,561 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:48:46,564 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:48:47,679 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:48:47,736 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:48:47,738 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:48:48,406 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:48:48,408 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:48:48,820 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 402 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:48:49,254 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:48:49,260 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:48:49,301 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:48:49,304 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 13:48:49,892 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:48:51,050 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:48:51,069 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:51,071 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:48:51,072 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:48:51,155 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:48:51,157 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3416 ms
2022-03-12 13:48:52,856 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:48:52,859 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:48:52,913 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:48:52,916 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:48:52,979 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:21}] to mongodb1:27017
2022-03-12 13:48:52,979 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:16}] to mongodb2:27017
2022-03-12 13:48:52,982 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:19}] to mongodb3:27017
2022-03-12 13:48:52,979 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:18}] to mongodb3:27017
2022-03-12 13:48:52,982 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:17}] to mongodb2:27017
2022-03-12 13:48:52,979 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:20}] to mongodb1:27017
2022-03-12 13:48:52,989 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53153600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:48:45 GMT 2022, lastUpdateTimeNanos=464867269488687}
2022-03-12 13:48:52,989 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46845500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:48:45 GMT 2022, lastUpdateTimeNanos=464867265006687}
2022-03-12 13:48:52,990 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48669500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:48:45 GMT 2022, lastUpdateTimeNanos=464867265006687}
2022-03-12 13:48:52,996 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:48:52,997 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:48:52,999 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4c469d290261dc1f325', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:48:53,049 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:48:53,116 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:48:53,832 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 73fb2670-e1ab-408a-9049-b92d781bf551

2022-03-12 13:48:54,055 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 13:48:55,619 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:48:55,866 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:48:55,927 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:48:56,010 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:48:56,023 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:48:56,072 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:48:56,073 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:48:56,075 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:48:56,076 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:48:56,077 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:48:56,078 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:48:56,080 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:48:56,257 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:48:56,263 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:48:56,267 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:48:56,276 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647092936274 with initial instances count: 2
2022-03-12 13:48:56,288 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:48:56,290 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647092936290, current=UP, previous=STARTING]
2022-03-12 13:48:56,295 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:56,296 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:48:56,309 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:48:56,333 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:48:56,375 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:48:56,379 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:48:56,389 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:48:56,445 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:48:56,448 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:56,451 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:48:56,461 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:56,463 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:48:56,475 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:48:56,509 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:49:03,976 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:03,982 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:07,316 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:08,463 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:08,468 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:49:09,742 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:49:09,805 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:09,809 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:10,688 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:49:10,693 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:49:11,156 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 450 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:49:11,618 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:49:11,626 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:49:11,667 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:49:11,669 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2022-03-12 13:49:12,341 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:49:13,692 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:49:13,712 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:13,714 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:49:13,716 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:49:13,799 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:49:13,801 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3989 ms
2022-03-12 13:49:15,858 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:49:15,863 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:49:15,989 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:49:15,996 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:49:16,101 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:18}] to mongodb2:27017
2022-03-12 13:49:16,100 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:22}] to mongodb1:27017
2022-03-12 13:49:16,104 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:20}] to mongodb3:27017
2022-03-12 13:49:16,098 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:21}] to mongodb3:27017
2022-03-12 13:49:16,107 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=67563900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:49:15 GMT 2022, lastUpdateTimeNanos=464890423507887}
2022-03-12 13:49:16,101 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:23}] to mongodb1:27017
2022-03-12 13:49:16,100 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:19}] to mongodb2:27017
2022-03-12 13:49:16,116 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=57839800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:49:15 GMT 2022, lastUpdateTimeNanos=464890418740687}
2022-03-12 13:49:16,116 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66986300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:49:15 GMT 2022, lastUpdateTimeNanos=464890423855687}
2022-03-12 13:49:16,124 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:49:16,125 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:49:16,128 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4db60569f0393ba0604', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:49:16,218 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:49:16,317 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:49:17,071 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: d4b59a24-fa88-4c94-a24a-6a43f97bd4e6

2022-03-12 13:49:17,342 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 13:49:19,310 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:49:19,638 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:49:19,711 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:49:19,848 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:49:19,870 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:49:19,939 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:49:19,941 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:49:19,945 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:49:19,946 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:49:19,949 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:49:19,950 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:49:19,953 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:49:20,206 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:49:20,212 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:49:20,218 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:49:20,231 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647092960229 with initial instances count: 2
2022-03-12 13:49:20,248 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:49:20,251 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647092960251, current=UP, previous=STARTING]
2022-03-12 13:49:20,257 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:20,259 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:49:20,272 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:49:20,301 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:49:20,375 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:49:20,383 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:49:20,396 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:49:20,407 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:49:20,410 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:20,414 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:49:20,424 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:20,428 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:20,442 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:49:20,482 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:49:28,165 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:28,170 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:31,583 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:32,640 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:32,643 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:49:33,749 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:49:33,791 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:33,792 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:34,417 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:49:34,420 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:49:34,746 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 317 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:49:35,061 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:49:35,064 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:49:35,094 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:49:35,096 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 13:49:35,620 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:49:36,789 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:49:36,808 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:36,810 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:49:36,811 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:49:36,888 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:49:36,890 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3097 ms
2022-03-12 13:49:38,629 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:49:38,631 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:49:38,700 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:49:38,703 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:49:38,784 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:25}] to mongodb1:27017
2022-03-12 13:49:38,781 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:20}] to mongodb2:27017
2022-03-12 13:49:38,781 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:21}] to mongodb2:27017
2022-03-12 13:49:38,781 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:24}] to mongodb1:27017
2022-03-12 13:49:38,781 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:23}] to mongodb3:27017
2022-03-12 13:49:38,781 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:22}] to mongodb3:27017
2022-03-12 13:49:38,788 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51950300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:49:35 GMT 2022, lastUpdateTimeNanos=464913141057087}
2022-03-12 13:49:38,790 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61264800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:49:35 GMT 2022, lastUpdateTimeNanos=464913140389187}
2022-03-12 13:49:38,792 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51097700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:49:35 GMT 2022, lastUpdateTimeNanos=464913140290087}
2022-03-12 13:49:38,806 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:49:38,807 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:49:38,809 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca4f2a53e5c575298318d', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:49:38,878 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:49:38,923 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:49:39,494 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 45f98b88-1e0f-4141-99c3-00a4d9e3c940

2022-03-12 13:49:39,719 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b34832b, org.springframework.security.web.context.SecurityContextPersistenceFilter@6296474f, org.springframework.security.web.header.HeaderWriterFilter@6a87026, org.springframework.security.web.authentication.logout.LogoutFilter@404db674, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@169268a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c601d50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48f4713c, org.springframework.security.web.session.SessionManagementFilter@44b21f9f, org.springframework.security.web.access.ExceptionTranslationFilter@49d831c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fe64d23]
2022-03-12 13:49:41,231 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:49:41,519 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:49:41,581 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:49:41,662 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:49:41,674 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:49:41,721 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:49:41,722 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:49:41,724 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:49:41,725 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:49:41,726 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:49:41,726 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:49:41,727 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:49:41,923 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:49:41,929 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:49:41,935 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:49:41,946 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647092981944 with initial instances count: 2
2022-03-12 13:49:41,962 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:49:41,965 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647092981965, current=UP, previous=STARTING]
2022-03-12 13:49:41,969 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:41,972 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:49:41,983 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:49:42,009 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:49:42,092 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:49:42,102 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:49:42,116 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:49:42,127 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:49:42,131 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:42,135 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:49:42,150 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:42,153 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:42,171 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:49:42,227 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:49:48,996 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:49,001 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:52,144 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:53,377 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:53,381 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:49:54,705 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:49:54,747 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:49:54,749 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:49:55,550 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:49:55,554 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:49:55,872 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 309 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:49:56,207 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:49:56,210 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:49:56,241 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:49:56,243 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 13:49:56,855 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:49:58,052 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:49:58,071 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:49:58,073 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:49:58,074 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:49:58,153 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:49:58,155 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3405 ms
2022-03-12 13:49:59,826 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:49:59,828 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:49:59,894 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:49:59,898 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:49:59,959 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:27}] to mongodb1:27017
2022-03-12 13:49:59,959 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:24}] to mongodb3:27017
2022-03-12 13:49:59,962 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:23}] to mongodb2:27017
2022-03-12 13:49:59,960 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:25}] to mongodb3:27017
2022-03-12 13:49:59,962 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:22}] to mongodb2:27017
2022-03-12 13:49:59,959 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:26}] to mongodb1:27017
2022-03-12 13:49:59,967 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44183400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:49:55 GMT 2022, lastUpdateTimeNanos=464934349520487}
2022-03-12 13:49:59,969 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44613700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:49:55 GMT 2022, lastUpdateTimeNanos=464934349700587}
2022-03-12 13:49:59,972 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44108800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:49:55 GMT 2022, lastUpdateTimeNanos=464934349520487}
2022-03-12 13:49:59,983 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:49:59,984 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:49:59,986 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca507e00fdf37df5f4947', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:50:00,076 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:50:00,167 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:50:00,794 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 63ae7284-8d49-43fa-a21c-ec675aebaef5

2022-03-12 13:50:01,022 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5399f6c5, org.springframework.security.web.context.SecurityContextPersistenceFilter@2503ec73, org.springframework.security.web.header.HeaderWriterFilter@34b9eb03, org.springframework.security.web.authentication.logout.LogoutFilter@7c2dfa2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e1fc42f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6296474f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe64d23, org.springframework.security.web.session.SessionManagementFilter@ef60710, org.springframework.security.web.access.ExceptionTranslationFilter@6242ae3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77c233af]
2022-03-12 13:50:02,872 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:50:03,183 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:50:03,244 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:50:03,393 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:50:03,461 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:50:03,551 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:50:03,552 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:50:03,555 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:50:03,557 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:50:03,558 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:50:03,559 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:50:03,562 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:50:03,865 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:50:03,874 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:50:03,882 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:50:03,895 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093003893 with initial instances count: 2
2022-03-12 13:50:03,912 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:50:03,916 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093003916, current=UP, previous=STARTING]
2022-03-12 13:50:03,925 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:03,927 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:50:03,944 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:50:03,979 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:50:04,047 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:50:04,055 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:50:04,066 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:50:04,079 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:50:04,084 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:04,087 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:50:04,100 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:04,103 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:04,117 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:50:04,159 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:50:11,716 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:11,721 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:14,782 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:15,834 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:15,837 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:50:17,034 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:50:17,072 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:17,074 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:18,035 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:50:18,039 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:50:18,484 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 434 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:50:18,868 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:50:18,873 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:50:18,930 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:50:18,933 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2022-03-12 13:50:19,664 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:50:21,200 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:50:21,224 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:21,228 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:50:21,229 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:50:21,320 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:50:21,322 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4247 ms
2022-03-12 13:50:22,898 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:50:22,900 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:50:22,982 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:50:22,986 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:50:23,059 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:26}] to mongodb3:27017
2022-03-12 13:50:23,061 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:29}] to mongodb1:27017
2022-03-12 13:50:23,059 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:28}] to mongodb1:27017
2022-03-12 13:50:23,062 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:25}] to mongodb2:27017
2022-03-12 13:50:23,062 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:24}] to mongodb2:27017
2022-03-12 13:50:23,062 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:27}] to mongodb3:27017
2022-03-12 13:50:23,067 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51470500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:50:15 GMT 2022, lastUpdateTimeNanos=464957453353887}
2022-03-12 13:50:23,068 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46468600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:50:15 GMT 2022, lastUpdateTimeNanos=464957449009887}
2022-03-12 13:50:23,069 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48668900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:50:15 GMT 2022, lastUpdateTimeNanos=464957449009887}
2022-03-12 13:50:23,080 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:50:23,081 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:50:23,084 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca51e6900c5418a2026ce', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:50:23,157 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:50:23,225 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:50:23,774 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: fbebdbed-0373-49b2-b06d-38dd81141e48

2022-03-12 13:50:23,960 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7332a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@53a7a60c, org.springframework.security.web.header.HeaderWriterFilter@3ae126d1, org.springframework.security.web.authentication.logout.LogoutFilter@79b2852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a87026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2503ec73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c233af, org.springframework.security.web.session.SessionManagementFilter@43fda8d9, org.springframework.security.web.access.ExceptionTranslationFilter@77f68df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10db6131]
2022-03-12 13:50:25,418 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:50:25,693 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:50:25,776 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:50:25,877 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:50:25,892 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:50:25,945 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:50:25,946 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:50:25,949 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:50:25,950 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:50:25,951 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:50:25,952 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:50:25,954 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:50:26,161 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:50:26,168 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:50:26,174 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:50:26,183 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093026181 with initial instances count: 2
2022-03-12 13:50:26,197 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:50:26,199 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093026199, current=UP, previous=STARTING]
2022-03-12 13:50:26,203 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:26,207 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:50:26,217 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:50:26,243 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:50:26,320 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:50:26,330 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:50:26,345 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:50:26,354 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:50:26,357 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:26,359 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:50:26,370 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:26,372 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:26,386 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:50:26,421 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:50:33,762 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:33,768 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:36,523 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:37,729 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:37,733 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:50:38,900 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:50:38,956 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:38,958 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:39,699 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:50:39,703 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:50:40,395 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 682 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:50:40,953 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:50:40,958 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:50:40,996 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:50:40,999 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2022-03-12 13:50:41,615 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:50:43,286 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:50:43,304 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:43,305 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:50:43,306 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:50:43,382 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:50:43,385 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4426 ms
2022-03-12 13:50:44,977 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:50:44,979 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:50:45,051 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:50:45,060 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:50:45,123 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:30}] to mongodb1:27017
2022-03-12 13:50:45,125 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:29}] to mongodb3:27017
2022-03-12 13:50:45,124 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:26}] to mongodb2:27017
2022-03-12 13:50:45,133 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48485200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:50:45 GMT 2022, lastUpdateTimeNanos=464979547490987}
2022-03-12 13:50:45,130 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:31}] to mongodb1:27017
2022-03-12 13:50:45,130 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:27}] to mongodb2:27017
2022-03-12 13:50:45,136 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46424200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:50:45 GMT 2022, lastUpdateTimeNanos=464979547490987}
2022-03-12 13:50:45,138 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:28}] to mongodb3:27017
2022-03-12 13:50:45,140 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49627700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:50:45 GMT 2022, lastUpdateTimeNanos=464979548644187}
2022-03-12 13:50:45,162 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:50:45,166 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:50:45,168 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5346545e84e1e012ce1', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:50:45,264 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:50:45,330 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:50:45,927 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 113a5a62-715f-46cf-97b3-8cb5f870a5ad

2022-03-12 13:50:46,153 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d5ef498, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ae126d1, org.springframework.security.web.header.HeaderWriterFilter@11c3ff67, org.springframework.security.web.authentication.logout.LogoutFilter@44b21f9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6242ae3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b9eb03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95eb320, org.springframework.security.web.session.SessionManagementFilter@3e4e4c1, org.springframework.security.web.access.ExceptionTranslationFilter@2aaf152b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f847af]
2022-03-12 13:50:47,737 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:50:47,974 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:50:48,051 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:50:48,136 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:50:48,148 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:50:48,198 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:50:48,199 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:50:48,201 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:50:48,202 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:50:48,203 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:50:48,204 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:50:48,206 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:50:48,406 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:50:48,413 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:50:48,418 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:50:48,428 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093048426 with initial instances count: 2
2022-03-12 13:50:48,442 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:50:48,444 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093048444, current=UP, previous=STARTING]
2022-03-12 13:50:48,449 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:48,450 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:50:48,462 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:50:48,486 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:50:48,530 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:50:48,535 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:50:48,544 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:50:48,555 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:50:48,558 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:48,560 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:50:48,571 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:48,574 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:50:48,587 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:50:48,656 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:50:55,612 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:55,617 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:58,500 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:50:59,620 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:50:59,624 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:51:00,962 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:51:01,057 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:51:01,060 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:51:02,196 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:51:02,203 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:51:02,764 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 542 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:51:03,429 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:51:03,436 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:51:03,477 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:51:03,478 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 13:51:04,643 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:51:06,298 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:51:06,324 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:06,329 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:51:06,333 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:51:06,478 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:51:06,495 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5431 ms
2022-03-12 13:51:08,262 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:51:08,265 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:51:08,351 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:51:08,355 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:51:08,424 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:29}] to mongodb2:27017
2022-03-12 13:51:08,423 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:30}] to mongodb3:27017
2022-03-12 13:51:08,423 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:28}] to mongodb2:27017
2022-03-12 13:51:08,424 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:33}] to mongodb1:27017
2022-03-12 13:51:08,424 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:31}] to mongodb3:27017
2022-03-12 13:51:08,423 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:32}] to mongodb1:27017
2022-03-12 13:51:08,438 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47794100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:51:05 GMT 2022, lastUpdateTimeNanos=465002894967587}
2022-03-12 13:51:08,440 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47924200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:51:05 GMT 2022, lastUpdateTimeNanos=465002894967587}
2022-03-12 13:51:08,438 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46735900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:51:05 GMT 2022, lastUpdateTimeNanos=465002895186887}
2022-03-12 13:51:08,448 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:51:08,449 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:51:08,451 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca54c58ff9f0c5efd14f3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:51:08,526 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:51:08,595 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:51:09,229 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f1c191ef-faab-441e-b945-8297ba383594

2022-03-12 13:51:09,475 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57f847af, org.springframework.security.web.context.SecurityContextPersistenceFilter@79a7bfbc, org.springframework.security.web.header.HeaderWriterFilter@32b0876c, org.springframework.security.web.authentication.logout.LogoutFilter@600f5704, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4e4c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46a488c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed34ef5, org.springframework.security.web.session.SessionManagementFilter@24841372, org.springframework.security.web.access.ExceptionTranslationFilter@441b8382, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@303f1234]
2022-03-12 13:51:11,220 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:51:11,497 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:51:11,564 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:51:11,663 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:51:11,676 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:51:11,734 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:51:11,735 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:51:11,739 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:51:11,740 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:51:11,741 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:51:11,742 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:51:11,743 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:51:11,932 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:51:11,938 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:51:11,943 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:51:11,953 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093071951 with initial instances count: 2
2022-03-12 13:51:11,967 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:51:11,969 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093071969, current=UP, previous=STARTING]
2022-03-12 13:51:11,975 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:11,976 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:51:12,004 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:51:12,033 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:51:12,112 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:51:12,118 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:51:12,131 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:51:12,142 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:51:12,146 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:12,149 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:51:12,162 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:12,165 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:12,180 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:51:12,227 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:51:20,632 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:51:20,637 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:51:23,728 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:51:24,745 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:51:24,752 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:51:26,055 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:51:26,102 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:51:26,104 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:51:26,816 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:51:26,819 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:51:27,172 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 343 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:51:27,552 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:51:27,555 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:51:27,594 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:51:27,596 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2022-03-12 13:51:28,199 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:51:29,616 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:51:29,638 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:29,642 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:51:29,644 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:51:29,735 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:51:29,737 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3631 ms
2022-03-12 13:51:31,756 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:51:31,758 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:51:31,814 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:51:31,820 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:51:31,882 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:34}] to mongodb1:27017
2022-03-12 13:51:31,881 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:30}] to mongodb2:27017
2022-03-12 13:51:31,882 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:35}] to mongodb1:27017
2022-03-12 13:51:31,880 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:33}] to mongodb3:27017
2022-03-12 13:51:31,882 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:32}] to mongodb3:27017
2022-03-12 13:51:31,880 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:31}] to mongodb2:27017
2022-03-12 13:51:31,890 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43569300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:51:25 GMT 2022, lastUpdateTimeNanos=465026392167887}
2022-03-12 13:51:31,890 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39828700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:51:25 GMT 2022, lastUpdateTimeNanos=465026392167887}
2022-03-12 13:51:31,890 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43296900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:51:25 GMT 2022, lastUpdateTimeNanos=465026392312787}
2022-03-12 13:51:31,899 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:51:31,902 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:51:31,904 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5637210cf6e45e18e77', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:51:31,968 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:51:32,035 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:51:32,621 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 4e7bbc8c-9b37-4a2f-baec-ad88d10773d1

2022-03-12 13:51:32,844 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 13:51:34,798 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:51:35,120 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:51:35,193 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:51:35,285 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:51:35,304 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:51:35,372 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:51:35,374 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:51:35,376 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:51:35,377 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:51:35,379 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:51:35,380 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:51:35,383 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:51:35,596 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:51:35,603 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:51:35,609 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:51:35,619 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093095617 with initial instances count: 2
2022-03-12 13:51:35,661 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:51:35,663 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093095663, current=UP, previous=STARTING]
2022-03-12 13:51:35,668 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:35,670 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:51:35,683 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:51:35,708 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:51:35,775 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:51:35,780 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:51:35,792 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:51:35,804 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:51:35,807 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:35,809 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:51:35,822 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:35,827 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:35,842 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:51:35,885 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:51:42,790 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:51:42,795 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:51:45,655 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:51:46,717 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:51:46,720 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:51:47,890 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:51:47,945 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:51:47,947 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:51:48,775 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:51:48,779 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:51:49,130 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 341 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:51:49,486 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:51:49,489 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:51:49,520 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:51:49,522 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 13:51:50,115 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:51:51,626 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:51:51,646 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:51,648 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:51:51,650 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:51:51,734 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:51:51,736 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3787 ms
2022-03-12 13:51:53,441 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:51:53,443 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:51:53,499 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:51:53,502 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:51:53,555 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:37}] to mongodb1:27017
2022-03-12 13:51:53,555 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:33}] to mongodb2:27017
2022-03-12 13:51:53,555 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:36}] to mongodb1:27017
2022-03-12 13:51:53,559 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:35}] to mongodb3:27017
2022-03-12 13:51:53,556 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:32}] to mongodb2:27017
2022-03-12 13:51:53,560 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:34}] to mongodb3:27017
2022-03-12 13:51:53,566 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=37046300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:51:45 GMT 2022, lastUpdateTimeNanos=465048067000487}
2022-03-12 13:51:53,567 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=37153700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:51:45 GMT 2022, lastUpdateTimeNanos=465048067000487}
2022-03-12 13:51:53,571 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=41478600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:51:45 GMT 2022, lastUpdateTimeNanos=465048073092787}
2022-03-12 13:51:53,576 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:51:53,577 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:51:53,579 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5791e91af44603c9386', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:51:53,643 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:51:53,705 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:51:54,300 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3502cff5-dfb3-4e2b-ab82-0d9bad68132a

2022-03-12 13:51:54,510 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 13:51:56,156 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:51:56,415 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:51:56,481 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:51:56,570 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:51:56,584 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:51:56,637 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:51:56,639 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:51:56,641 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:51:56,641 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:51:56,642 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:51:56,643 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:51:56,645 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:51:56,868 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:51:56,875 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:51:56,880 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:51:56,890 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093116888 with initial instances count: 2
2022-03-12 13:51:56,905 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:51:56,907 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093116907, current=UP, previous=STARTING]
2022-03-12 13:51:56,912 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:56,913 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:51:56,932 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:51:56,973 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:51:57,029 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:51:57,033 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:51:57,042 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:51:57,052 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:51:57,055 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:57,057 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:51:57,067 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:57,070 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:51:57,083 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:51:57,118 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:52:03,985 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:03,992 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:06,933 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:07,988 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:07,992 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:52:09,191 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:52:09,248 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:09,249 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:10,006 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:52:10,009 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:52:10,395 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 375 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:52:10,763 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:52:10,767 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:52:10,799 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:52:10,802 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 13:52:11,579 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:52:12,888 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:52:12,905 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:12,907 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:52:12,908 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:52:12,987 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:52:12,990 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3739 ms
2022-03-12 13:52:14,841 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:52:14,844 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:52:14,921 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:52:14,924 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:52:15,001 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:48}] to mongodb3:27017
2022-03-12 13:52:15,007 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:46}] to mongodb1:27017
2022-03-12 13:52:15,008 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:47}] to mongodb2:27017
2022-03-12 13:52:15,009 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:46}] to mongodb2:27017
2022-03-12 13:52:15,009 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:47}] to mongodb1:27017
2022-03-12 13:52:15,009 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:49}] to mongodb3:27017
2022-03-12 13:52:15,013 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55951100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:52:05 GMT 2022, lastUpdateTimeNanos=465069547876887}
2022-03-12 13:52:15,017 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66229700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:52:05 GMT 2022, lastUpdateTimeNanos=465069557144487}
2022-03-12 13:52:15,023 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63140700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:52:05 GMT 2022, lastUpdateTimeNanos=465069558107187}
2022-03-12 13:52:15,037 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:52:15,038 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:52:15,040 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca58e9d7d7761edea723c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:52:15,105 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:52:15,174 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:52:16,542 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e5cda34c-c480-493f-ba3c-48d7e5335f2f

2022-03-12 13:52:17,713 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c41ec0, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef60710, org.springframework.security.web.header.HeaderWriterFilter@65ddee5a, org.springframework.security.web.authentication.logout.LogoutFilter@313f8301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2503ec73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44b21f9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a0e495, org.springframework.security.web.session.SessionManagementFilter@28bdbe88, org.springframework.security.web.access.ExceptionTranslationFilter@3ae126d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@506a1372]
2022-03-12 13:52:21,423 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:52:21,741 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:52:21,811 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:52:21,906 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:52:21,920 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:52:21,994 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:52:21,997 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:52:22,003 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:52:22,008 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:52:22,009 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:52:22,009 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:52:22,011 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:52:22,264 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:52:22,271 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:52:22,279 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:52:22,289 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093142287 with initial instances count: 2
2022-03-12 13:52:22,301 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:52:22,304 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093142304, current=UP, previous=STARTING]
2022-03-12 13:52:22,308 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:22,309 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:52:22,322 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:52:22,346 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:52:22,402 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:52:22,407 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:52:22,416 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:52:22,424 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:52:22,427 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:22,430 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:52:22,440 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:22,444 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:22,459 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:52:22,499 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:52:29,681 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:29,688 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:33,164 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:34,404 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:34,409 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:52:35,544 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:52:35,585 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:35,586 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:36,588 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:52:36,596 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:52:37,010 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 398 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:52:37,526 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:52:37,530 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:52:37,566 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:52:37,568 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2022-03-12 13:52:38,206 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:52:39,535 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:52:39,554 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:39,555 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:52:39,557 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:52:39,659 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:52:39,661 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4073 ms
2022-03-12 13:52:41,633 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:52:41,636 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:52:41,708 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:52:41,712 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:52:41,785 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:51}] to mongodb3:27017
2022-03-12 13:52:41,784 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:50}] to mongodb3:27017
2022-03-12 13:52:41,784 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:49}] to mongodb1:27017
2022-03-12 13:52:41,792 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48290800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:52:35 GMT 2022, lastUpdateTimeNanos=465096365730687}
2022-03-12 13:52:41,785 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:48}] to mongodb2:27017
2022-03-12 13:52:41,790 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:48}] to mongodb1:27017
2022-03-12 13:52:41,789 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:49}] to mongodb2:27017
2022-03-12 13:52:41,792 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49799400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:52:35 GMT 2022, lastUpdateTimeNanos=465096367222687}
2022-03-12 13:52:41,797 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52988500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:52:35 GMT 2022, lastUpdateTimeNanos=465096372002387}
2022-03-12 13:52:41,810 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:52:41,811 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:52:41,814 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5a9d3311f38e27cc753', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:52:41,896 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:52:41,968 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:52:42,657 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: ab781386-2975-44ef-9c16-3177057005d6

2022-03-12 13:52:42,900 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 13:52:44,716 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:52:44,983 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:52:45,059 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:52:45,150 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:52:45,164 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:52:45,219 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:52:45,220 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:52:45,223 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:52:45,224 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:52:45,225 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:52:45,226 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:52:45,228 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:52:45,524 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:52:45,533 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:52:45,547 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:52:45,564 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093165561 with initial instances count: 2
2022-03-12 13:52:45,583 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:52:45,585 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093165585, current=UP, previous=STARTING]
2022-03-12 13:52:45,592 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:45,594 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:52:45,615 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:52:45,652 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:52:45,699 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:52:45,719 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:52:45,732 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:52:45,741 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:52:45,744 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:45,746 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:52:45,755 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:45,759 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:52:45,774 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:52:45,821 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:52:53,291 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:53,296 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:56,349 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:57,706 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:57,710 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:52:58,975 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:52:59,020 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:52:59,021 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:52:59,656 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:52:59,658 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:53:00,061 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 394 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:53:00,656 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:53:00,659 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:53:00,689 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:53:00,691 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 13:53:01,585 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:53:03,132 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:53:03,152 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:03,155 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:53:03,157 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:53:03,253 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:53:03,257 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4234 ms
2022-03-12 13:53:05,212 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:53:05,214 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:53:05,281 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:53:05,284 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:53:05,359 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:51}] to mongodb1:27017
2022-03-12 13:53:05,359 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:52}] to mongodb3:27017
2022-03-12 13:53:05,359 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:51}] to mongodb2:27017
2022-03-12 13:53:05,359 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:53}] to mongodb3:27017
2022-03-12 13:53:05,369 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49050700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:53:05 GMT 2022, lastUpdateTimeNanos=465119976231287}
2022-03-12 13:53:05,359 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:50}] to mongodb1:27017
2022-03-12 13:53:05,359 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:50}] to mongodb2:27017
2022-03-12 13:53:05,369 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50168700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:53:05 GMT 2022, lastUpdateTimeNanos=465119977099687}
2022-03-12 13:53:05,368 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50611800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:53:05 GMT 2022, lastUpdateTimeNanos=465119977231587}
2022-03-12 13:53:05,378 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:53:05,379 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:53:05,381 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5c1f470aa4972e87ed3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:53:05,461 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:53:05,539 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:53:06,195 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 64bbac92-2826-421d-9b40-d956b75e6a48

2022-03-12 13:53:06,425 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 13:53:08,037 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:53:08,301 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:53:08,367 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:53:08,459 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:53:08,471 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:53:08,522 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:53:08,524 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:53:08,526 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:53:08,527 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:53:08,528 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:53:08,529 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:53:08,531 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:53:08,742 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:53:08,750 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:53:08,755 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:53:08,766 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093188764 with initial instances count: 2
2022-03-12 13:53:08,783 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:53:08,786 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093188786, current=UP, previous=STARTING]
2022-03-12 13:53:08,791 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:08,792 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:53:08,804 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:53:08,834 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:53:08,888 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:53:08,892 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:53:08,902 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:53:08,913 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:53:08,917 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:08,919 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:53:08,933 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:08,938 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:08,951 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:53:08,991 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:53:16,872 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:53:16,878 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:53:20,956 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:53:22,330 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:53:22,334 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:53:23,647 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:53:23,692 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:53:23,693 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:53:24,381 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:53:24,384 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:53:24,695 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 302 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:53:25,175 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:53:25,179 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:53:25,223 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:53:25,228 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2022-03-12 13:53:26,033 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:53:27,414 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:53:27,438 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:27,441 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:53:27,444 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:53:27,543 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:53:27,546 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3852 ms
2022-03-12 13:53:30,252 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:53:30,253 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:53:30,320 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:53:30,323 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:53:30,392 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:55}] to mongodb3:27017
2022-03-12 13:53:30,393 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:53}] to mongodb2:27017
2022-03-12 13:53:30,390 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:53}] to mongodb1:27017
2022-03-12 13:53:30,400 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47019000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:53:25 GMT 2022, lastUpdateTimeNanos=465145041854587}
2022-03-12 13:53:30,392 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:54}] to mongodb3:27017
2022-03-12 13:53:30,393 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:52}] to mongodb1:27017
2022-03-12 13:53:30,390 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:52}] to mongodb2:27017
2022-03-12 13:53:30,400 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46354300, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:53:25 GMT 2022, lastUpdateTimeNanos=465145042073487}
2022-03-12 13:53:30,407 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46861300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:53:25 GMT 2022, lastUpdateTimeNanos=465145041854587}
2022-03-12 13:53:30,411 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:53:30,412 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:53:30,414 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5dac86fb433140c3255', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:53:30,485 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:53:30,576 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:53:31,372 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e21ef981-0107-4593-8a48-6824224f80f7

2022-03-12 13:53:31,981 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c41ec0, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef60710, org.springframework.security.web.header.HeaderWriterFilter@65ddee5a, org.springframework.security.web.authentication.logout.LogoutFilter@313f8301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2503ec73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44b21f9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a0e495, org.springframework.security.web.session.SessionManagementFilter@28bdbe88, org.springframework.security.web.access.ExceptionTranslationFilter@3ae126d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@506a1372]
2022-03-12 13:53:35,491 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:53:35,958 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:53:36,015 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:53:36,085 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:53:36,097 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:53:36,141 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:53:36,142 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:53:36,144 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:53:36,145 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:53:36,146 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:53:36,147 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:53:36,149 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:53:36,356 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:53:36,362 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:53:36,368 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:53:36,377 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093216375 with initial instances count: 2
2022-03-12 13:53:36,390 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:53:36,392 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093216392, current=UP, previous=STARTING]
2022-03-12 13:53:36,398 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:36,401 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:53:36,412 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:53:36,443 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:53:36,497 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:53:36,502 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:53:36,510 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:53:36,519 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:53:36,521 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:36,523 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:53:36,532 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:36,534 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:36,547 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:53:36,577 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:53:49,809 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:53:49,817 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:53:53,010 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:53:54,174 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:53:54,178 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:53:55,419 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:53:55,461 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:53:55,462 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:53:56,453 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:53:56,458 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:53:56,903 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 431 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:53:57,386 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:53:57,390 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:53:57,422 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:53:57,424 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2022-03-12 13:53:57,966 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:53:59,120 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:53:59,140 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:53:59,141 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:53:59,143 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:53:59,226 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:53:59,229 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3766 ms
2022-03-12 13:54:01,075 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:54:01,077 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:54:01,142 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:54:01,146 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:54:01,200 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:54}] to mongodb1:27017
2022-03-12 13:54:01,201 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:55}] to mongodb1:27017
2022-03-12 13:54:01,201 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:54}] to mongodb2:27017
2022-03-12 13:54:01,202 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:56}] to mongodb3:27017
2022-03-12 13:54:01,201 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:57}] to mongodb3:27017
2022-03-12 13:54:01,200 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:55}] to mongodb2:27017
2022-03-12 13:54:01,208 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39063000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:53:55 GMT 2022, lastUpdateTimeNanos=465175913318687}
2022-03-12 13:54:01,208 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39808800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:53:55 GMT 2022, lastUpdateTimeNanos=465175913996087}
2022-03-12 13:54:01,209 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39658700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:53:55 GMT 2022, lastUpdateTimeNanos=465175914191187}
2022-03-12 13:54:01,218 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:54:01,220 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:54:01,221 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca5f9ba8ade3587f8022c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:54:01,277 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:54:01,331 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:54:02,264 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: a98ee208-d202-4e96-b75c-7124abf63109

2022-03-12 13:54:03,056 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 13:54:06,238 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:54:06,755 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:54:06,819 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:54:07,088 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:54:07,118 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:54:07,267 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:54:07,268 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:54:07,269 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:54:07,270 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:54:07,272 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:54:07,273 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:54:07,277 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:54:07,905 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:54:07,918 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:54:07,931 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:54:07,954 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093247952 with initial instances count: 2
2022-03-12 13:54:07,969 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:54:07,973 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093247973, current=UP, previous=STARTING]
2022-03-12 13:54:07,980 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:07,987 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:54:07,992 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:54:08,046 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:54:08,260 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:54:08,265 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:54:08,279 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:54:08,290 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:54:08,294 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:08,297 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:54:08,310 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:08,313 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:08,329 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:54:08,396 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:54:15,542 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:54:15,547 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:54:18,438 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:54:19,536 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:54:19,539 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:54:20,672 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:54:20,709 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:54:20,710 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:54:21,308 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:54:21,311 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:54:21,603 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 283 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:54:21,881 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:54:21,884 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:54:21,913 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:54:21,915 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 13:54:22,396 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 13:54:23,403 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 13:54:23,422 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:23,424 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 13:54:23,425 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 13:54:23,502 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 13:54:23,504 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2793 ms
2022-03-12 13:54:24,958 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 13:54:24,961 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 13:54:25,026 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 13:54:25,029 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 13:54:25,100 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:57}] to mongodb2:27017
2022-03-12 13:54:25,099 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:56}] to mongodb2:27017
2022-03-12 13:54:25,104 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:58}] to mongodb3:27017
2022-03-12 13:54:25,104 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:57}] to mongodb1:27017
2022-03-12 13:54:25,099 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:56}] to mongodb1:27017
2022-03-12 13:54:25,100 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:59}] to mongodb3:27017
2022-03-12 13:54:25,111 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43248700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 13:54:25 GMT 2022, lastUpdateTimeNanos=465199812680787}
2022-03-12 13:54:25,112 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52460600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 13:54:25 GMT 2022, lastUpdateTimeNanos=465199811912887}
2022-03-12 13:54:25,115 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42098900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 13:54:25 GMT 2022, lastUpdateTimeNanos=465199812567687}
2022-03-12 13:54:25,123 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 13:54:25,124 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 13:54:25,125 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca6108332141d75bf96ae', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 13:54:25,176 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:54:25,258 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 13:54:25,897 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 8a560688-544f-449a-8ba4-9dbf505cbb95

2022-03-12 13:54:26,131 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 13:54:27,595 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 13:54:27,843 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 13:54:27,897 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 13:54:27,975 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 13:54:27,987 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 13:54:27,979 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 13:54:27,980 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 13:54:27,982 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 13:54:27,982 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 13:54:27,983 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 13:54:27,984 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 13:54:27,986 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 13:54:28,295 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 13:54:28,302 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 13:54:28,307 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 13:54:28,317 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647093268316 with initial instances count: 2
2022-03-12 13:54:28,330 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 13:54:28,332 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647093268332, current=UP, previous=STARTING]
2022-03-12 13:54:28,337 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:28,339 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 13:54:28,350 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 13:54:28,376 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 13:54:28,431 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 13:54:28,439 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 13:54:28,453 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 13:54:28,463 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 13:54:28,466 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:28,469 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 13:54:28,478 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:28,481 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 13:54:28,500 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 13:54:28,539 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 13:54:41,304 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:54:41,310 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:54:43,463 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:54:44,246 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:54:44,249 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 13:54:45,239 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 13:54:45,437 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 13:54:45,442 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 13:54:49,103 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:54:49,117 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 13:54:50,802 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1641 ms. Found 1 MongoDB repository interfaces.
2022-03-12 13:54:52,431 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 13:54:52,446 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 13:54:52,544 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 13:54:52,551 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2022-03-12 13:54:54,987 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 14:09:16,243 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 14:09:16,389 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 14:09:16,399 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 14:09:16,424 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 14:09:16,800 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 14:09:16,809 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 871361 ms
2022-03-12 14:09:25,018 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 14:09:25,027 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 14:09:25,370 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 14:09:25,386 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 14:09:25,724 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:63}] to mongodb1:27017
2022-03-12 14:09:25,718 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:69}] to mongodb3:27017
2022-03-12 14:09:25,726 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:67}] to mongodb2:27017
2022-03-12 14:09:25,741 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:66}] to mongodb2:27017
2022-03-12 14:09:25,726 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:62}] to mongodb1:27017
2022-03-12 14:09:25,741 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:68}] to mongodb3:27017
2022-03-12 14:09:25,760 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=234675200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 14:09:13 GMT 2022, lastUpdateTimeNanos=465244769898687}
2022-03-12 14:09:25,777 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=232523400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 14:09:13 GMT 2022, lastUpdateTimeNanos=465244768352287}
2022-03-12 14:09:25,803 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=230430200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 14:09:13 GMT 2022, lastUpdateTimeNanos=465244766665087}
2022-03-12 14:09:25,823 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 14:09:25,834 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 14:09:25,842 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622ca9948ef83257a7839b01', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 14:09:26,169 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 14:09:26,432 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 14:09:29,372 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f0836b6e-7f28-4bb7-9412-e1426a382592

2022-03-12 14:09:30,510 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@380e1909, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e7f3cfd, org.springframework.security.web.header.HeaderWriterFilter@27fe9713, org.springframework.security.web.authentication.logout.LogoutFilter@5e1fc42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a488c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56399b9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d5ef498, org.springframework.security.web.session.SessionManagementFilter@77f68df, org.springframework.security.web.access.ExceptionTranslationFilter@32b0876c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e58ca]
2022-03-12 14:09:38,254 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 14:09:39,514 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 14:09:39,811 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 14:09:40,243 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 14:09:42,289 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 14:09:42,344 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 14:09:42,346 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 14:09:42,348 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 14:09:42,349 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 14:09:42,350 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 14:09:42,351 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 14:09:42,353 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 14:09:42,548 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 14:09:42,634 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 14:09:42,649 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 14:09:42,665 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647094182662 with initial instances count: 2
2022-03-12 14:09:42,704 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 14:09:42,712 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647094182712, current=UP, previous=STARTING]
2022-03-12 14:09:42,727 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 14:09:42,730 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 14:09:42,761 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 14:09:42,809 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 14:09:42,875 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 14:09:42,881 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 14:09:42,894 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 14:09:42,906 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 14:09:42,910 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 14:09:42,912 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 14:09:42,924 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 14:09:42,927 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 14:09:42,946 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 14:09:43,006 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 15:26:33,442 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:26:33,447 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:26:35,639 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:26:37,238 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:26:37,251 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 15:26:38,989 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 15:26:39,246 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:26:39,254 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:26:42,939 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:26:42,953 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 15:26:44,746 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1736 ms. Found 1 MongoDB repository interfaces.
2022-03-12 15:26:46,467 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:26:46,484 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 15:26:46,630 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 15:26:46,636 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 86 ms. Found 0 Redis repository interfaces.
2022-03-12 15:26:49,315 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 15:26:54,789 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 15:26:54,871 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:26:54,883 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 15:26:54,892 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 15:26:55,303 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 15:26:55,313 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 16050 ms
2022-03-12 15:27:02,835 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 15:27:02,844 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 15:27:03,145 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 15:27:03,161 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 15:27:03,456 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:78}] to mongodb3:27017
2022-03-12 15:27:03,456 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:74}] to mongodb2:27017
2022-03-12 15:27:03,461 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:70}] to mongodb1:27017
2022-03-12 15:27:03,462 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:69}] to mongodb1:27017
2022-03-12 15:27:03,456 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:77}] to mongodb3:27017
2022-03-12 15:27:03,456 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:75}] to mongodb2:27017
2022-03-12 15:27:03,509 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=207026200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 15:26:57 GMT 2022, lastUpdateTimeNanos=465299315749287}
2022-03-12 15:27:03,520 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=207008900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 15:26:57 GMT 2022, lastUpdateTimeNanos=465299313748787}
2022-03-12 15:27:03,527 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=209601600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 15:26:57 GMT 2022, lastUpdateTimeNanos=465299313748787}
2022-03-12 15:27:03,550 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 15:27:03,555 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 15:27:03,564 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbbc68363aa41310f7008', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 15:27:03,937 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:27:04,239 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:27:06,992 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: cb85faef-6213-4e5e-b47c-714be3972a26

2022-03-12 15:27:07,969 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35a0e495, org.springframework.security.web.context.SecurityContextPersistenceFilter@600f5704, org.springframework.security.web.header.HeaderWriterFilter@56399b9e, org.springframework.security.web.authentication.logout.LogoutFilter@5cc9d3d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@606f81b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ee8130e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5399f6c5, org.springframework.security.web.session.SessionManagementFilter@6a87026, org.springframework.security.web.access.ExceptionTranslationFilter@46a488c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b7332a7]
2022-03-12 15:27:17,372 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 15:27:17,624 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 15:27:17,699 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 15:27:17,838 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 15:27:17,856 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 15:27:17,927 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 15:27:17,928 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 15:27:17,931 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 15:27:17,932 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 15:27:17,933 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 15:27:17,935 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 15:27:17,938 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 15:27:18,187 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 15:27:18,196 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 15:27:18,201 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 15:27:18,211 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647098838209 with initial instances count: 2
2022-03-12 15:27:18,226 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 15:27:18,228 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647098838227, current=UP, previous=STARTING]
2022-03-12 15:27:18,232 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 15:27:18,232 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 15:27:18,244 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 15:27:18,265 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 15:27:18,302 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 15:27:18,306 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 15:27:18,315 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 15:27:18,322 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 15:27:18,325 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:27:18,327 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 15:27:18,337 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 15:27:18,342 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 15:27:18,358 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 15:27:18,397 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 15:27:24,407 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:27:24,411 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:27:26,567 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:43:54,701 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:43:54,705 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 15:43:55,762 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 15:43:55,975 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:43:55,980 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:43:59,792 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:43:59,808 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 15:44:01,516 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1664 ms. Found 1 MongoDB repository interfaces.
2022-03-12 15:44:03,220 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:44:03,236 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 15:44:03,385 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 15:44:03,391 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 0 Redis repository interfaces.
2022-03-12 15:44:06,096 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 15:44:11,886 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 15:44:11,993 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:44:12,004 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 15:44:12,014 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 15:44:12,423 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 15:44:12,433 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 16447 ms
2022-03-12 15:44:20,576 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 15:44:20,586 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 15:44:20,924 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 15:44:20,940 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 15:44:21,314 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:78}] to mongodb1:27017
2022-03-12 15:44:21,319 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:77}] to mongodb1:27017
2022-03-12 15:44:21,319 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:84}] to mongodb2:27017
2022-03-12 15:44:21,314 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:85}] to mongodb2:27017
2022-03-12 15:44:21,319 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:88}] to mongodb3:27017
2022-03-12 15:44:21,314 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:87}] to mongodb3:27017
2022-03-12 15:44:21,347 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239946600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 15:44:14 GMT 2022, lastUpdateTimeNanos=465349813629987}
2022-03-12 15:44:21,363 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239030000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 15:44:14 GMT 2022, lastUpdateTimeNanos=465349812618787}
2022-03-12 15:44:21,374 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239030000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 15:44:14 GMT 2022, lastUpdateTimeNanos=465349812618787}
2022-03-12 15:44:21,415 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 15:44:21,423 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 15:44:21,432 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cbfd4a58d9e081f4e7a00', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 15:44:21,795 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:44:22,202 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:44:25,171 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 904448a6-e8cd-44a7-9404-df8df442b267

2022-03-12 15:44:26,313 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 15:44:33,730 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 15:44:34,985 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 15:44:35,224 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 15:44:35,658 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 15:44:35,728 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 15:44:35,984 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 15:44:35,990 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 15:44:35,998 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 15:44:36,006 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 15:44:36,013 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 15:44:36,017 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 15:44:36,024 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 15:44:37,132 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 15:44:37,166 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 15:44:37,193 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 15:44:37,246 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647099877238 with initial instances count: 2
2022-03-12 15:44:37,323 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 15:44:37,333 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647099877332, current=UP, previous=STARTING]
2022-03-12 15:44:37,355 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 15:44:37,373 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 15:44:37,430 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 15:44:37,553 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 15:44:37,850 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 15:44:37,880 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 15:44:37,919 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 15:44:37,969 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 15:44:37,983 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:44:37,993 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 15:44:38,043 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 15:44:38,055 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 15:44:38,126 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 15:44:38,326 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 15:49:51,758 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:49:51,762 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:49:53,896 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:49:54,686 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:49:54,691 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 15:49:55,514 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 15:49:55,561 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:49:55,574 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:49:56,175 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:49:56,177 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 15:49:56,453 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 267 ms. Found 1 MongoDB repository interfaces.
2022-03-12 15:49:56,731 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:49:56,742 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 15:49:56,767 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 15:49:56,769 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2022-03-12 15:49:57,258 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 15:49:58,206 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 15:49:58,223 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:49:58,224 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 15:49:58,225 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 15:49:58,301 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 15:49:58,303 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2726 ms
2022-03-12 15:50:03,781 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 15:50:03,790 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 15:50:04,106 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 15:50:04,123 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 15:50:04,464 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:95}] to mongodb3:27017
2022-03-12 15:50:04,463 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:82}] to mongodb1:27017
2022-03-12 15:50:04,456 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:94}] to mongodb3:27017
2022-03-12 15:50:04,461 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:92}] to mongodb2:27017
2022-03-12 15:50:04,462 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:91}] to mongodb2:27017
2022-03-12 15:50:04,496 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=245415100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 15:49:58 GMT 2022, lastUpdateTimeNanos=465398367768187}
2022-03-12 15:50:04,503 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=247685600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 15:49:58 GMT 2022, lastUpdateTimeNanos=465398375493287}
2022-03-12 15:50:04,456 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:81}] to mongodb1:27017
2022-03-12 15:50:04,514 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=238116000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 15:49:58 GMT 2022, lastUpdateTimeNanos=465398360504887}
2022-03-12 15:50:04,562 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 15:50:04,568 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 15:50:04,581 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc12ba63c476eef415be2', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 15:50:04,944 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:50:05,317 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:50:08,147 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7dc8ea1f-dafa-4947-9a6b-23abfb88a34c

2022-03-12 15:50:09,519 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 15:50:17,349 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 15:50:18,475 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 15:50:18,763 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 15:50:19,108 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 15:50:19,170 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 15:50:19,392 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 15:50:19,398 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 15:50:19,407 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 15:50:19,411 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 15:50:19,422 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 15:50:19,427 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 15:50:19,436 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 15:50:20,425 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 15:50:20,460 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 15:50:20,487 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 15:50:20,536 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647100220528 with initial instances count: 2
2022-03-12 15:50:20,605 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 15:50:20,616 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647100220616, current=UP, previous=STARTING]
2022-03-12 15:50:20,638 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 15:50:20,643 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 15:50:20,715 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 15:50:20,843 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 15:50:21,057 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 15:50:21,082 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 15:50:21,125 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 15:50:21,190 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 15:50:21,202 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:50:21,212 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 15:50:21,259 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 15:50:21,271 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 15:50:21,423 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 15:50:21,606 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 15:50:42,219 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:50:42,223 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:50:42,890 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:50:42,922 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:50:42,924 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 15:50:42,983 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 15:50:43,022 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:50:43,023 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:50:43,672 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:50:43,674 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 15:50:43,961 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 278 ms. Found 1 MongoDB repository interfaces.
2022-03-12 15:50:44,271 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:50:44,274 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 15:50:44,300 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 15:50:44,301 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 15:50:44,790 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 15:50:45,905 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 15:50:45,923 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:50:45,926 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 15:50:45,928 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 15:50:46,002 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 15:50:46,005 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2980 ms
2022-03-12 15:50:47,443 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 15:50:47,446 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 15:50:47,505 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 15:50:47,509 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 15:50:47,567 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:94}] to mongodb2:27017
2022-03-12 15:50:47,567 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:93}] to mongodb2:27017
2022-03-12 15:50:47,567 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:96}] to mongodb3:27017
2022-03-12 15:50:47,574 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40830900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 15:50:40 GMT 2022, lastUpdateTimeNanos=465441525184187}
2022-03-12 15:50:47,567 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:84}] to mongodb1:27017
2022-03-12 15:50:47,577 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40805900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 15:50:40 GMT 2022, lastUpdateTimeNanos=465441525394187}
2022-03-12 15:50:47,573 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:83}] to mongodb1:27017
2022-03-12 15:50:47,575 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:97}] to mongodb3:27017
2022-03-12 15:50:47,584 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39073400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 15:50:40 GMT 2022, lastUpdateTimeNanos=465441524376187}
2022-03-12 15:50:47,585 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 15:50:47,586 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 15:50:47,588 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc15742c53363719ab0a7', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 15:50:47,651 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:50:47,696 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:50:48,242 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3d71d983-dd47-429f-9221-d24fc6262207

2022-03-12 15:50:48,462 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@380e1909, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e7f3cfd, org.springframework.security.web.header.HeaderWriterFilter@27fe9713, org.springframework.security.web.authentication.logout.LogoutFilter@5e1fc42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a488c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56399b9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d5ef498, org.springframework.security.web.session.SessionManagementFilter@77f68df, org.springframework.security.web.access.ExceptionTranslationFilter@32b0876c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e58ca]
2022-03-12 15:55:45,997 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 15:55:46,242 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 15:55:46,302 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 15:55:46,374 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 15:55:46,385 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 15:55:46,427 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 15:55:46,428 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 15:55:46,431 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 15:55:46,432 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 15:55:46,433 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 15:55:46,434 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 15:55:46,436 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 15:55:46,604 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 15:55:46,611 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 15:55:46,616 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 15:55:46,626 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647100546625 with initial instances count: 2
2022-03-12 15:55:46,654 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 15:55:46,656 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647100546656, current=UP, previous=STARTING]
2022-03-12 15:55:46,667 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 15:55:46,671 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 15:55:46,685 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 15:55:46,717 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 15:55:46,755 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 15:55:46,762 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 15:55:46,783 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 15:55:46,791 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 15:55:46,794 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:55:46,796 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 15:55:46,808 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 15:55:46,811 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 15:55:46,830 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 15:55:46,919 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 15:56:10,829 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:56:10,854 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:56:16,317 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:56:17,316 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:56:17,328 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 15:56:18,501 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 15:56:18,702 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 15:56:18,707 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 15:56:22,270 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:56:22,283 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 15:56:23,940 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1614 ms. Found 1 MongoDB repository interfaces.
2022-03-12 15:56:25,574 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 15:56:25,590 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 15:56:25,747 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 15:56:25,753 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 96 ms. Found 0 Redis repository interfaces.
2022-03-12 15:56:28,904 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 15:56:30,289 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 15:56:30,309 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:56:30,312 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 15:56:30,314 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 15:56:30,377 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 15:56:30,379 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 11668 ms
2022-03-12 15:56:31,993 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 15:56:31,996 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 15:56:32,067 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 15:56:32,070 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 15:56:32,140 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:103}] to mongodb3:27017
2022-03-12 15:56:32,141 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:88}] to mongodb1:27017
2022-03-12 15:56:32,141 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:87}] to mongodb1:27017
2022-03-12 15:56:32,143 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:104}] to mongodb3:27017
2022-03-12 15:56:32,141 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:101}] to mongodb2:27017
2022-03-12 15:56:32,142 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:100}] to mongodb2:27017
2022-03-12 15:56:32,151 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50838800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 15:56:24 GMT 2022, lastUpdateTimeNanos=465489970325887}
2022-03-12 15:56:32,148 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51077700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 15:56:24 GMT 2022, lastUpdateTimeNanos=465489970229487}
2022-03-12 15:56:32,150 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48279200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 15:56:24 GMT 2022, lastUpdateTimeNanos=465489970249287}
2022-03-12 15:56:32,165 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 15:56:32,166 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 15:56:32,168 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cc2af03f7290641cec3ae', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 15:56:32,228 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:56:32,277 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 15:56:32,855 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: eaa8bba3-681c-4f1a-a9ef-1a8330cbfbb4

2022-03-12 15:56:33,115 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 15:56:34,630 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 15:56:34,862 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 15:56:34,929 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 15:56:35,027 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 15:56:35,039 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 15:56:35,080 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 15:56:35,082 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 15:56:35,083 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 15:56:35,084 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 15:56:35,085 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 15:56:35,086 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 15:56:35,087 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 15:56:35,263 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 15:56:35,268 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 15:56:35,273 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 15:56:35,281 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647100595280 with initial instances count: 2
2022-03-12 15:56:35,296 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 15:56:35,298 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647100595298, current=UP, previous=STARTING]
2022-03-12 15:56:35,303 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 15:56:35,305 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 15:56:35,316 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 15:56:35,342 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 15:56:35,389 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 15:56:35,394 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 15:56:35,402 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 15:56:35,410 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 15:56:35,412 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 15:56:35,414 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 15:56:35,423 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 15:56:35,425 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 15:56:35,436 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 15:56:35,465 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 16:56:42,402 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 16:56:42,426 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 16:56:49,510 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 16:56:51,145 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 16:56:51,159 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 16:56:52,582 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 16:56:52,785 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 16:56:52,793 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 16:56:56,464 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 16:56:56,478 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 16:56:58,239 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1718 ms. Found 1 MongoDB repository interfaces.
2022-03-12 16:56:59,943 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 16:56:59,961 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 16:57:00,111 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 16:57:00,118 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 0 Redis repository interfaces.
2022-03-12 16:57:02,665 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 16:57:08,407 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 16:57:08,494 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 16:57:08,505 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 16:57:08,514 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 16:57:08,879 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 16:57:08,888 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 16071 ms
2022-03-12 16:57:18,483 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 16:57:18,485 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 16:57:18,557 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 16:57:18,560 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 16:57:18,616 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:113}] to mongodb3:27017
2022-03-12 16:57:18,616 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:111}] to mongodb2:27017
2022-03-12 16:57:18,617 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:112}] to mongodb3:27017
2022-03-12 16:57:18,616 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:110}] to mongodb2:27017
2022-03-12 16:57:18,616 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:94}] to mongodb1:27017
2022-03-12 16:57:18,616 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:95}] to mongodb1:27017
2022-03-12 16:57:18,624 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=37280700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 16:57:10 GMT 2022, lastUpdateTimeNanos=465540568231087}
2022-03-12 16:57:18,623 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=36360800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 16:57:10 GMT 2022, lastUpdateTimeNanos=465540568231087}
2022-03-12 16:57:18,624 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=37869800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 16:57:10 GMT 2022, lastUpdateTimeNanos=465540568231087}
2022-03-12 16:57:18,633 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 16:57:18,634 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 16:57:18,636 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd0ee77cb9458a516397c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 16:57:18,747 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 16:57:18,913 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 16:57:19,510 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 8fecb795-df24-45d9-b9f3-7cb3776ed300

2022-03-12 16:57:19,746 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 16:57:21,920 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 16:57:22,268 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 16:57:22,339 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 16:57:22,441 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 16:57:22,468 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 16:57:22,525 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 16:57:22,526 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 16:57:22,528 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 16:57:22,529 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 16:57:22,530 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 16:57:22,531 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 16:57:22,533 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 16:57:22,768 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 16:57:22,775 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 16:57:22,781 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 16:57:22,792 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647104242790 with initial instances count: 2
2022-03-12 16:57:22,809 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 16:57:22,811 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647104242811, current=UP, previous=STARTING]
2022-03-12 16:57:22,818 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 16:57:22,821 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 16:57:22,835 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 16:57:22,862 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 16:57:22,918 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 16:57:22,923 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 16:57:22,932 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 16:57:22,940 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 16:57:22,943 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 16:57:22,945 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 16:57:22,956 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 16:57:22,959 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 16:57:22,973 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 16:57:23,014 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 16:57:29,229 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 16:57:29,234 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 16:57:31,434 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 16:57:32,191 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 16:57:32,195 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 16:57:32,984 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 16:57:33,022 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 16:57:33,024 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 16:57:33,695 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 16:57:33,698 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 16:57:34,009 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 301 ms. Found 1 MongoDB repository interfaces.
2022-03-12 16:57:34,342 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 16:57:34,358 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 16:57:34,396 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 16:57:34,397 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 16:57:34,968 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 16:57:36,038 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 16:57:36,060 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 16:57:36,062 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 16:57:36,063 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 16:57:36,137 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 16:57:36,139 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3114 ms
2022-03-12 16:57:37,906 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 16:57:37,909 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 16:57:37,988 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 16:57:37,992 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 16:57:38,097 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:115}] to mongodb3:27017
2022-03-12 16:57:38,097 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:96}] to mongodb1:27017
2022-03-12 16:57:38,097 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:113}] to mongodb2:27017
2022-03-12 16:57:38,099 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:112}] to mongodb2:27017
2022-03-12 16:57:38,098 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:97}] to mongodb1:27017
2022-03-12 16:57:38,102 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:114}] to mongodb3:27017
2022-03-12 16:57:38,107 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=77161500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 16:57:30 GMT 2022, lastUpdateTimeNanos=465560049108887}
2022-03-12 16:57:38,107 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=74103800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 16:57:30 GMT 2022, lastUpdateTimeNanos=465560047492387}
2022-03-12 16:57:38,113 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=77443000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 16:57:30 GMT 2022, lastUpdateTimeNanos=465560047947587}
2022-03-12 16:57:38,125 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 16:57:38,128 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 16:57:38,130 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd1015b95f9274b046d56', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 16:57:38,201 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 16:57:38,288 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 16:57:39,328 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 142d67d6-576c-49de-9ff3-c1adabcd5f68

2022-03-12 16:57:40,525 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:20:28,320 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:20:28,867 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:20:28,936 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:20:29,210 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:20:29,243 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:20:29,398 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:20:29,399 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:20:29,401 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:20:29,402 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:20:29,403 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:20:29,404 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:20:29,405 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:20:30,095 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:20:30,106 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:20:30,116 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:20:30,135 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105630133 with initial instances count: 2
2022-03-12 17:20:30,148 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:20:30,151 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105630151, current=UP, previous=STARTING]
2022-03-12 17:20:30,156 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:30,166 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:20:30,167 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:20:30,209 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:20:30,399 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:20:30,405 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:20:30,417 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:20:30,427 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:20:30,431 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:30,433 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:20:30,446 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:30,449 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:30,463 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:20:30,524 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:20:36,241 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:20:36,247 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:20:38,626 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:20:39,425 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:20:39,431 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:20:40,237 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:20:40,276 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:20:40,277 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:20:41,022 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:20:41,025 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:20:41,441 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 406 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:20:41,779 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:20:41,782 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:20:41,810 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:20:41,811 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:20:42,342 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:20:43,567 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:20:43,593 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:43,595 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:20:43,596 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:20:43,674 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:20:43,677 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3399 ms
2022-03-12 17:20:45,424 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:20:45,427 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:20:45,496 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:20:45,499 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:20:45,564 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:123}] to mongodb3:27017
2022-03-12 17:20:45,563 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:122}] to mongodb2:27017
2022-03-12 17:20:45,563 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:102}] to mongodb1:27017
2022-03-12 17:20:45,565 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:121}] to mongodb2:27017
2022-03-12 17:20:45,563 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:122}] to mongodb3:27017
2022-03-12 17:20:45,564 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:101}] to mongodb1:27017
2022-03-12 17:20:45,572 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42221700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:20:44 GMT 2022, lastUpdateTimeNanos=465583670018087}
2022-03-12 17:20:45,574 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44536600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:20:44 GMT 2022, lastUpdateTimeNanos=465583670122487}
2022-03-12 17:20:45,582 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44703900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:20:44 GMT 2022, lastUpdateTimeNanos=465583670249387}
2022-03-12 17:20:45,590 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:20:45,591 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:20:45,592 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd66d2790d43bf4a00c13', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:20:45,652 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:20:45,706 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:20:46,761 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 6a82f1f0-016e-4b39-bf3b-3004f847a78d

2022-03-12 17:20:47,640 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:20:50,528 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:20:51,050 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:20:51,138 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:20:51,443 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:20:51,477 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:20:51,626 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:20:51,627 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:20:51,629 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:20:51,630 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:20:51,632 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:20:51,632 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:20:51,634 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:20:52,289 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:20:52,304 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:20:52,317 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:20:52,339 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105652337 with initial instances count: 2
2022-03-12 17:20:52,359 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:20:52,363 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105652363, current=UP, previous=STARTING]
2022-03-12 17:20:52,370 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:52,375 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:20:52,386 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:20:52,434 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:20:52,598 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:20:52,601 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:20:52,610 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:20:52,618 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:20:52,621 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:52,623 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:20:52,636 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:52,638 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:20:52,650 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:20:52,706 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:20:58,514 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:20:58,519 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:00,919 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:01,701 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:01,705 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:21:02,617 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:21:02,657 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:02,658 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:03,412 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:21:03,415 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:21:03,748 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 323 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:21:04,105 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:21:04,108 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:21:04,138 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:21:04,140 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:21:04,724 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:21:05,958 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:21:05,979 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:05,982 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:21:05,984 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:21:06,076 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:21:06,079 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3419 ms
2022-03-12 17:21:07,886 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:21:07,891 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:21:08,013 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:21:08,019 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:21:08,094 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:125}] to mongodb3:27017
2022-03-12 17:21:08,103 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:124}] to mongodb2:27017
2022-03-12 17:21:08,094 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:123}] to mongodb2:27017
2022-03-12 17:21:08,099 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:103}] to mongodb1:27017
2022-03-12 17:21:08,100 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:124}] to mongodb3:27017
2022-03-12 17:21:08,109 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56074000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:21:04 GMT 2022, lastUpdateTimeNanos=465606236932087}
2022-03-12 17:21:08,111 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:104}] to mongodb1:27017
2022-03-12 17:21:08,114 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66561500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:21:04 GMT 2022, lastUpdateTimeNanos=465606247506687}
2022-03-12 17:21:08,114 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61330900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:21:04 GMT 2022, lastUpdateTimeNanos=465606244537087}
2022-03-12 17:21:08,126 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:21:08,127 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:21:08,130 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd683a00d605c0d9da327', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:21:08,230 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:21:08,319 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:21:09,071 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 34cf0bf3-d542-4399-8121-f9fb2d611dd7

2022-03-12 17:21:09,323 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@506a1372, org.springframework.security.web.context.SecurityContextPersistenceFilter@49d831c2, org.springframework.security.web.header.HeaderWriterFilter@7e7f3cfd, org.springframework.security.web.authentication.logout.LogoutFilter@7c601d50, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28bdbe88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@600f5704, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b7332a7, org.springframework.security.web.session.SessionManagementFilter@34b9eb03, org.springframework.security.web.access.ExceptionTranslationFilter@79a7bfbc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4afbb6c2]
2022-03-12 17:21:11,098 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:21:11,461 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:21:11,563 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:21:11,644 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:21:11,658 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:21:11,722 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:21:11,724 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:21:11,726 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:21:11,727 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:21:11,729 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:21:11,731 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:21:11,734 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:21:12,056 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:21:12,064 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:21:12,070 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:21:12,081 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105672079 with initial instances count: 2
2022-03-12 17:21:12,100 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:21:12,102 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105672102, current=UP, previous=STARTING]
2022-03-12 17:21:12,109 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:12,110 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:21:12,126 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:21:12,154 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:21:12,227 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:21:12,235 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:21:12,249 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:21:12,265 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:21:12,271 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:12,274 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:21:12,292 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:12,295 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:12,314 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:21:12,364 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:21:19,031 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:19,036 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:21,188 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:21,977 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:21,992 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:21:22,844 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:21:22,903 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:22,905 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:23,731 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:21:23,736 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:21:24,099 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 350 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:21:24,486 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:21:24,489 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:21:24,520 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:21:24,522 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:21:25,440 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:21:27,005 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:21:27,027 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:27,030 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:21:27,032 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:21:27,142 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:21:27,145 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4237 ms
2022-03-12 17:21:29,152 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:21:29,155 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:21:29,244 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:21:29,248 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:21:29,351 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:126}] to mongodb3:27017
2022-03-12 17:21:29,351 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:127}] to mongodb3:27017
2022-03-12 17:21:29,351 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:126}] to mongodb2:27017
2022-03-12 17:21:29,354 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:105}] to mongodb1:27017
2022-03-12 17:21:29,364 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68031600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:21:24 GMT 2022, lastUpdateTimeNanos=465627530961487}
2022-03-12 17:21:29,354 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:106}] to mongodb1:27017
2022-03-12 17:21:29,352 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:125}] to mongodb2:27017
2022-03-12 17:21:29,359 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69399100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:21:24 GMT 2022, lastUpdateTimeNanos=465627530461387}
2022-03-12 17:21:29,372 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69689000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:21:24 GMT 2022, lastUpdateTimeNanos=465627531309687}
2022-03-12 17:21:29,379 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:21:29,380 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:21:29,383 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd69900ca2f4dd57af5d6', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:21:29,471 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:21:29,574 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:21:30,373 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 827324a0-e335-486b-b25e-24d597b70fd2

2022-03-12 17:21:30,658 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d5ef498, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ae126d1, org.springframework.security.web.header.HeaderWriterFilter@11c3ff67, org.springframework.security.web.authentication.logout.LogoutFilter@44b21f9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6242ae3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b9eb03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95eb320, org.springframework.security.web.session.SessionManagementFilter@3e4e4c1, org.springframework.security.web.access.ExceptionTranslationFilter@2aaf152b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f847af]
2022-03-12 17:21:32,482 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:21:32,745 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:21:32,809 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:21:32,925 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:21:32,945 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:21:33,011 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:21:33,013 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:21:33,015 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:21:33,017 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:21:33,018 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:21:33,019 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:21:33,021 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:21:33,335 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:21:33,342 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:21:33,349 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:21:33,362 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105693360 with initial instances count: 2
2022-03-12 17:21:33,380 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:21:33,382 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105693382, current=UP, previous=STARTING]
2022-03-12 17:21:33,388 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:33,391 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:21:33,405 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:21:33,435 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:21:33,487 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:21:33,492 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:21:33,502 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:21:33,511 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:21:33,514 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:33,516 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:21:33,527 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:33,530 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:33,544 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:21:33,589 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:21:40,313 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:40,325 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:43,283 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:44,036 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:44,040 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:21:44,891 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:21:45,008 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:21:45,011 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:21:47,039 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:21:47,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:21:48,137 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1075 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:21:49,053 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:21:49,059 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:21:49,107 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:21:49,108 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2022-03-12 17:21:50,369 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:21:53,374 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:21:53,431 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:21:53,434 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:21:53,437 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:21:53,618 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:21:53,621 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8608 ms
2022-03-12 17:21:58,290 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:21:58,294 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:21:58,451 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:21:58,457 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:21:58,582 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:128}] to mongodb2:27017
2022-03-12 17:21:58,582 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:107}] to mongodb1:27017
2022-03-12 17:21:58,582 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:128}] to mongodb3:27017
2022-03-12 17:21:58,590 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=88453000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:21:54 GMT 2022, lastUpdateTimeNanos=465656795865987}
2022-03-12 17:21:58,582 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:108}] to mongodb1:27017
2022-03-12 17:21:58,582 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:127}] to mongodb2:27017
2022-03-12 17:21:58,582 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:129}] to mongodb3:27017
2022-03-12 17:21:58,590 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=90022500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:21:54 GMT 2022, lastUpdateTimeNanos=465656797080187}
2022-03-12 17:21:58,598 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=85774900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:21:54 GMT 2022, lastUpdateTimeNanos=465656795858887}
2022-03-12 17:21:58,606 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:21:58,608 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:21:58,610 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6b6216d5b35e9b232b1', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:21:58,777 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:21:58,963 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:22:01,085 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 5b94d1b8-0840-4a7d-b8dd-45162e2145f4

2022-03-12 17:22:02,264 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@380e1909, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e7f3cfd, org.springframework.security.web.header.HeaderWriterFilter@27fe9713, org.springframework.security.web.authentication.logout.LogoutFilter@5e1fc42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a488c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56399b9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d5ef498, org.springframework.security.web.session.SessionManagementFilter@77f68df, org.springframework.security.web.access.ExceptionTranslationFilter@32b0876c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e58ca]
2022-03-12 17:22:07,501 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:22:08,575 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:22:08,715 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:22:09,027 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:22:09,061 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:22:09,230 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:22:09,231 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:22:09,233 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:22:09,234 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:22:09,236 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:22:09,237 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:22:09,239 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:22:09,937 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:22:09,948 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:22:09,959 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:22:09,977 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105729975 with initial instances count: 2
2022-03-12 17:22:09,999 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:22:10,002 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105730002, current=UP, previous=STARTING]
2022-03-12 17:22:10,008 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:10,013 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:22:10,020 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:22:10,058 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:22:10,221 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:22:10,226 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:22:10,236 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:22:10,258 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:22:10,264 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:10,265 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:22:10,283 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:10,286 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:10,314 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:22:10,371 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:22:16,810 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:22:16,816 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:22:19,087 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:22:19,857 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:22:19,861 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:22:20,674 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:22:20,712 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:22:20,714 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:22:21,597 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:22:21,601 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:22:21,942 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 331 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:22:22,364 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:22:22,370 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:22:22,402 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:22:22,403 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:22:22,979 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:22:24,028 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:22:24,049 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:24,051 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:22:24,053 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:22:24,130 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:22:24,132 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3416 ms
2022-03-12 17:22:25,999 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:22:26,002 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:22:26,069 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:22:26,073 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:22:26,172 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:129}] to mongodb2:27017
2022-03-12 17:22:26,172 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:110}] to mongodb1:27017
2022-03-12 17:22:26,179 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:109}] to mongodb1:27017
2022-03-12 17:22:26,174 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:130}] to mongodb2:27017
2022-03-12 17:22:26,172 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:131}] to mongodb3:27017
2022-03-12 17:22:26,186 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61446900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:22:24 GMT 2022, lastUpdateTimeNanos=465684422899387}
2022-03-12 17:22:26,184 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:130}] to mongodb3:27017
2022-03-12 17:22:26,184 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=83229400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:22:24 GMT 2022, lastUpdateTimeNanos=465684432230087}
2022-03-12 17:22:26,185 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=73566500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:22:24 GMT 2022, lastUpdateTimeNanos=465684422610287}
2022-03-12 17:22:26,199 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:22:26,200 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:22:26,203 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6d175acb647605e4497', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:22:26,260 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:22:26,358 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:22:27,329 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f7be46f5-d4b3-4d25-8b6d-74ded39f6ffc

2022-03-12 17:22:27,686 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:22:29,334 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:22:29,619 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:22:29,705 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:22:29,800 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:22:29,814 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:22:29,862 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:22:29,863 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:22:29,865 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:22:29,866 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:22:29,867 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:22:29,868 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:22:29,870 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:22:30,082 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:22:30,088 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:22:30,095 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:22:30,105 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105750103 with initial instances count: 2
2022-03-12 17:22:30,118 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:22:30,121 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105750121, current=UP, previous=STARTING]
2022-03-12 17:22:30,127 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:30,129 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:22:30,142 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:22:30,167 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:22:30,211 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:22:30,216 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:22:30,226 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:22:30,236 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:22:30,239 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:30,241 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:22:30,252 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:30,254 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:30,269 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:22:30,306 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:22:37,639 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:22:37,645 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:22:39,822 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:22:40,583 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:22:40,586 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:22:41,431 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:22:41,508 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:22:41,510 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:22:42,735 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:22:42,742 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:22:43,301 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 536 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:22:43,667 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:22:43,670 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:22:43,699 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:22:43,701 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2022-03-12 17:22:44,235 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:22:45,392 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:22:45,409 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:45,412 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:22:45,413 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:22:45,486 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:22:45,488 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3976 ms
2022-03-12 17:22:47,064 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:22:47,067 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:22:47,119 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:22:47,123 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:22:47,185 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:111}] to mongodb1:27017
2022-03-12 17:22:47,187 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:132}] to mongodb3:27017
2022-03-12 17:22:47,185 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:133}] to mongodb3:27017
2022-03-12 17:22:47,186 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:131}] to mongodb2:27017
2022-03-12 17:22:47,195 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48691100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:22:44 GMT 2022, lastUpdateTimeNanos=465705439016687}
2022-03-12 17:22:47,185 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:112}] to mongodb1:27017
2022-03-12 17:22:47,185 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:132}] to mongodb2:27017
2022-03-12 17:22:47,191 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40900700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:22:44 GMT 2022, lastUpdateTimeNanos=465705437053587}
2022-03-12 17:22:47,195 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46391100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:22:44 GMT 2022, lastUpdateTimeNanos=465705437477087}
2022-03-12 17:22:47,210 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:22:47,212 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:22:47,214 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6e730b8c43b21cd0fce', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:22:47,281 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:22:47,334 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:22:48,021 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c6122475-25a4-4380-8124-e93782dffc67

2022-03-12 17:22:48,322 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 17:22:50,036 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:22:50,322 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:22:50,383 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:22:50,477 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:22:50,490 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:22:50,535 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:22:50,536 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:22:50,538 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:22:50,539 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:22:50,540 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:22:50,541 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:22:50,542 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:22:50,739 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:22:50,746 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:22:50,752 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:22:50,761 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105770760 with initial instances count: 2
2022-03-12 17:22:50,774 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:22:50,776 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105770776, current=UP, previous=STARTING]
2022-03-12 17:22:50,781 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:50,782 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:22:50,794 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:22:50,815 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:22:50,849 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:22:50,853 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:22:50,860 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:22:50,867 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:22:50,869 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:50,871 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:22:50,880 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:50,882 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:22:50,893 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:22:50,923 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:22:57,336 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:22:57,342 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:22:59,527 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:00,303 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:00,307 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:23:01,146 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:23:01,193 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:01,194 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:02,172 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:23:02,177 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:23:02,677 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 488 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:23:03,032 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:23:03,035 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:23:03,062 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:23:03,064 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:23:03,593 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:23:04,875 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:23:04,910 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:04,913 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:23:04,915 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:23:05,024 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:23:05,026 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3830 ms
2022-03-12 17:23:06,904 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:23:06,907 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:23:07,007 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:23:07,015 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:23:07,115 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:135}] to mongodb3:27017
2022-03-12 17:23:07,115 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:113}] to mongodb1:27017
2022-03-12 17:23:07,120 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:134}] to mongodb2:27017
2022-03-12 17:23:07,115 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:133}] to mongodb2:27017
2022-03-12 17:23:07,128 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=75489300, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:23:04 GMT 2022, lastUpdateTimeNanos=465725400741487}
2022-03-12 17:23:07,115 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:114}] to mongodb1:27017
2022-03-12 17:23:07,120 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:134}] to mongodb3:27017
2022-03-12 17:23:07,128 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=78599500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:23:04 GMT 2022, lastUpdateTimeNanos=465725401174387}
2022-03-12 17:23:07,131 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=78103800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:23:04 GMT 2022, lastUpdateTimeNanos=465725400741487}
2022-03-12 17:23:07,144 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:23:07,145 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:23:07,147 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd6fad880a818352541d8', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:23:07,271 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:23:07,336 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:23:08,064 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 26478fee-b54e-4d7d-946a-140bc95e8f34

2022-03-12 17:23:08,321 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 17:23:10,066 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:23:10,331 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:23:10,398 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:23:10,479 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:23:10,492 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:23:10,554 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:23:10,555 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:23:10,557 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:23:10,558 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:23:10,559 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:23:10,560 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:23:10,562 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:23:10,772 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:23:10,779 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:23:10,784 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:23:10,794 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105790792 with initial instances count: 2
2022-03-12 17:23:10,817 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:23:10,822 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105790821, current=UP, previous=STARTING]
2022-03-12 17:23:10,832 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:10,836 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:23:10,856 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:23:10,886 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:23:10,948 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:23:10,954 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:23:10,964 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:23:10,973 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:23:10,975 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:10,977 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:23:10,987 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:10,990 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:11,005 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:23:11,040 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:23:17,400 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:17,405 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:19,630 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:20,423 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:20,426 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:23:22,262 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:23:22,308 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:22,309 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:23,187 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:23:23,191 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:23:23,571 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 367 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:23:24,040 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:23:24,048 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:23:24,108 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:23:24,111 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2022-03-12 17:23:25,104 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:23:26,565 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:23:26,583 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:26,586 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:23:26,588 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:23:26,665 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:23:26,667 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4356 ms
2022-03-12 17:23:28,300 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:23:28,302 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:23:28,365 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:23:28,369 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:23:28,439 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:135}] to mongodb2:27017
2022-03-12 17:23:28,439 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:137}] to mongodb3:27017
2022-03-12 17:23:28,438 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:136}] to mongodb2:27017
2022-03-12 17:23:28,438 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:116}] to mongodb1:27017
2022-03-12 17:23:28,439 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:136}] to mongodb3:27017
2022-03-12 17:23:28,438 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:115}] to mongodb1:27017
2022-03-12 17:23:28,449 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50524300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:23:24 GMT 2022, lastUpdateTimeNanos=465746761811287}
2022-03-12 17:23:28,449 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49445700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:23:24 GMT 2022, lastUpdateTimeNanos=465746762213487}
2022-03-12 17:23:28,450 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51246800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:23:24 GMT 2022, lastUpdateTimeNanos=465746761811287}
2022-03-12 17:23:28,461 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:23:28,462 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:23:28,464 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd710bf339c55610c7fb5', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:23:28,545 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:23:28,618 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:23:29,231 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e58e081c-0ba9-473c-9773-fb0f5eb0fddf

2022-03-12 17:23:29,474 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:23:31,104 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:23:31,351 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:23:31,402 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:23:31,489 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:23:31,502 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:23:31,552 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:23:31,553 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:23:31,555 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:23:31,556 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:23:31,557 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:23:31,558 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:23:31,559 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:23:31,751 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:23:31,758 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:23:31,763 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:23:31,773 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105811771 with initial instances count: 2
2022-03-12 17:23:31,786 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:23:31,788 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105811788, current=UP, previous=STARTING]
2022-03-12 17:23:31,792 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:31,793 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:23:31,803 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:23:31,830 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:23:31,867 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:23:31,871 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:23:31,879 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:23:31,887 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:23:31,890 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:31,892 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:23:31,902 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:31,904 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:31,917 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:23:31,957 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:23:37,889 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:37,894 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:40,073 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:40,852 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:40,855 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:23:41,671 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:23:41,707 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:41,708 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:23:42,417 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:23:42,420 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:23:42,730 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 301 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:23:43,176 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:23:43,179 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:23:43,210 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:23:43,211 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:23:43,816 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:23:44,979 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:23:45,028 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:45,032 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:23:45,034 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:23:45,136 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:23:45,139 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3430 ms
2022-03-12 17:23:46,839 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:23:46,842 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:23:46,910 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:23:46,913 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:23:46,977 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:139}] to mongodb3:27017
2022-03-12 17:23:46,977 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:138}] to mongodb2:27017
2022-03-12 17:23:46,978 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:117}] to mongodb1:27017
2022-03-12 17:23:46,982 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:138}] to mongodb3:27017
2022-03-12 17:23:46,981 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:118}] to mongodb1:27017
2022-03-12 17:23:46,985 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:137}] to mongodb2:27017
2022-03-12 17:23:46,988 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53281200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:23:44 GMT 2022, lastUpdateTimeNanos=465765306419587}
2022-03-12 17:23:46,989 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51576000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:23:44 GMT 2022, lastUpdateTimeNanos=465765304377287}
2022-03-12 17:23:46,990 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56796200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:23:44 GMT 2022, lastUpdateTimeNanos=465765309549687}
2022-03-12 17:23:47,007 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:23:47,008 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:23:47,010 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd722d9f39e5e0d5fd4c7', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:23:47,086 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:23:47,155 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:23:47,822 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 28c7bd27-1335-41da-b44f-de464594a770

2022-03-12 17:23:48,050 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:23:49,777 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:23:50,052 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:23:50,123 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:23:50,251 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:23:50,266 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:23:50,371 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:23:50,374 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:23:50,376 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:23:50,378 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:23:50,381 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:23:50,382 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:23:50,385 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:23:50,707 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:23:50,714 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:23:50,722 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:23:50,734 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105830732 with initial instances count: 2
2022-03-12 17:23:50,753 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:23:50,755 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105830755, current=UP, previous=STARTING]
2022-03-12 17:23:50,765 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:50,774 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:23:50,837 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:23:50,896 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:23:51,011 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:23:51,020 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:23:51,032 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:23:51,044 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:23:51,048 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:51,052 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:23:51,067 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:51,073 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:23:51,128 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:23:51,211 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:23:58,245 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:23:58,249 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:00,401 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:01,342 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:01,348 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:24:02,187 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:24:02,251 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:02,254 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:03,169 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:24:03,177 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:24:03,636 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 446 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:24:04,008 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:24:04,013 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:24:04,048 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:24:04,050 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 17:24:04,736 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:24:06,195 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:24:06,215 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:06,219 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:24:06,220 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:24:06,300 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:24:06,303 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4046 ms
2022-03-12 17:24:08,011 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:24:08,013 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:24:08,072 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:24:08,076 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:24:08,137 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:139}] to mongodb2:27017
2022-03-12 17:24:08,138 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:120}] to mongodb1:27017
2022-03-12 17:24:08,138 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:119}] to mongodb1:27017
2022-03-12 17:24:08,149 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:141}] to mongodb3:27017
2022-03-12 17:24:08,137 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:140}] to mongodb2:27017
2022-03-12 17:24:08,144 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:140}] to mongodb3:27017
2022-03-12 17:24:08,150 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45648700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:24:04 GMT 2022, lastUpdateTimeNanos=465786497537387}
2022-03-12 17:24:08,153 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45363700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:24:04 GMT 2022, lastUpdateTimeNanos=465786497184087}
2022-03-12 17:24:08,154 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51094000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:24:04 GMT 2022, lastUpdateTimeNanos=465786504574387}
2022-03-12 17:24:08,160 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:24:08,161 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:24:08,163 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd73715c7bd4fc3a7e0c6', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:24:08,223 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:24:08,278 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:24:08,954 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: b5893f9e-0384-4d4c-947a-a8675ec206ad

2022-03-12 17:24:09,170 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 17:24:10,820 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:24:11,109 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:24:11,186 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:24:11,299 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:24:11,315 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:24:11,368 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:24:11,369 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:24:11,371 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:24:11,372 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:24:11,373 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:24:11,373 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:24:11,375 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:24:11,664 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:24:11,674 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:24:11,682 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:24:11,697 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105851694 with initial instances count: 2
2022-03-12 17:24:11,716 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:24:11,719 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105851719, current=UP, previous=STARTING]
2022-03-12 17:24:11,725 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:11,731 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:24:11,747 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:24:11,783 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:24:11,863 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:24:11,869 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:24:11,881 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:24:11,892 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:24:11,896 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:11,900 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:24:11,914 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:11,918 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:11,933 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:24:11,976 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:24:18,759 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:18,764 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:21,173 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:21,938 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:21,941 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:24:22,753 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:24:22,805 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:22,807 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:23,465 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:24:23,468 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:24:23,854 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 376 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:24:24,206 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:24:24,209 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:24:24,249 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:24:24,250 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2022-03-12 17:24:24,769 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:24:26,065 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:24:26,091 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:26,094 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:24:26,096 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:24:26,216 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:24:26,218 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3410 ms
2022-03-12 17:24:28,216 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:24:28,218 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:24:28,295 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:24:28,298 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:24:28,372 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:141}] to mongodb2:27017
2022-03-12 17:24:28,371 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:142}] to mongodb2:27017
2022-03-12 17:24:28,371 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:122}] to mongodb1:27017
2022-03-12 17:24:28,371 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:121}] to mongodb1:27017
2022-03-12 17:24:28,372 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:143}] to mongodb3:27017
2022-03-12 17:24:28,372 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:142}] to mongodb3:27017
2022-03-12 17:24:28,381 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50933400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:24:24 GMT 2022, lastUpdateTimeNanos=465806766448987}
2022-03-12 17:24:28,383 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51163200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:24:24 GMT 2022, lastUpdateTimeNanos=465806767057787}
2022-03-12 17:24:28,383 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50953300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:24:24 GMT 2022, lastUpdateTimeNanos=465806766510787}
2022-03-12 17:24:28,399 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:24:28,400 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:24:28,402 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd74cf5b6011b6ec5a0b2', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:24:28,468 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:24:28,538 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:24:29,244 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f7530aba-5dd9-4c8e-99aa-273e881275fe

2022-03-12 17:24:29,468 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:24:31,211 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:24:31,466 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:24:31,518 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:24:31,596 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:24:31,609 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:24:31,661 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:24:31,662 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:24:31,664 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:24:31,665 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:24:31,666 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:24:31,667 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:24:31,669 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:24:31,918 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:24:31,925 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:24:31,930 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:24:31,941 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105871939 with initial instances count: 2
2022-03-12 17:24:31,955 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:24:31,957 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105871957, current=UP, previous=STARTING]
2022-03-12 17:24:31,962 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:31,965 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:24:31,977 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:24:32,008 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:24:32,055 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:24:32,060 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:24:32,075 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:24:32,086 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:24:32,089 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:32,092 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:24:32,104 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:32,107 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:32,123 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:24:32,164 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:24:37,951 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:37,958 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:40,394 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:41,159 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:41,162 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:24:41,984 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:24:42,027 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:42,029 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:24:42,670 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:24:42,672 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:24:42,972 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 292 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:24:43,311 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:24:43,314 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:24:43,350 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:24:43,351 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:24:43,949 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:24:45,084 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:24:45,103 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:45,106 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:24:45,107 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:24:45,193 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:24:45,196 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3166 ms
2022-03-12 17:24:47,020 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:24:47,022 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:24:47,087 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:24:47,090 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:24:47,158 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:143}] to mongodb2:27017
2022-03-12 17:24:47,157 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:144}] to mongodb3:27017
2022-03-12 17:24:47,158 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:124}] to mongodb1:27017
2022-03-12 17:24:47,157 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:145}] to mongodb3:27017
2022-03-12 17:24:47,157 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:144}] to mongodb2:27017
2022-03-12 17:24:47,160 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:123}] to mongodb1:27017
2022-03-12 17:24:47,169 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43477200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:24:44 GMT 2022, lastUpdateTimeNanos=465825551896687}
2022-03-12 17:24:47,165 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44040000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:24:44 GMT 2022, lastUpdateTimeNanos=465825553316387}
2022-03-12 17:24:47,170 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48121400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:24:44 GMT 2022, lastUpdateTimeNanos=465825556575587}
2022-03-12 17:24:47,178 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:24:47,179 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:24:47,181 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd75f91a05912fbe600ef', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:24:47,262 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:24:47,363 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:24:48,417 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7b25e649-ce12-4497-ae1f-729a156e8a28

2022-03-12 17:24:48,929 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c41ec0, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef60710, org.springframework.security.web.header.HeaderWriterFilter@65ddee5a, org.springframework.security.web.authentication.logout.LogoutFilter@313f8301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2503ec73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44b21f9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a0e495, org.springframework.security.web.session.SessionManagementFilter@28bdbe88, org.springframework.security.web.access.ExceptionTranslationFilter@3ae126d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@506a1372]
2022-03-12 17:24:51,443 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:24:51,720 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:24:51,789 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:24:51,884 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:24:51,899 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:24:51,952 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:24:51,953 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:24:51,955 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:24:51,956 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:24:51,957 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:24:51,958 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:24:51,959 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:24:52,173 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:24:52,180 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:24:52,186 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:24:52,196 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105892194 with initial instances count: 2
2022-03-12 17:24:52,210 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:24:52,212 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105892212, current=UP, previous=STARTING]
2022-03-12 17:24:52,217 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:52,218 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:24:52,230 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:24:52,255 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:24:52,302 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:24:52,306 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:24:52,316 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:24:52,325 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:24:52,328 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:52,330 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:24:52,340 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:52,342 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:24:52,355 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:24:52,394 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:24:58,566 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:24:58,571 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:00,780 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:01,622 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:01,625 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:25:02,566 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:25:02,601 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:02,602 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:03,205 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:25:03,207 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:25:03,510 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 293 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:25:03,808 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:25:03,811 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:25:03,841 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:25:03,843 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:25:04,347 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:25:05,349 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:25:05,366 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:05,368 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:25:05,370 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:25:05,444 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:25:05,446 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2843 ms
2022-03-12 17:25:06,966 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:25:06,968 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:25:07,034 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:25:07,038 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:25:07,098 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:125}] to mongodb1:27017
2022-03-12 17:25:07,096 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:147}] to mongodb3:27017
2022-03-12 17:25:07,100 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:145}] to mongodb2:27017
2022-03-12 17:25:07,096 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:126}] to mongodb1:27017
2022-03-12 17:25:07,102 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:146}] to mongodb2:27017
2022-03-12 17:25:07,103 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42078900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:25:04 GMT 2022, lastUpdateTimeNanos=465845530557287}
2022-03-12 17:25:07,105 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43453800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:25:04 GMT 2022, lastUpdateTimeNanos=465845533382387}
2022-03-12 17:25:07,109 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:146}] to mongodb3:27017
2022-03-12 17:25:07,112 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:25:07,117 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:25:07,118 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:25:07,118 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd772aa07d96ddda9e87c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49250500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:25:04 GMT 2022, lastUpdateTimeNanos=465845538728687}
2022-03-12 17:25:07,188 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:25:07,241 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:25:07,878 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c1123957-d563-40e2-9e98-696f75df3bb3

2022-03-12 17:25:08,093 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@95eb320, org.springframework.security.web.context.SecurityContextPersistenceFilter@46a488c2, org.springframework.security.web.header.HeaderWriterFilter@4397a639, org.springframework.security.web.authentication.logout.LogoutFilter@7ee8130e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65ddee5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43fda8d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f521c4, org.springframework.security.web.session.SessionManagementFilter@7e7f3cfd, org.springframework.security.web.access.ExceptionTranslationFilter@39bbd9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed34ef5]
2022-03-12 17:25:09,633 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:25:09,878 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:25:09,938 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:25:10,027 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:25:10,041 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:25:10,102 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:25:10,103 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:25:10,105 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:25:10,106 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:25:10,107 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:25:10,108 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:25:10,109 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:25:10,310 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:25:10,316 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:25:10,321 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:25:10,330 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105910328 with initial instances count: 2
2022-03-12 17:25:10,343 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:25:10,345 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105910345, current=UP, previous=STARTING]
2022-03-12 17:25:10,350 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:10,353 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:25:10,362 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:25:10,389 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:25:10,437 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:25:10,441 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:25:10,450 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:25:10,458 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:25:10,460 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:10,462 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:25:10,471 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:10,474 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:10,486 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:25:10,519 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:25:16,233 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:16,238 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:18,420 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:19,239 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:19,242 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:25:20,034 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:25:20,074 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:20,076 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:20,679 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:25:20,681 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:25:20,975 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 284 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:25:21,255 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:25:21,259 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:25:21,295 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:25:21,296 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:25:21,745 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:25:22,750 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:25:22,767 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:22,769 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:25:22,770 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:25:22,846 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:25:22,848 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2771 ms
2022-03-12 17:25:24,506 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:25:24,510 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:25:24,607 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:25:24,611 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:25:24,706 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:147}] to mongodb2:27017
2022-03-12 17:25:24,708 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:127}] to mongodb1:27017
2022-03-12 17:25:24,708 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:148}] to mongodb2:27017
2022-03-12 17:25:24,706 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:149}] to mongodb3:27017
2022-03-12 17:25:24,706 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:128}] to mongodb1:27017
2022-03-12 17:25:24,707 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:148}] to mongodb3:27017
2022-03-12 17:25:24,719 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62397200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:25:14 GMT 2022, lastUpdateTimeNanos=465863172341187}
2022-03-12 17:25:24,723 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70781500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:25:14 GMT 2022, lastUpdateTimeNanos=465863171501287}
2022-03-12 17:25:24,723 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71264000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:25:14 GMT 2022, lastUpdateTimeNanos=465863171980587}
2022-03-12 17:25:24,736 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:25:24,739 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:25:24,741 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7844d2523163910ebe1', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:25:24,823 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:25:24,923 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:25:25,756 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 565842ee-b6eb-4345-b795-faaf9e8724ba

2022-03-12 17:25:26,061 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:25:27,869 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:25:28,149 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:25:28,212 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:25:28,324 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:25:28,342 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:25:28,420 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:25:28,423 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:25:28,425 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:25:28,426 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:25:28,427 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:25:28,428 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:25:28,430 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:25:28,643 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:25:28,649 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:25:28,655 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:25:28,670 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105928667 with initial instances count: 2
2022-03-12 17:25:28,688 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:25:28,691 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105928691, current=UP, previous=STARTING]
2022-03-12 17:25:28,696 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:28,698 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:25:28,712 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:25:28,740 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:25:28,790 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:25:28,795 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:25:28,806 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:25:28,817 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:25:28,820 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:28,823 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:25:28,833 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:28,836 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:28,851 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:25:28,896 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:25:35,223 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:35,229 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:37,429 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:38,226 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:38,231 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:25:39,038 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:25:39,077 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:39,079 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:39,694 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:25:39,698 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:25:40,003 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 297 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:25:40,315 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:25:40,318 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:25:40,345 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:25:40,346 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:25:40,930 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:25:42,118 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:25:42,136 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:42,137 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:25:42,139 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:25:42,225 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:25:42,230 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3150 ms
2022-03-12 17:25:44,804 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:25:44,806 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:25:44,893 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:25:44,896 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:25:44,997 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:149}] to mongodb2:27017
2022-03-12 17:25:44,998 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:129}] to mongodb1:27017
2022-03-12 17:25:44,999 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:151}] to mongodb3:27017
2022-03-12 17:25:44,996 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:130}] to mongodb1:27017
2022-03-12 17:25:44,996 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:150}] to mongodb3:27017
2022-03-12 17:25:45,007 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=73041200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:25:44 GMT 2022, lastUpdateTimeNanos=465883462145587}
2022-03-12 17:25:45,007 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=79676600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:25:44 GMT 2022, lastUpdateTimeNanos=465883463869587}
2022-03-12 17:25:44,997 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:150}] to mongodb2:27017
2022-03-12 17:25:45,020 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=76653300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:25:44 GMT 2022, lastUpdateTimeNanos=465883462145587}
2022-03-12 17:25:45,024 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:25:45,025 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:25:45,028 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7981829b97cdc8ef371', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:25:45,115 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:25:45,410 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:25:46,580 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 4df1d459-9ccc-48e4-a22d-03a6bb79ae6f

2022-03-12 17:25:46,856 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:25:48,443 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:25:48,708 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:25:48,766 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:25:48,843 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:25:48,855 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:25:48,903 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:25:48,905 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:25:48,909 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:25:48,910 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:25:48,911 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:25:48,912 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:25:48,914 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:25:49,108 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:25:49,115 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:25:49,120 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:25:49,129 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105949128 with initial instances count: 2
2022-03-12 17:25:49,143 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:25:49,145 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105949145, current=UP, previous=STARTING]
2022-03-12 17:25:49,149 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:49,151 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:25:49,162 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:25:49,186 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:25:49,231 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:25:49,236 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:25:49,250 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:25:49,258 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:25:49,261 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:49,262 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:25:49,271 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:49,273 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:25:49,284 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:25:49,316 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:25:56,503 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:56,508 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:58,641 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:25:59,436 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:25:59,439 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:26:00,252 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:26:00,293 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:00,294 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:00,898 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:26:00,903 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:26:01,236 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 317 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:26:01,552 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:26:01,555 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:26:01,589 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:26:01,591 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2022-03-12 17:26:02,438 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:26:04,490 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:26:04,515 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:04,518 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:26:04,521 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:26:04,615 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:26:04,618 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4322 ms
2022-03-12 17:26:06,159 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:26:06,161 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:26:06,239 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:26:06,244 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:26:06,310 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:152}] to mongodb3:27017
2022-03-12 17:26:06,310 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:152}] to mongodb2:27017
2022-03-12 17:26:06,310 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:132}] to mongodb1:27017
2022-03-12 17:26:06,309 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:131}] to mongodb1:27017
2022-03-12 17:26:06,310 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:153}] to mongodb3:27017
2022-03-12 17:26:06,318 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43177300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:26:04 GMT 2022, lastUpdateTimeNanos=465904812091787}
2022-03-12 17:26:06,309 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:151}] to mongodb2:27017
2022-03-12 17:26:06,319 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43541100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:26:04 GMT 2022, lastUpdateTimeNanos=465904812451487}
2022-03-12 17:26:06,321 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42981700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:26:04 GMT 2022, lastUpdateTimeNanos=465904813133287}
2022-03-12 17:26:06,336 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:26:06,337 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:26:06,339 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7ae262e5434c7a420bd', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:26:06,391 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:26:06,477 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:26:07,041 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 8f3aa4e9-9f6d-47cf-806e-476be13817be

2022-03-12 17:26:07,247 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:26:08,657 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:26:08,927 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:26:08,981 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:26:09,062 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:26:09,075 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:26:09,119 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:26:09,120 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:26:09,121 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:26:09,122 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:26:09,123 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:26:09,124 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:26:09,125 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:26:09,317 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:26:09,323 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:26:09,329 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:26:09,338 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105969336 with initial instances count: 2
2022-03-12 17:26:09,351 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:26:09,353 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105969353, current=UP, previous=STARTING]
2022-03-12 17:26:09,357 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:09,360 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:26:09,369 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:26:09,393 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:26:09,455 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:26:09,464 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:26:09,473 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:26:09,481 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:26:09,484 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:09,486 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:26:09,496 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:09,499 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:09,511 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:26:09,550 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:26:15,626 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:15,631 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:17,965 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:18,732 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:18,738 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:26:19,577 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:26:19,647 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:19,648 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:20,576 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:26:20,579 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:26:21,027 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 438 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:26:21,446 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:26:21,453 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:26:21,493 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:26:21,495 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2022-03-12 17:26:22,094 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:26:23,075 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:26:23,094 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:23,095 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:26:23,097 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:26:23,170 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:26:23,172 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3521 ms
2022-03-12 17:26:24,682 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:26:24,684 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:26:24,765 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:26:24,769 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:26:24,865 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:153}] to mongodb2:27017
2022-03-12 17:26:24,865 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:133}] to mongodb1:27017
2022-03-12 17:26:24,865 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:154}] to mongodb3:27017
2022-03-12 17:26:24,863 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:134}] to mongodb1:27017
2022-03-12 17:26:24,865 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:155}] to mongodb3:27017
2022-03-12 17:26:24,863 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:154}] to mongodb2:27017
2022-03-12 17:26:24,873 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60443800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:26:24 GMT 2022, lastUpdateTimeNanos=465923393686187}
2022-03-12 17:26:24,882 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62617500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:26:24 GMT 2022, lastUpdateTimeNanos=465923396665187}
2022-03-12 17:26:24,876 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61534800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:26:24 GMT 2022, lastUpdateTimeNanos=465923394479387}
2022-03-12 17:26:24,891 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:26:24,892 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:26:24,894 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7c0335dda4e0c2ac0b3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:26:24,971 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:26:25,060 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:26:25,841 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 2dd9b322-0b8a-4959-a7b5-12aeb5a4442c

2022-03-12 17:26:26,024 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c41ec0, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef60710, org.springframework.security.web.header.HeaderWriterFilter@65ddee5a, org.springframework.security.web.authentication.logout.LogoutFilter@313f8301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2503ec73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44b21f9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a0e495, org.springframework.security.web.session.SessionManagementFilter@28bdbe88, org.springframework.security.web.access.ExceptionTranslationFilter@3ae126d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@506a1372]
2022-03-12 17:26:27,790 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:26:28,122 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:26:28,188 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:26:28,265 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:26:28,284 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:26:28,345 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:26:28,346 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:26:28,349 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:26:28,350 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:26:28,351 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:26:28,352 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:26:28,356 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:26:28,676 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:26:28,683 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:26:28,690 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:26:28,701 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647105988699 with initial instances count: 2
2022-03-12 17:26:28,737 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:26:28,739 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647105988739, current=UP, previous=STARTING]
2022-03-12 17:26:28,745 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:28,750 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:26:28,763 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:26:28,797 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:26:28,870 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:26:28,875 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:26:28,884 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:26:28,893 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:26:28,896 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:28,899 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:26:28,908 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:28,911 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:28,922 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:26:28,953 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:26:35,204 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:35,210 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:37,376 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:38,145 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:38,155 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:26:38,954 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:26:39,000 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:39,001 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:39,620 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:26:39,623 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:26:39,947 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 316 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:26:40,262 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:26:40,265 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:26:40,303 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:26:40,305 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2022-03-12 17:26:40,906 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:26:42,135 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:26:42,153 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:42,155 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:26:42,157 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:26:42,251 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:26:42,253 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3250 ms
2022-03-12 17:26:44,111 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:26:44,113 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:26:44,186 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:26:44,189 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:26:44,259 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:157}] to mongodb3:27017
2022-03-12 17:26:44,258 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:135}] to mongodb1:27017
2022-03-12 17:26:44,262 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:155}] to mongodb2:27017
2022-03-12 17:26:44,262 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:136}] to mongodb1:27017
2022-03-12 17:26:44,262 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:156}] to mongodb2:27017
2022-03-12 17:26:44,262 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:156}] to mongodb3:27017
2022-03-12 17:26:44,266 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42494700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:26:34 GMT 2022, lastUpdateTimeNanos=465942796692587}
2022-03-12 17:26:44,266 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46923700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:26:34 GMT 2022, lastUpdateTimeNanos=465942800914587}
2022-03-12 17:26:44,274 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47970100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:26:34 GMT 2022, lastUpdateTimeNanos=465942802060487}
2022-03-12 17:26:44,286 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:26:44,288 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:26:44,290 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7d4a7fd7742d06a016c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:26:44,374 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:26:44,467 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:26:45,175 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: bf005a0c-c761-4cb2-b03d-f1dac2ca8df6

2022-03-12 17:26:45,467 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:26:47,230 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:26:47,497 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:26:47,574 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:26:47,679 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:26:47,692 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:26:47,743 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:26:47,744 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:26:47,745 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:26:47,746 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:26:47,747 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:26:47,748 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:26:47,750 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:26:48,009 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:26:48,016 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:26:48,022 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:26:48,032 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106008030 with initial instances count: 2
2022-03-12 17:26:48,045 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:26:48,047 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106008047, current=UP, previous=STARTING]
2022-03-12 17:26:48,052 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:48,055 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:26:48,066 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:26:48,091 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:26:48,148 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:26:48,154 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:26:48,165 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:26:48,175 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:26:48,178 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:48,181 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:26:48,194 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:48,197 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:26:48,210 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:26:48,248 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:26:55,187 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:55,195 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:57,408 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:58,183 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:58,188 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:26:59,000 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:26:59,041 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:26:59,042 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:26:59,643 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:26:59,646 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:26:59,948 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 294 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:27:00,239 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:27:00,242 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:27:00,269 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:27:00,271 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:27:00,763 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:27:01,683 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:27:01,700 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:01,702 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:27:01,703 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:27:01,781 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:27:01,783 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2740 ms
2022-03-12 17:27:03,338 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:27:03,342 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:27:03,417 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:27:03,421 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:27:03,497 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:158}] to mongodb2:27017
2022-03-12 17:27:03,497 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:157}] to mongodb2:27017
2022-03-12 17:27:03,498 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:138}] to mongodb1:27017
2022-03-12 17:27:03,496 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:158}] to mongodb3:27017
2022-03-12 17:27:03,495 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:137}] to mongodb1:27017
2022-03-12 17:27:03,502 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51773400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:26:54 GMT 2022, lastUpdateTimeNanos=465962074452887}
2022-03-12 17:27:03,504 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48465000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:26:54 GMT 2022, lastUpdateTimeNanos=465962071218787}
2022-03-12 17:27:03,504 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:159}] to mongodb3:27017
2022-03-12 17:27:03,508 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55917500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:26:54 GMT 2022, lastUpdateTimeNanos=465962080833487}
2022-03-12 17:27:03,511 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:27:03,512 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:27:03,513 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7e76917ba1b9aa173d7', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:27:03,572 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:03,623 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:04,161 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 041736ee-ddc1-4166-a34b-9c18dddaf1a6

2022-03-12 17:27:04,374 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:27:05,870 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:27:06,088 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:27:06,163 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:27:06,239 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:27:06,251 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:27:06,293 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:27:06,295 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:27:06,297 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:27:06,298 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:27:06,299 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:27:06,300 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:27:06,301 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:27:06,461 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:27:06,466 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:27:06,471 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:27:06,479 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106026478 with initial instances count: 2
2022-03-12 17:27:06,491 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:27:06,493 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106026493, current=UP, previous=STARTING]
2022-03-12 17:27:06,498 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:06,499 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:27:06,510 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:27:06,533 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:27:06,570 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:27:06,595 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:27:06,602 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:27:06,609 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:27:06,611 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:06,613 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:27:06,622 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:06,625 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:06,637 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:27:06,675 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:27:12,348 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:12,353 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:14,520 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:15,307 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:15,311 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:27:16,098 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:27:16,132 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:16,133 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:16,739 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:27:16,741 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:27:17,031 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 282 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:27:17,315 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:27:17,318 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:27:17,354 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:27:17,355 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:27:17,861 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:27:18,919 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:27:18,939 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:18,941 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:27:18,944 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:27:19,015 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:27:19,017 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2882 ms
2022-03-12 17:27:20,496 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:27:20,499 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:27:20,563 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:27:20,572 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:27:20,643 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:160}] to mongodb2:27017
2022-03-12 17:27:20,642 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:140}] to mongodb1:27017
2022-03-12 17:27:20,641 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:160}] to mongodb3:27017
2022-03-12 17:27:20,643 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:159}] to mongodb2:27017
2022-03-12 17:27:20,651 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32280400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:27:14 GMT 2022, lastUpdateTimeNanos=465979218426187}
2022-03-12 17:27:20,642 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:139}] to mongodb1:27017
2022-03-12 17:27:20,642 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:161}] to mongodb3:27017
2022-03-12 17:27:20,650 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32399900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:27:14 GMT 2022, lastUpdateTimeNanos=465979218707387}
2022-03-12 17:27:20,650 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=38585900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:27:14 GMT 2022, lastUpdateTimeNanos=465979218539887}
2022-03-12 17:27:20,663 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:27:20,665 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:27:20,667 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd7f8acf1d847454389cb', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:27:20,731 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:20,818 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:21,396 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 9ba19901-4c95-496f-a69d-0acb6348beb5

2022-03-12 17:27:21,613 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:27:23,077 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:27:23,312 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:27:23,370 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:27:23,455 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:27:23,469 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:27:23,518 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:27:23,519 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:27:23,521 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:27:23,522 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:27:23,523 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:27:23,524 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:27:23,525 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:27:23,700 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:27:23,706 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:27:23,712 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:27:23,720 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106043719 with initial instances count: 2
2022-03-12 17:27:23,732 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:27:23,734 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106043734, current=UP, previous=STARTING]
2022-03-12 17:27:23,738 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:23,739 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:27:23,750 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:27:23,794 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:27:23,840 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:27:23,845 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:27:23,852 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:27:23,860 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:27:23,862 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:23,866 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:27:23,877 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:23,880 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:23,891 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:27:23,924 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:27:29,601 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:29,606 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:31,715 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:32,478 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:32,481 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:27:33,290 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:27:33,326 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:33,328 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:33,921 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:27:33,923 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:27:34,222 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 290 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:27:34,497 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:27:34,501 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:27:34,528 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:27:34,530 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:27:35,021 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:27:36,058 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:27:36,075 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:36,077 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:27:36,078 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:27:36,156 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:27:36,158 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2829 ms
2022-03-12 17:27:37,560 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:27:37,563 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:27:37,622 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:27:37,625 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:27:37,683 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:161}] to mongodb2:27017
2022-03-12 17:27:37,689 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:162}] to mongodb3:27017
2022-03-12 17:27:37,691 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=41978500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:27:34 GMT 2022, lastUpdateTimeNanos=465996295194187}
2022-03-12 17:27:37,686 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:141}] to mongodb1:27017
2022-03-12 17:27:37,683 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:142}] to mongodb1:27017
2022-03-12 17:27:37,694 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=41878100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:27:34 GMT 2022, lastUpdateTimeNanos=465996295214787}
2022-03-12 17:27:37,683 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:163}] to mongodb3:27017
2022-03-12 17:27:37,683 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:162}] to mongodb2:27017
2022-03-12 17:27:37,691 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49077000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:27:34 GMT 2022, lastUpdateTimeNanos=465996302413287}
2022-03-12 17:27:37,700 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:27:37,701 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:27:37,703 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd809ec5b423b67be43da', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:27:37,760 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:37,820 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:38,531 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e618d528-7da0-4fbf-be37-2f4da74317c5

2022-03-12 17:27:38,769 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:27:40,704 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:27:40,996 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:27:41,072 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:27:41,166 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:27:41,181 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:27:41,244 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:27:41,246 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:27:41,248 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:27:41,249 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:27:41,250 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:27:41,251 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:27:41,253 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:27:41,512 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:27:41,522 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:27:41,531 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:27:41,549 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106061546 with initial instances count: 2
2022-03-12 17:27:41,569 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:27:41,572 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106061572, current=UP, previous=STARTING]
2022-03-12 17:27:41,584 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:41,588 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:27:41,606 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:27:41,639 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:27:41,699 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:27:41,703 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:27:41,722 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:27:41,733 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:27:41,741 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:41,745 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:27:41,759 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:41,762 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:41,778 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:27:41,820 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:27:47,957 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:47,962 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:50,133 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:50,917 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:50,920 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:27:51,730 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:27:51,765 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:27:51,766 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:27:52,381 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:27:52,384 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:27:52,691 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 296 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:27:53,013 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:27:53,016 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:27:53,045 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:27:53,046 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2022-03-12 17:27:53,532 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:27:54,500 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:27:54,518 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:27:54,519 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:27:54,520 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:27:54,602 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:27:54,604 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2836 ms
2022-03-12 17:27:56,093 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:27:56,095 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:27:56,149 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:27:56,154 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:27:56,212 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:164}] to mongodb3:27017
2022-03-12 17:27:56,216 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:165}] to mongodb3:27017
2022-03-12 17:27:56,217 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:164}] to mongodb2:27017
2022-03-12 17:27:56,220 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:144}] to mongodb1:27017
2022-03-12 17:27:56,212 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:143}] to mongodb1:27017
2022-03-12 17:27:56,212 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:163}] to mongodb2:27017
2022-03-12 17:27:56,224 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42217300, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:27:54 GMT 2022, lastUpdateTimeNanos=466014861085187}
2022-03-12 17:27:56,226 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42258700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:27:54 GMT 2022, lastUpdateTimeNanos=466014861258987}
2022-03-12 17:27:56,226 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42434900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:27:54 GMT 2022, lastUpdateTimeNanos=466014861078787}
2022-03-12 17:27:56,233 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:27:56,234 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:27:56,236 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd81c7c64f900eb016b63', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:27:56,288 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:56,337 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:27:57,235 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3a7cae6e-126e-4b20-8324-577cc12bbdb8

2022-03-12 17:27:58,029 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48f4713c, org.springframework.security.web.context.SecurityContextPersistenceFilter@4288d98e, org.springframework.security.web.header.HeaderWriterFilter@ef60710, org.springframework.security.web.authentication.logout.LogoutFilter@50f097b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@285c6918, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79b2852b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f1868c9, org.springframework.security.web.session.SessionManagementFilter@7ee8130e, org.springframework.security.web.access.ExceptionTranslationFilter@53a7a60c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58437801]
2022-03-12 17:28:01,895 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:28:02,311 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:28:02,425 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:28:02,597 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:28:02,626 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:28:02,693 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:28:02,694 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:28:02,696 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:28:02,697 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:28:02,699 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:28:02,700 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:28:02,701 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:28:02,940 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:28:02,946 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:28:02,951 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:28:02,962 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106082960 with initial instances count: 2
2022-03-12 17:28:02,975 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:28:02,977 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106082977, current=UP, previous=STARTING]
2022-03-12 17:28:02,985 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:02,986 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:28:03,003 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:28:03,035 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:28:03,095 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:28:03,101 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:28:03,111 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:28:03,121 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:28:03,124 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:03,126 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:28:03,139 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:03,142 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:03,156 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:28:03,196 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:28:09,763 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:09,769 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:11,893 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:12,676 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:12,681 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:28:13,466 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:28:13,519 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:13,520 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:14,222 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:28:14,224 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:28:14,548 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 314 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:28:14,870 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:28:14,874 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:28:14,905 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:28:14,906 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:28:15,466 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:28:16,430 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:28:16,447 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:16,449 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:28:16,450 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:28:16,531 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:28:16,533 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3011 ms
2022-03-12 17:28:17,950 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:28:17,952 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:28:18,017 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:28:18,020 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:28:18,081 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:146}] to mongodb1:27017
2022-03-12 17:28:18,081 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:166}] to mongodb2:27017
2022-03-12 17:28:18,083 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:167}] to mongodb3:27017
2022-03-12 17:28:18,083 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:166}] to mongodb3:27017
2022-03-12 17:28:18,090 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45898100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:28:14 GMT 2022, lastUpdateTimeNanos=466036733581387}
2022-03-12 17:28:18,081 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:165}] to mongodb2:27017
2022-03-12 17:28:18,081 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:145}] to mongodb1:27017
2022-03-12 17:28:18,096 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43899700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:28:14 GMT 2022, lastUpdateTimeNanos=466036729411887}
2022-03-12 17:28:18,096 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43946200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:28:14 GMT 2022, lastUpdateTimeNanos=466036729411887}
2022-03-12 17:28:18,101 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:28:18,102 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:28:18,104 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd83103caf729b957e697', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:28:18,163 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:28:18,212 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:28:18,744 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: b2c0c001-4f7d-4061-8433-52dbc203efbd

2022-03-12 17:28:18,944 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d5ef498, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ae126d1, org.springframework.security.web.header.HeaderWriterFilter@11c3ff67, org.springframework.security.web.authentication.logout.LogoutFilter@44b21f9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6242ae3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b9eb03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95eb320, org.springframework.security.web.session.SessionManagementFilter@3e4e4c1, org.springframework.security.web.access.ExceptionTranslationFilter@2aaf152b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f847af]
2022-03-12 17:28:20,436 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:28:20,675 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:28:20,731 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:28:20,823 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:28:20,836 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:28:20,889 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:28:20,890 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:28:20,892 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:28:20,893 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:28:20,894 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:28:20,896 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:28:20,898 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:28:21,098 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:28:21,104 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:28:21,110 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:28:21,120 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106101118 with initial instances count: 2
2022-03-12 17:28:21,135 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:28:21,137 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106101137, current=UP, previous=STARTING]
2022-03-12 17:28:21,142 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:21,144 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:28:21,157 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:28:21,183 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:28:21,227 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:28:21,233 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:28:21,241 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:28:21,250 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:28:21,253 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:21,255 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:28:21,266 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:21,269 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:21,284 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:28:21,319 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:28:27,292 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:27,296 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:29,533 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:30,287 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:30,289 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:28:31,108 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:28:31,144 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:31,146 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:31,736 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:28:31,739 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:28:32,019 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 272 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:28:32,309 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:28:32,313 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:28:32,339 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:28:32,341 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2022-03-12 17:28:32,850 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:28:34,307 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:28:34,333 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:34,334 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:28:34,336 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:28:34,429 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:28:34,431 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3283 ms
2022-03-12 17:28:36,658 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:28:36,660 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:28:36,740 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:28:36,745 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:28:36,835 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:168}] to mongodb2:27017
2022-03-12 17:28:36,835 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:147}] to mongodb1:27017
2022-03-12 17:28:36,839 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:168}] to mongodb3:27017
2022-03-12 17:28:36,844 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:167}] to mongodb2:27017
2022-03-12 17:28:36,844 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51426100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:28:34 GMT 2022, lastUpdateTimeNanos=466055518176087}
2022-03-12 17:28:36,844 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=58495400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:28:34 GMT 2022, lastUpdateTimeNanos=466055518187687}
2022-03-12 17:28:36,844 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:148}] to mongodb1:27017
2022-03-12 17:28:36,836 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:169}] to mongodb3:27017
2022-03-12 17:28:36,852 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49386000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:28:34 GMT 2022, lastUpdateTimeNanos=466055517881287}
2022-03-12 17:28:36,861 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:28:36,862 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:28:36,865 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd844af4a566474df4a9b', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:28:36,991 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:28:37,060 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:28:37,942 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: d8049921-465e-4bda-a7e2-f9cf6568215d

2022-03-12 17:28:38,239 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@95eb320, org.springframework.security.web.context.SecurityContextPersistenceFilter@46a488c2, org.springframework.security.web.header.HeaderWriterFilter@4397a639, org.springframework.security.web.authentication.logout.LogoutFilter@7ee8130e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65ddee5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43fda8d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f521c4, org.springframework.security.web.session.SessionManagementFilter@7e7f3cfd, org.springframework.security.web.access.ExceptionTranslationFilter@39bbd9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed34ef5]
2022-03-12 17:28:39,838 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:28:40,113 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:28:40,182 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:28:40,271 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:28:40,282 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:28:40,332 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:28:40,334 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:28:40,336 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:28:40,337 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:28:40,338 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:28:40,339 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:28:40,340 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:28:40,527 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:28:40,533 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:28:40,537 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:28:40,546 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106120544 with initial instances count: 2
2022-03-12 17:28:40,557 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:28:40,559 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106120559, current=UP, previous=STARTING]
2022-03-12 17:28:40,564 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:40,565 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:28:40,578 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:28:40,620 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:28:40,670 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:28:40,675 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:28:40,683 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:28:40,693 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:28:40,696 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:40,698 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:28:40,709 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:40,711 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:40,724 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:28:40,763 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:28:47,197 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:47,202 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:49,354 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:50,133 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:50,136 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:28:50,987 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:28:51,078 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:28:51,079 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:28:51,905 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:28:51,908 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:28:52,287 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 369 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:28:52,635 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:28:52,638 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:28:52,670 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:28:52,671 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:28:53,263 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:28:54,405 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:28:54,425 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:28:54,427 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:28:54,429 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:28:54,513 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:28:54,516 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3435 ms
2022-03-12 17:28:57,014 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:28:57,017 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:28:57,107 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:28:57,111 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:28:57,189 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:170}] to mongodb2:27017
2022-03-12 17:28:57,189 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:170}] to mongodb3:27017
2022-03-12 17:28:57,186 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:169}] to mongodb2:27017
2022-03-12 17:28:57,186 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:149}] to mongodb1:27017
2022-03-12 17:28:57,186 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:171}] to mongodb3:27017
2022-03-12 17:28:57,186 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:150}] to mongodb1:27017
2022-03-12 17:28:57,199 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=59951000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:28:54 GMT 2022, lastUpdateTimeNanos=466075910847487}
2022-03-12 17:28:57,199 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60321700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:28:54 GMT 2022, lastUpdateTimeNanos=466075910786187}
2022-03-12 17:28:57,204 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55312600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:28:54 GMT 2022, lastUpdateTimeNanos=466075905722787}
2022-03-12 17:28:57,210 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:28:57,212 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:28:57,214 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd85957f1c6719da372e0', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:28:57,279 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:28:57,362 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:28:58,386 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 01aab6d4-3c68-45de-948e-5fbc81fcac13

2022-03-12 17:28:59,206 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57f847af, org.springframework.security.web.context.SecurityContextPersistenceFilter@79a7bfbc, org.springframework.security.web.header.HeaderWriterFilter@32b0876c, org.springframework.security.web.authentication.logout.LogoutFilter@600f5704, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4e4c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46a488c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ed34ef5, org.springframework.security.web.session.SessionManagementFilter@24841372, org.springframework.security.web.access.ExceptionTranslationFilter@441b8382, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@303f1234]
2022-03-12 17:29:03,048 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:29:03,779 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:29:03,863 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:29:04,353 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:29:04,420 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:29:04,683 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:29:04,685 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:29:04,686 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:29:04,687 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:29:04,688 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:29:04,689 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:29:04,691 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:29:05,366 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:29:05,371 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:29:05,376 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:29:05,385 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106145384 with initial instances count: 2
2022-03-12 17:29:05,398 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:29:05,400 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106145400, current=UP, previous=STARTING]
2022-03-12 17:29:05,405 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:05,406 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:29:05,419 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:29:05,459 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:29:05,499 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:29:05,505 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:29:05,512 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:29:05,520 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:29:05,523 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:05,526 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:29:05,536 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:05,539 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:05,553 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:29:05,587 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:29:11,591 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:11,596 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:13,805 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:14,583 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:14,587 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:29:15,472 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:29:15,510 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:15,511 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:16,166 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:29:16,169 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:29:16,520 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 341 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:29:16,891 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:29:16,896 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:29:16,938 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:29:16,940 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:29:17,667 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:29:19,692 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:29:19,726 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:19,728 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:29:19,730 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:29:19,838 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:29:19,841 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4328 ms
2022-03-12 17:29:21,552 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:29:21,554 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:29:21,623 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:29:21,626 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:29:21,678 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:172}] to mongodb2:27017
2022-03-12 17:29:21,677 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:152}] to mongodb1:27017
2022-03-12 17:29:21,679 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:173}] to mongodb3:27017
2022-03-12 17:29:21,679 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:172}] to mongodb3:27017
2022-03-12 17:29:21,677 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:151}] to mongodb1:27017
2022-03-12 17:29:21,677 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:171}] to mongodb2:27017
2022-03-12 17:29:21,684 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=36031800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:29:14 GMT 2022, lastUpdateTimeNanos=466100397225887}
2022-03-12 17:29:21,684 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=36095900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:29:14 GMT 2022, lastUpdateTimeNanos=466100397846587}
2022-03-12 17:29:21,688 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=36670800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:29:14 GMT 2022, lastUpdateTimeNanos=466100397546387}
2022-03-12 17:29:21,695 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:29:21,696 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:29:21,698 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd87199276f30dd02161a', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:29:21,761 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:29:21,810 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:29:22,398 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: abde41d0-41d4-451c-a666-2ba5698f2aa7

2022-03-12 17:29:22,684 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 17:29:24,772 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:29:25,167 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:29:25,255 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:29:25,349 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:29:25,362 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:29:25,407 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:29:25,408 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:29:25,410 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:29:25,411 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:29:25,412 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:29:25,412 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:29:25,414 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:29:25,772 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:29:25,779 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:29:25,784 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:29:25,800 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106165796 with initial instances count: 2
2022-03-12 17:29:25,827 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:29:25,831 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106165830, current=UP, previous=STARTING]
2022-03-12 17:29:25,839 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:25,842 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:29:25,863 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:29:25,898 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:29:25,964 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:29:25,970 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:29:25,979 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:29:25,989 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:29:25,992 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:25,995 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:29:26,005 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:26,008 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:26,020 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:29:26,055 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:29:33,444 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:33,449 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:35,823 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:36,600 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:36,608 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:29:37,432 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:29:37,520 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:37,522 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:38,320 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:29:38,327 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:29:38,752 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 410 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:29:39,158 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:29:39,161 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:29:39,190 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:29:39,191 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2022-03-12 17:29:39,795 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:29:41,177 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:29:41,201 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:41,203 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:29:41,205 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:29:41,297 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:29:41,300 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3776 ms
2022-03-12 17:29:43,480 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:29:43,482 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:29:43,536 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:29:43,540 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:29:43,608 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:153}] to mongodb1:27017
2022-03-12 17:29:43,613 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:175}] to mongodb3:27017
2022-03-12 17:29:43,613 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:154}] to mongodb1:27017
2022-03-12 17:29:43,613 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:174}] to mongodb2:27017
2022-03-12 17:29:43,613 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:173}] to mongodb2:27017
2022-03-12 17:29:43,608 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:174}] to mongodb3:27017
2022-03-12 17:29:43,620 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40507600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:29:34 GMT 2022, lastUpdateTimeNanos=466122365132487}
2022-03-12 17:29:43,624 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45798000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:29:34 GMT 2022, lastUpdateTimeNanos=466122370497687}
2022-03-12 17:29:43,626 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40023700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:29:34 GMT 2022, lastUpdateTimeNanos=466122364574087}
2022-03-12 17:29:43,636 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:29:43,637 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:29:43,639 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd887214cec0fa509c5ce', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:29:43,698 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:29:43,781 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:29:44,330 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 8a488894-16ce-45e6-98ec-601fbe3a40ad

2022-03-12 17:29:44,617 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:29:46,424 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:29:46,704 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:29:46,795 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:29:46,907 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:29:46,923 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:29:46,992 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:29:46,993 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:29:46,995 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:29:46,996 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:29:46,997 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:29:46,998 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:29:47,000 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:29:47,261 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:29:47,270 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:29:47,277 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:29:47,287 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106187285 with initial instances count: 2
2022-03-12 17:29:47,301 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:29:47,304 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106187304, current=UP, previous=STARTING]
2022-03-12 17:29:47,309 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:47,309 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:29:47,324 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:29:47,357 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:29:47,414 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:29:47,419 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:29:47,434 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:29:47,447 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:29:47,452 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:47,456 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:29:47,473 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:47,477 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:29:47,492 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:29:47,540 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:29:54,170 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:54,177 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:56,494 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:57,256 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:57,259 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:29:58,153 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:29:58,229 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:29:58,231 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:29:59,013 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:29:59,016 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:29:59,643 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 609 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:30:00,159 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:30:00,165 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:30:00,197 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:30:00,199 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:30:00,810 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:30:02,139 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:30:02,158 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:02,159 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:30:02,160 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:30:02,241 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:30:02,244 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4011 ms
2022-03-12 17:30:04,194 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:30:04,196 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:30:04,260 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:30:04,263 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:30:04,333 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:175}] to mongodb2:27017
2022-03-12 17:30:04,332 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:176}] to mongodb2:27017
2022-03-12 17:30:04,334 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:176}] to mongodb3:27017
2022-03-12 17:30:04,340 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44377000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:29:54 GMT 2022, lastUpdateTimeNanos=466143124457187}
2022-03-12 17:30:04,336 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:177}] to mongodb3:27017
2022-03-12 17:30:04,335 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:156}] to mongodb1:27017
2022-03-12 17:30:04,342 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:155}] to mongodb1:27017
2022-03-12 17:30:04,345 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44904400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:29:54 GMT 2022, lastUpdateTimeNanos=466143124986187}
2022-03-12 17:30:04,351 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=54843200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:29:54 GMT 2022, lastUpdateTimeNanos=466143135153487}
2022-03-12 17:30:04,366 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:30:04,367 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:30:04,372 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd89c05419d3c483f83fc', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:30:04,435 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:30:04,505 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:30:05,175 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 146aeb3b-889a-448c-9dc3-beb62f5dca49

2022-03-12 17:30:05,433 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:30:07,392 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:30:07,630 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:30:07,689 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:30:07,763 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:30:07,775 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:30:07,817 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:30:07,819 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:30:07,822 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:30:07,823 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:30:07,824 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:30:07,826 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:30:07,829 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:30:08,105 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:30:08,113 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:30:08,120 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:30:08,134 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106208132 with initial instances count: 2
2022-03-12 17:30:08,157 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:30:08,159 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106208159, current=UP, previous=STARTING]
2022-03-12 17:30:08,169 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:08,174 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:30:08,194 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:30:08,265 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:30:08,327 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:30:08,331 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:30:08,339 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:30:08,348 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:30:08,352 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:08,354 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:30:08,365 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:08,368 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:08,383 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:30:08,418 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:30:15,162 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:30:15,188 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:30:17,868 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:30:18,657 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:30:18,662 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:30:19,487 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:30:19,556 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:30:19,557 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:30:20,226 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:30:20,229 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:30:20,580 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 342 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:30:20,891 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:30:20,894 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:30:20,913 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:30:20,915 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2022-03-12 17:30:21,429 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:30:22,680 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:30:22,700 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:22,701 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:30:22,703 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:30:22,783 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:30:22,787 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3229 ms
2022-03-12 17:30:24,578 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:30:24,586 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:30:24,709 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:30:24,721 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:30:24,828 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:157}] to mongodb1:27017
2022-03-12 17:30:24,828 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:178}] to mongodb2:27017
2022-03-12 17:30:24,828 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:179}] to mongodb3:27017
2022-03-12 17:30:24,826 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:177}] to mongodb2:27017
2022-03-12 17:30:24,827 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:158}] to mongodb1:27017
2022-03-12 17:30:24,826 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:178}] to mongodb3:27017
2022-03-12 17:30:24,839 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=67588500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:30:24 GMT 2022, lastUpdateTimeNanos=466163653513587}
2022-03-12 17:30:24,842 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69559000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:30:24 GMT 2022, lastUpdateTimeNanos=466163653513587}
2022-03-12 17:30:24,844 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69559000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:30:24 GMT 2022, lastUpdateTimeNanos=466163653513587}
2022-03-12 17:30:24,856 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:30:24,858 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:30:24,860 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8b041310e79d337f2d9', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:30:24,938 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:30:25,031 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:30:25,871 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 4f9889a5-fd0a-44e6-8efa-f287eff4b403

2022-03-12 17:30:26,194 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:30:28,416 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:30:28,801 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:30:28,888 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:30:28,978 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:30:28,991 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:30:29,041 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:30:29,043 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:30:29,045 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:30:29,046 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:30:29,047 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:30:29,048 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:30:29,050 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:30:29,260 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:30:29,266 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:30:29,272 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:30:29,281 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106229280 with initial instances count: 2
2022-03-12 17:30:29,312 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:30:29,314 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106229313, current=UP, previous=STARTING]
2022-03-12 17:30:29,319 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:29,320 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:30:29,332 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:30:29,356 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:30:29,396 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:30:29,401 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:30:29,408 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:30:29,417 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:30:29,420 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:29,423 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:30:29,432 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:29,435 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:29,447 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:30:29,482 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:30:35,670 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:30:35,677 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:30:38,117 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:30:38,896 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:30:38,912 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:30:39,831 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:30:39,909 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:30:39,912 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:30:41,094 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:30:41,097 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:30:41,701 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 595 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:30:42,218 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:30:42,223 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:30:42,256 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:30:42,258 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:30:42,803 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:30:44,093 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:30:44,113 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:44,115 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:30:44,116 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:30:44,182 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:30:44,185 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4271 ms
2022-03-12 17:30:46,066 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:30:46,069 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:30:46,216 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:30:46,222 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:30:46,315 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:180}] to mongodb2:27017
2022-03-12 17:30:46,313 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:180}] to mongodb3:27017
2022-03-12 17:30:46,316 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:181}] to mongodb3:27017
2022-03-12 17:30:46,315 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:159}] to mongodb1:27017
2022-03-12 17:30:46,315 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:160}] to mongodb1:27017
2022-03-12 17:30:46,313 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:179}] to mongodb2:27017
2022-03-12 17:30:46,333 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56214300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:30:44 GMT 2022, lastUpdateTimeNanos=466185140354587}
2022-03-12 17:30:46,333 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56307800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:30:44 GMT 2022, lastUpdateTimeNanos=466185140595087}
2022-03-12 17:30:46,333 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=58120500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:30:44 GMT 2022, lastUpdateTimeNanos=466185140354587}
2022-03-12 17:30:46,349 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:30:46,351 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:30:46,353 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8c6451544773f058e67', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:30:46,462 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:30:46,566 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:30:47,381 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 4cc79d79-1abf-48d4-9258-ffc70de39878

2022-03-12 17:30:47,797 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:30:49,978 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:30:50,360 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:30:50,440 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:30:50,562 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:30:50,578 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:30:50,639 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:30:50,641 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:30:50,643 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:30:50,643 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:30:50,644 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:30:50,645 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:30:50,647 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:30:50,890 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:30:50,896 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:30:50,902 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:30:50,912 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106250910 with initial instances count: 2
2022-03-12 17:30:50,926 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:30:50,927 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106250927, current=UP, previous=STARTING]
2022-03-12 17:30:50,932 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:50,933 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:30:50,945 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:30:50,979 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:30:51,098 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:30:51,106 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:30:51,128 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:30:51,143 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:30:51,147 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:51,151 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:30:51,164 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:51,169 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:30:51,186 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:30:51,237 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:30:57,732 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:30:57,739 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:00,205 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:01,013 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:01,016 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:31:01,830 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:31:01,874 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:01,875 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:02,596 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:31:02,599 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:31:02,914 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 306 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:31:03,215 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:31:03,219 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:31:03,249 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:31:03,251 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:31:03,785 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:31:05,106 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:31:05,125 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:05,127 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:31:05,129 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:31:05,226 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:31:05,230 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3354 ms
2022-03-12 17:31:07,125 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:31:07,127 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:31:07,189 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:31:07,193 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:31:07,276 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:181}] to mongodb2:27017
2022-03-12 17:31:07,276 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:161}] to mongodb1:27017
2022-03-12 17:31:07,281 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:162}] to mongodb1:27017
2022-03-12 17:31:07,276 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:182}] to mongodb2:27017
2022-03-12 17:31:07,332 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45070300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:31:04 GMT 2022, lastUpdateTimeNanos=466206137735587}
2022-03-12 17:31:07,286 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:183}] to mongodb3:27017
2022-03-12 17:31:07,276 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:182}] to mongodb3:27017
2022-03-12 17:31:07,335 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44936200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:31:04 GMT 2022, lastUpdateTimeNanos=466206137723587}
2022-03-12 17:31:07,339 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43457100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:31:04 GMT 2022, lastUpdateTimeNanos=466206138747787}
2022-03-12 17:31:07,359 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:31:07,368 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:31:07,374 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8db2329eb662b45b65c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:31:07,497 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:31:07,546 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:31:08,144 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: e53e5169-00f9-472d-801a-5a74b04a386f

2022-03-12 17:31:08,368 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4730e0f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@43fda8d9, org.springframework.security.web.header.HeaderWriterFilter@3e4e4c1, org.springframework.security.web.authentication.logout.LogoutFilter@78a0ff63, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53a7a60c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ef60710, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@506a1372, org.springframework.security.web.session.SessionManagementFilter@56399b9e, org.springframework.security.web.access.ExceptionTranslationFilter@77114efe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f521c4]
2022-03-12 17:31:10,552 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:31:10,923 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:31:11,012 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:31:11,135 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:31:11,156 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:31:11,260 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:31:11,262 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:31:11,267 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:31:11,269 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:31:11,273 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:31:11,274 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:31:11,277 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:31:11,577 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:31:11,586 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:31:11,593 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:31:11,605 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106271603 with initial instances count: 2
2022-03-12 17:31:11,623 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:31:11,626 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106271626, current=UP, previous=STARTING]
2022-03-12 17:31:11,633 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:11,640 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:31:11,646 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:31:11,678 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:31:11,736 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:31:11,742 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:31:11,750 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:31:11,758 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:31:11,761 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:11,763 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:31:11,773 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:11,775 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:11,787 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:31:11,817 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:31:17,639 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:17,645 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:19,735 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:20,507 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:20,510 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:31:21,324 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:31:21,370 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:21,371 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:22,270 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:31:22,279 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:31:22,831 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 524 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:31:23,315 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:31:23,322 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:31:23,371 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:31:23,374 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2022-03-12 17:31:24,125 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:31:25,803 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:31:25,821 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:25,823 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:31:25,824 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:31:25,930 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:31:25,933 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4561 ms
2022-03-12 17:31:27,617 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:31:27,621 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:31:27,693 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:31:27,697 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:31:27,784 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:184}] to mongodb3:27017
2022-03-12 17:31:27,784 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:164}] to mongodb1:27017
2022-03-12 17:31:27,791 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:183}] to mongodb2:27017
2022-03-12 17:31:27,786 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:163}] to mongodb1:27017
2022-03-12 17:31:27,791 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:185}] to mongodb3:27017
2022-03-12 17:31:27,786 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:184}] to mongodb2:27017
2022-03-12 17:31:27,804 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55351300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:31:24 GMT 2022, lastUpdateTimeNanos=466226684130187}
2022-03-12 17:31:27,804 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55351300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:31:24 GMT 2022, lastUpdateTimeNanos=466226684130187}
2022-03-12 17:31:27,804 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53728800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:31:24 GMT 2022, lastUpdateTimeNanos=466226684485887}
2022-03-12 17:31:27,812 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:31:27,813 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:31:27,815 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd8efc4dfac4386d20af3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:31:27,875 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:31:27,962 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:31:28,609 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: cca2a238-36b8-45e6-a74f-70daf78122d4

2022-03-12 17:31:28,840 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 17:31:30,511 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:31:31,023 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:31:31,149 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:31:31,245 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:31:31,258 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:31:31,308 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:31:31,309 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:31:31,312 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:31:31,313 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:31:31,314 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:31:31,315 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:31:31,316 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:31:31,589 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:31:31,596 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:31:31,603 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:31:31,617 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106291614 with initial instances count: 2
2022-03-12 17:31:31,633 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:31:31,635 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106291635, current=UP, previous=STARTING]
2022-03-12 17:31:31,641 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:31,641 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:31:31,657 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:31:31,685 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:31:31,729 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:31:31,734 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:31:31,742 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:31:31,750 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:31:31,759 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:31,767 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:31:31,809 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:31,821 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:31,855 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:31:31,910 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:31:39,864 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:39,873 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:42,504 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:43,268 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:43,271 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:31:44,061 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:31:44,126 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:31:44,128 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:31:45,057 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:31:45,062 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:31:45,483 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 408 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:31:46,011 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:31:46,017 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:31:46,055 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:31:46,056 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 17:31:46,678 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:31:48,070 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:31:48,095 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:48,098 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:31:48,100 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:31:48,208 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:31:48,210 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4081 ms
2022-03-12 17:31:50,203 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:31:50,206 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:31:50,303 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:31:50,306 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:31:50,384 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:186}] to mongodb2:27017
2022-03-12 17:31:50,385 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:187}] to mongodb3:27017
2022-03-12 17:31:50,383 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:186}] to mongodb3:27017
2022-03-12 17:31:50,382 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:166}] to mongodb1:27017
2022-03-12 17:31:50,384 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:185}] to mongodb2:27017
2022-03-12 17:31:50,384 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:165}] to mongodb1:27017
2022-03-12 17:31:50,392 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56431700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:31:44 GMT 2022, lastUpdateTimeNanos=466249282624987}
2022-03-12 17:31:50,392 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55275600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:31:44 GMT 2022, lastUpdateTimeNanos=466249282389987}
2022-03-12 17:31:50,394 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56202000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:31:44 GMT 2022, lastUpdateTimeNanos=466249282334687}
2022-03-12 17:31:50,409 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:31:50,425 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:31:50,427 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9061c7afc55db017790', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:31:50,481 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:31:50,579 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:31:51,567 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: f3becd4c-2d51-440f-a4d2-d24f3925bb45

2022-03-12 17:31:51,964 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:31:53,991 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:31:54,292 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:31:54,362 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:31:54,473 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:31:54,500 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:31:54,566 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:31:54,568 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:31:54,571 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:31:54,573 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:31:54,574 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:31:54,576 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:31:54,578 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:31:54,829 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:31:54,841 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:31:54,870 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:31:54,886 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106314884 with initial instances count: 2
2022-03-12 17:31:54,905 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:31:54,908 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106314908, current=UP, previous=STARTING]
2022-03-12 17:31:54,914 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:54,916 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:31:54,929 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:31:54,956 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:31:55,011 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:31:55,020 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:31:55,030 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:31:55,039 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:31:55,043 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:55,046 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:31:55,059 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:55,063 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:31:55,079 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:31:55,123 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:32:02,464 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:32:02,475 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:32:04,945 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:32:05,738 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:32:05,741 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:32:06,651 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:32:06,708 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:32:06,710 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:32:07,747 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:32:07,752 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:32:08,233 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 468 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:32:08,893 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:32:08,903 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:32:08,948 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:32:08,949 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2022-03-12 17:32:09,661 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:32:11,494 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:32:11,515 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:11,516 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:32:11,518 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:32:11,601 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:32:11,603 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4891 ms
2022-03-12 17:32:14,161 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:32:14,168 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:32:14,316 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:32:14,320 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:32:14,441 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:168}] to mongodb1:27017
2022-03-12 17:32:14,441 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:167}] to mongodb1:27017
2022-03-12 17:32:14,446 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:188}] to mongodb3:27017
2022-03-12 17:32:14,441 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:187}] to mongodb2:27017
2022-03-12 17:32:14,446 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:188}] to mongodb2:27017
2022-03-12 17:32:14,441 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:189}] to mongodb3:27017
2022-03-12 17:32:14,467 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=93384900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:32:04 GMT 2022, lastUpdateTimeNanos=466273374555487}
2022-03-12 17:32:14,468 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=93822500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:32:04 GMT 2022, lastUpdateTimeNanos=466273374555487}
2022-03-12 17:32:14,468 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=93822500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:32:04 GMT 2022, lastUpdateTimeNanos=466273374555487}
2022-03-12 17:32:14,494 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:32:14,495 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:32:14,506 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd91e994c130f74fdda77', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:32:14,650 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:32:15,478 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:32:16,749 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 2a91d9fb-16dd-4d8a-bfea-c99bb2803497

2022-03-12 17:32:17,218 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d5ef498, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ae126d1, org.springframework.security.web.header.HeaderWriterFilter@11c3ff67, org.springframework.security.web.authentication.logout.LogoutFilter@44b21f9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6242ae3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b9eb03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95eb320, org.springframework.security.web.session.SessionManagementFilter@3e4e4c1, org.springframework.security.web.access.ExceptionTranslationFilter@2aaf152b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f847af]
2022-03-12 17:32:20,383 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:32:20,958 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:32:21,066 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:32:21,218 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:32:21,239 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:32:21,332 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:32:21,334 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:32:21,339 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:32:21,340 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:32:21,342 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:32:21,344 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:32:21,347 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:32:21,711 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:32:21,724 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:32:21,732 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:32:21,751 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106341747 with initial instances count: 2
2022-03-12 17:32:21,792 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:32:21,796 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106341796, current=UP, previous=STARTING]
2022-03-12 17:32:21,804 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:21,812 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:32:21,827 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:32:21,864 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:32:21,970 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:32:21,979 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:32:21,996 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:32:22,013 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:32:22,019 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:22,022 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:32:22,041 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:22,045 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:22,063 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:32:22,127 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:32:30,490 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:32:30,499 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:32:33,057 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:32:33,875 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:32:33,879 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:32:34,744 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:32:34,812 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:32:34,814 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:32:35,977 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:32:35,982 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:32:36,534 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 533 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:32:37,081 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:32:37,087 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:32:37,133 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:32:37,135 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2022-03-12 17:32:38,010 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:32:40,209 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:32:40,251 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:40,256 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:32:40,262 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:32:40,432 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:32:40,436 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5619 ms
2022-03-12 17:32:43,521 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:32:43,525 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:32:43,636 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:32:43,644 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:32:43,752 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:190}] to mongodb2:27017
2022-03-12 17:32:43,753 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:170}] to mongodb1:27017
2022-03-12 17:32:43,752 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:169}] to mongodb1:27017
2022-03-12 17:32:43,752 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:189}] to mongodb2:27017
2022-03-12 17:32:43,753 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:191}] to mongodb3:27017
2022-03-12 17:32:43,755 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:190}] to mongodb3:27017
2022-03-12 17:32:43,767 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=73433200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:32:34 GMT 2022, lastUpdateTimeNanos=466302723523287}
2022-03-12 17:32:43,775 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=74445000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:32:34 GMT 2022, lastUpdateTimeNanos=466302723656187}
2022-03-12 17:32:43,772 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=74510600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:32:34 GMT 2022, lastUpdateTimeNanos=466302723725287}
2022-03-12 17:32:43,785 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:32:43,786 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:32:43,788 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd93bf0561313c957b5c3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:32:43,903 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:32:44,047 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:32:44,984 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 954cdc83-de2d-42ff-992f-44214a79ce26

2022-03-12 17:32:45,372 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 17:32:48,121 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:32:48,568 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:32:48,692 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:32:48,832 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:32:48,862 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:32:48,951 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:32:48,953 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:32:48,958 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:32:48,960 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:32:48,961 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:32:48,963 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:32:48,968 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:32:49,291 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:32:49,304 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:32:49,312 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:32:49,330 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106369325 with initial instances count: 2
2022-03-12 17:32:49,353 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:32:49,362 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106369362, current=UP, previous=STARTING]
2022-03-12 17:32:49,371 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:49,372 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:32:49,398 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:32:49,456 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:32:49,523 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:32:49,533 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:32:49,554 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:32:49,586 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:32:49,591 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:49,598 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:32:49,613 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:49,619 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:32:49,646 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:32:49,756 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:32:57,714 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:32:57,725 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:00,307 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:01,145 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:01,149 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:33:01,970 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:33:02,015 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:02,016 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:02,737 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:33:02,739 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:33:03,080 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 330 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:33:03,447 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:33:03,450 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:33:03,489 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:33:03,490 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:33:04,065 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:33:05,195 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:33:05,215 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:05,216 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:33:05,218 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:33:05,312 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:33:05,315 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3297 ms
2022-03-12 17:33:07,038 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:33:07,041 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:33:07,114 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:33:07,118 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:33:07,189 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:172}] to mongodb1:27017
2022-03-12 17:33:07,189 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:192}] to mongodb2:27017
2022-03-12 17:33:07,189 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:191}] to mongodb2:27017
2022-03-12 17:33:07,192 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:193}] to mongodb3:27017
2022-03-12 17:33:07,191 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:171}] to mongodb1:27017
2022-03-12 17:33:07,189 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:192}] to mongodb3:27017
2022-03-12 17:33:07,198 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46740200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:33:04 GMT 2022, lastUpdateTimeNanos=466326197904187}
2022-03-12 17:33:07,198 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45555900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:33:04 GMT 2022, lastUpdateTimeNanos=466326196680287}
2022-03-12 17:33:07,202 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45074200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:33:04 GMT 2022, lastUpdateTimeNanos=466326196689587}
2022-03-12 17:33:07,209 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:33:07,211 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:33:07,213 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd953b9193c04e00faebd', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:33:07,275 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:33:07,329 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:33:08,402 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 21cb17cb-10fc-41a6-9493-e49e5f2da096

2022-03-12 17:33:09,325 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@380e1909, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e7f3cfd, org.springframework.security.web.header.HeaderWriterFilter@27fe9713, org.springframework.security.web.authentication.logout.LogoutFilter@5e1fc42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a488c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56399b9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d5ef498, org.springframework.security.web.session.SessionManagementFilter@77f68df, org.springframework.security.web.access.ExceptionTranslationFilter@32b0876c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e58ca]
2022-03-12 17:33:12,944 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:33:13,473 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:33:13,562 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:33:13,846 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:33:13,881 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:33:14,052 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:33:14,054 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:33:14,057 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:33:14,058 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:33:14,060 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:33:14,061 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:33:14,063 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:33:14,773 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:33:14,784 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:33:14,796 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:33:14,820 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106394818 with initial instances count: 2
2022-03-12 17:33:14,833 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:33:14,837 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106394837, current=UP, previous=STARTING]
2022-03-12 17:33:14,843 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:14,851 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:33:14,856 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:33:14,903 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:33:15,109 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:33:15,113 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:33:15,124 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:33:15,133 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:33:15,136 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:15,138 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:33:15,152 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:15,155 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:15,168 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:33:15,232 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:33:21,865 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:21,874 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:24,450 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:25,228 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:25,232 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:33:26,084 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:33:26,138 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:26,139 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:27,041 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:33:27,045 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:33:27,453 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 389 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:33:28,076 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:33:28,091 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:33:28,205 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:33:28,209 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62 ms. Found 0 Redis repository interfaces.
2022-03-12 17:33:29,536 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:33:31,316 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:33:31,395 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:31,404 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:33:31,416 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:33:31,655 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:33:31,658 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5517 ms
2022-03-12 17:33:34,223 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:33:34,228 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:33:34,331 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:33:34,336 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:33:34,458 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:194}] to mongodb3:27017
2022-03-12 17:33:34,458 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:195}] to mongodb3:27017
2022-03-12 17:33:34,472 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=90550800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:33:24 GMT 2022, lastUpdateTimeNanos=466353500913487}
2022-03-12 17:33:34,462 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:194}] to mongodb2:27017
2022-03-12 17:33:34,462 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:193}] to mongodb2:27017
2022-03-12 17:33:34,463 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:173}] to mongodb1:27017
2022-03-12 17:33:34,461 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:174}] to mongodb1:27017
2022-03-12 17:33:34,489 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=91909200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:33:24 GMT 2022, lastUpdateTimeNanos=466353500898387}
2022-03-12 17:33:34,491 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=90947200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:33:24 GMT 2022, lastUpdateTimeNanos=466353501135787}
2022-03-12 17:33:34,513 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:33:34,517 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:33:34,521 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd96ecd3464428a8ced3a', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:33:34,664 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:33:34,779 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:33:35,787 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3e389b47-a5e6-43d6-bf7b-8403050fd61b

2022-03-12 17:33:36,148 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:33:38,134 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:33:38,406 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:33:38,477 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:33:38,560 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:33:38,572 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:33:38,628 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:33:38,629 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:33:38,631 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:33:38,633 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:33:38,635 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:33:38,636 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:33:38,638 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:33:38,861 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:33:38,875 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:33:38,880 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:33:38,902 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106418900 with initial instances count: 2
2022-03-12 17:33:38,917 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:33:38,919 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106418919, current=UP, previous=STARTING]
2022-03-12 17:33:38,929 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:38,931 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:33:38,945 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:33:38,977 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:33:39,067 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:33:39,077 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:33:39,085 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:33:39,101 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:33:39,105 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:39,108 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:33:39,124 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:39,128 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:39,144 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:33:39,185 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:33:45,863 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:45,871 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:48,089 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:48,881 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:48,885 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:33:49,664 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:33:49,720 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:33:49,729 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:33:50,407 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:33:50,409 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:33:50,762 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 341 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:33:51,108 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:33:51,112 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:33:51,153 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:33:51,154 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 17:33:51,722 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:33:52,839 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:33:52,858 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:52,860 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:33:52,861 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:33:52,945 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:33:52,947 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3217 ms
2022-03-12 17:33:54,648 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:33:54,651 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:33:54,720 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:33:54,724 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:33:54,793 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:175}] to mongodb1:27017
2022-03-12 17:33:54,791 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:176}] to mongodb1:27017
2022-03-12 17:33:54,791 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:196}] to mongodb3:27017
2022-03-12 17:33:54,791 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:197}] to mongodb3:27017
2022-03-12 17:33:54,793 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:195}] to mongodb2:27017
2022-03-12 17:33:54,791 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:196}] to mongodb2:27017
2022-03-12 17:33:54,798 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47157600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:33:44 GMT 2022, lastUpdateTimeNanos=466373871300587}
2022-03-12 17:33:54,800 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47426700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:33:44 GMT 2022, lastUpdateTimeNanos=466373871278087}
2022-03-12 17:33:54,808 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48108000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:33:44 GMT 2022, lastUpdateTimeNanos=466373872473087}
2022-03-12 17:33:54,818 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:33:54,819 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:33:54,821 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9820b75ea0d39b6b36d', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:33:54,903 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:33:54,996 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:33:55,624 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 079b27b5-3f26-405e-b0b5-7e01b4b074c1

2022-03-12 17:33:55,890 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c41ec0, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef60710, org.springframework.security.web.header.HeaderWriterFilter@65ddee5a, org.springframework.security.web.authentication.logout.LogoutFilter@313f8301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2503ec73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44b21f9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a0e495, org.springframework.security.web.session.SessionManagementFilter@28bdbe88, org.springframework.security.web.access.ExceptionTranslationFilter@3ae126d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@506a1372]
2022-03-12 17:33:57,565 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:33:57,845 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:33:57,907 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:33:57,996 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:33:58,013 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:33:58,068 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:33:58,069 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:33:58,071 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:33:58,073 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:33:58,074 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:33:58,075 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:33:58,077 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:33:58,290 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:33:58,297 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:33:58,302 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:33:58,313 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106438311 with initial instances count: 2
2022-03-12 17:33:58,327 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:33:58,329 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106438329, current=UP, previous=STARTING]
2022-03-12 17:33:58,355 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:58,357 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:33:58,369 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:33:58,394 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:33:58,447 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:33:58,460 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:33:58,469 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:33:58,478 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:33:58,480 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:58,482 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:33:58,494 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:58,497 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:33:58,510 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:33:58,548 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:34:05,335 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:05,344 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:08,019 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:08,836 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:08,840 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:34:09,652 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:34:09,698 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:09,698 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:10,487 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:34:10,490 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:34:10,824 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 324 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:34:11,166 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:34:11,169 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:34:11,199 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:34:11,200 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:34:11,774 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:34:12,902 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:34:12,928 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:12,932 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:34:12,934 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:34:13,021 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:34:13,023 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3323 ms
2022-03-12 17:34:14,745 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:34:14,747 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:34:14,830 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:34:14,833 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:34:14,907 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:177}] to mongodb1:27017
2022-03-12 17:34:14,906 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:199}] to mongodb3:27017
2022-03-12 17:34:14,906 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:198}] to mongodb2:27017
2022-03-12 17:34:14,905 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:178}] to mongodb1:27017
2022-03-12 17:34:14,907 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:198}] to mongodb3:27017
2022-03-12 17:34:14,905 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:197}] to mongodb2:27017
2022-03-12 17:34:14,916 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40166600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:34:14 GMT 2022, lastUpdateTimeNanos=466393985234387}
2022-03-12 17:34:14,918 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43964100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:34:14 GMT 2022, lastUpdateTimeNanos=466393985669687}
2022-03-12 17:34:14,920 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50433900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:34:14 GMT 2022, lastUpdateTimeNanos=466393985448487}
2022-03-12 17:34:14,927 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:34:14,928 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:34:14,930 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd996d8cf682cd7954115', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:34:14,990 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:34:15,056 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:34:16,093 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: ad1ddc29-00c8-4dbf-b7f6-8ffe5fdf3d3a

2022-03-12 17:34:16,941 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c41ec0, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef60710, org.springframework.security.web.header.HeaderWriterFilter@65ddee5a, org.springframework.security.web.authentication.logout.LogoutFilter@313f8301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2503ec73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44b21f9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a0e495, org.springframework.security.web.session.SessionManagementFilter@28bdbe88, org.springframework.security.web.access.ExceptionTranslationFilter@3ae126d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@506a1372]
2022-03-12 17:34:19,747 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:34:20,271 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:34:20,354 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:34:20,637 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:34:20,666 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:34:20,810 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:34:20,811 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:34:20,814 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:34:20,816 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:34:20,818 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:34:20,819 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:34:20,821 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:34:21,458 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:34:21,468 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:34:21,479 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:34:21,496 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106461495 with initial instances count: 2
2022-03-12 17:34:21,509 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:34:21,512 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106461512, current=UP, previous=STARTING]
2022-03-12 17:34:21,517 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:21,523 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:34:21,542 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:34:21,588 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:34:21,744 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:34:21,749 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:34:21,759 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:34:21,766 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:34:21,769 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:21,771 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:34:21,785 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:21,787 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:21,800 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:34:21,851 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:34:28,171 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:28,179 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:30,812 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:31,575 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:31,580 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:34:32,417 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:34:32,458 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:32,459 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:33,286 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:34:33,289 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:34:33,633 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 334 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:34:33,996 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:34:33,999 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:34:34,032 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:34:34,034 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:34:34,586 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:34:35,725 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:34:35,748 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:35,750 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:34:35,752 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:34:35,841 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:34:35,843 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3383 ms
2022-03-12 17:34:37,785 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:34:37,787 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:34:37,859 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:34:37,865 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:34:37,940 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:199}] to mongodb2:27017
2022-03-12 17:34:37,940 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:201}] to mongodb3:27017
2022-03-12 17:34:37,941 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:179}] to mongodb1:27017
2022-03-12 17:34:37,940 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:180}] to mongodb1:27017
2022-03-12 17:34:37,940 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:200}] to mongodb3:27017
2022-03-12 17:34:37,941 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:200}] to mongodb2:27017
2022-03-12 17:34:37,946 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47456600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:34:34 GMT 2022, lastUpdateTimeNanos=466417055884887}
2022-03-12 17:34:37,946 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51051600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:34:34 GMT 2022, lastUpdateTimeNanos=466417056875987}
2022-03-12 17:34:37,949 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50195300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:34:34 GMT 2022, lastUpdateTimeNanos=466417055884887}
2022-03-12 17:34:37,959 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:34:37,960 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:34:37,962 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9adcf716d57e2d05b60', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:34:38,038 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:34:38,096 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:34:38,860 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 193edf4e-acf9-4d9d-94d6-0dc21eab9546

2022-03-12 17:34:39,243 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fe64d23, org.springframework.security.web.context.SecurityContextPersistenceFilter@606f81b5, org.springframework.security.web.header.HeaderWriterFilter@43fda8d9, org.springframework.security.web.authentication.logout.LogoutFilter@661d88a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44b21f9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4288d98e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58437801, org.springframework.security.web.session.SessionManagementFilter@600f5704, org.springframework.security.web.access.ExceptionTranslationFilter@65ddee5a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37b56ac7]
2022-03-12 17:34:42,102 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:34:42,368 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:34:42,431 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:34:42,521 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:34:42,535 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:34:42,588 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:34:42,589 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:34:42,591 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:34:42,592 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:34:42,593 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:34:42,594 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:34:42,596 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:34:42,813 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:34:42,820 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:34:42,825 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:34:42,835 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106482833 with initial instances count: 2
2022-03-12 17:34:42,849 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:34:42,851 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106482851, current=UP, previous=STARTING]
2022-03-12 17:34:42,857 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:42,860 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:34:42,893 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:34:42,993 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:34:43,186 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:34:43,199 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:34:43,216 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:34:43,239 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:34:43,249 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:43,254 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:34:43,280 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:43,288 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:43,315 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:34:43,423 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:34:49,909 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:49,914 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:52,111 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:52,925 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:52,929 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:34:53,736 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:34:53,762 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:34:53,763 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:34:54,513 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:34:54,516 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:34:55,152 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 627 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:34:55,556 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:34:55,560 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:34:55,593 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:34:55,594 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:34:56,190 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:34:58,005 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:34:58,025 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:34:58,027 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:34:58,028 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:34:58,113 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:34:58,115 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4351 ms
2022-03-12 17:35:01,409 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:35:01,412 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:35:01,498 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:35:01,511 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:35:01,603 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:203}] to mongodb3:27017
2022-03-12 17:35:01,603 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:202}] to mongodb3:27017
2022-03-12 17:35:01,603 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:182}] to mongodb1:27017
2022-03-12 17:35:01,603 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:202}] to mongodb2:27017
2022-03-12 17:35:01,603 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:201}] to mongodb2:27017
2022-03-12 17:35:01,603 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:181}] to mongodb1:27017
2022-03-12 17:35:01,638 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63882200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:34:54 GMT 2022, lastUpdateTimeNanos=466440750365487}
2022-03-12 17:35:01,638 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=64148400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:34:54 GMT 2022, lastUpdateTimeNanos=466440750836587}
2022-03-12 17:35:01,652 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=64080600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:34:54 GMT 2022, lastUpdateTimeNanos=466440750365487}
2022-03-12 17:35:01,694 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:35:01,721 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:35:01,730 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9c5a39b1966aeb56a5f', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:35:02,150 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:35:02,242 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:35:02,902 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: dae91ff7-3a01-42f7-b33c-f3bd3fffca8c

2022-03-12 17:35:03,128 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@95eb320, org.springframework.security.web.context.SecurityContextPersistenceFilter@46a488c2, org.springframework.security.web.header.HeaderWriterFilter@4397a639, org.springframework.security.web.authentication.logout.LogoutFilter@7ee8130e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65ddee5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43fda8d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f521c4, org.springframework.security.web.session.SessionManagementFilter@7e7f3cfd, org.springframework.security.web.access.ExceptionTranslationFilter@39bbd9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed34ef5]
2022-03-12 17:35:04,887 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:35:05,205 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:35:05,276 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:35:05,364 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:35:05,381 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:35:05,428 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:35:05,439 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:35:05,441 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:35:05,449 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:35:05,450 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:35:05,453 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:35:05,455 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:35:05,670 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:35:05,676 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:35:05,682 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:35:05,692 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106505690 with initial instances count: 2
2022-03-12 17:35:05,707 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:35:05,709 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106505709, current=UP, previous=STARTING]
2022-03-12 17:35:05,714 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:05,716 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:35:05,731 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:35:05,771 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:35:05,824 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:35:05,829 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:35:05,841 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:35:05,853 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:35:05,856 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:05,859 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:35:05,874 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:05,877 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:05,891 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:35:05,945 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:35:13,879 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:35:13,886 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:35:16,275 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:35:17,023 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:35:17,027 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:35:17,839 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:35:17,897 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:35:17,898 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:35:18,877 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:35:18,889 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:35:19,342 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 423 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:35:19,766 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:35:19,771 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:35:19,809 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:35:19,811 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 17:35:20,538 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:35:22,233 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:35:22,253 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:22,255 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:35:22,256 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:35:22,335 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:35:22,337 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4436 ms
2022-03-12 17:35:24,358 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:35:24,361 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:35:24,434 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:35:24,437 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:35:24,513 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:205}] to mongodb3:27017
2022-03-12 17:35:24,516 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:183}] to mongodb1:27017
2022-03-12 17:35:24,515 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:184}] to mongodb1:27017
2022-03-12 17:35:24,513 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:203}] to mongodb2:27017
2022-03-12 17:35:24,513 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:204}] to mongodb2:27017
2022-03-12 17:35:24,535 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55376500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:35:14 GMT 2022, lastUpdateTimeNanos=466463600487187}
2022-03-12 17:35:24,535 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53815600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:35:14 GMT 2022, lastUpdateTimeNanos=466463598975287}
2022-03-12 17:35:24,516 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:204}] to mongodb3:27017
2022-03-12 17:35:24,545 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52346900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:35:14 GMT 2022, lastUpdateTimeNanos=466463598975287}
2022-03-12 17:35:24,562 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:35:24,564 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:35:24,568 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9dca8f2573930387adb', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:35:24,663 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:35:24,743 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:35:25,848 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: cff6d161-e973-47cb-ad78-57237244882f

2022-03-12 17:35:26,996 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37b56ac7, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a87026, org.springframework.security.web.header.HeaderWriterFilter@6242ae3b, org.springframework.security.web.authentication.logout.LogoutFilter@4d499d65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@600f5704, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e1fc42f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37c41ec0, org.springframework.security.web.session.SessionManagementFilter@53a7a60c, org.springframework.security.web.access.ExceptionTranslationFilter@7e7f3cfd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4730e0f0]
2022-03-12 17:35:31,438 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:35:31,762 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:35:31,845 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:35:31,935 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:35:31,948 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:35:31,999 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:35:32,000 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:35:32,005 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:35:32,006 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:35:32,009 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:35:32,028 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:35:32,030 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:35:32,306 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:35:32,313 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:35:32,321 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:35:32,334 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106532331 with initial instances count: 2
2022-03-12 17:35:32,353 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:35:32,356 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106532356, current=UP, previous=STARTING]
2022-03-12 17:35:32,363 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:32,365 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:35:32,384 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:35:32,419 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:35:32,566 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:35:32,572 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:35:32,593 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:35:32,607 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:35:32,612 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:32,616 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:35:32,632 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:32,635 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:32,653 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:35:32,691 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:35:40,756 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:35:40,762 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:35:43,177 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:35:43,938 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:35:43,941 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:35:44,823 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:35:44,942 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:35:44,944 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:35:46,012 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:35:46,016 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:35:46,539 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 509 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:35:47,077 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:35:47,081 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:35:47,113 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:35:47,114 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:35:48,117 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:35:49,556 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:35:49,583 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:49,588 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:35:49,592 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:35:49,706 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:35:49,708 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4763 ms
2022-03-12 17:35:52,198 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:35:52,201 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:35:52,285 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:35:52,289 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:35:52,361 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:206}] to mongodb2:27017
2022-03-12 17:35:52,360 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:186}] to mongodb1:27017
2022-03-12 17:35:52,360 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:185}] to mongodb1:27017
2022-03-12 17:35:52,362 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:205}] to mongodb2:27017
2022-03-12 17:35:52,371 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55138200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:35:44 GMT 2022, lastUpdateTimeNanos=466491447447787}
2022-03-12 17:35:52,360 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:206}] to mongodb3:27017
2022-03-12 17:35:52,360 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:207}] to mongodb3:27017
2022-03-12 17:35:52,371 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=54250800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:35:44 GMT 2022, lastUpdateTimeNanos=466491446546687}
2022-03-12 17:35:52,375 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=54301500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:35:44 GMT 2022, lastUpdateTimeNanos=466491448001387}
2022-03-12 17:35:52,388 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:35:52,390 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:35:52,393 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cd9f8a1863371500e8e3a', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:35:52,455 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:35:52,531 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:35:53,451 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3370850f-d6fb-432b-98c9-5a36a61ebbb4

2022-03-12 17:35:53,679 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5399f6c5, org.springframework.security.web.context.SecurityContextPersistenceFilter@2503ec73, org.springframework.security.web.header.HeaderWriterFilter@34b9eb03, org.springframework.security.web.authentication.logout.LogoutFilter@7c2dfa2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e1fc42f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6296474f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe64d23, org.springframework.security.web.session.SessionManagementFilter@ef60710, org.springframework.security.web.access.ExceptionTranslationFilter@6242ae3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77c233af]
2022-03-12 17:35:55,357 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:35:55,692 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:35:55,769 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:35:55,977 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:35:56,009 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:35:56,082 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:35:56,083 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:35:56,085 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:35:56,086 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:35:56,088 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:35:56,089 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:35:56,091 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:35:56,513 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:35:56,521 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:35:56,529 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:35:56,566 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106556564 with initial instances count: 2
2022-03-12 17:35:56,584 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:35:56,586 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106556586, current=UP, previous=STARTING]
2022-03-12 17:35:56,593 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:56,600 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:35:56,614 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:35:56,652 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:35:56,762 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:35:56,769 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:35:56,794 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:35:56,816 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:35:56,820 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:56,823 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:35:56,834 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:56,842 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:35:56,863 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:35:56,899 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:36:04,050 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:04,056 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:07,195 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:08,133 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:08,137 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:36:08,924 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:36:08,966 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:08,967 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:09,669 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:36:09,671 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:36:10,024 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 343 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:36:10,389 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:36:10,392 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:36:10,431 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:36:10,432 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2022-03-12 17:36:10,989 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:36:12,513 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:36:12,542 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:12,545 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:36:12,547 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:36:12,663 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:36:12,667 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3698 ms
2022-03-12 17:36:15,179 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:36:15,183 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:36:15,253 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:36:15,256 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:36:15,319 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:187}] to mongodb1:27017
2022-03-12 17:36:15,321 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:208}] to mongodb3:27017
2022-03-12 17:36:15,320 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:209}] to mongodb3:27017
2022-03-12 17:36:15,320 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:208}] to mongodb2:27017
2022-03-12 17:36:15,319 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:188}] to mongodb1:27017
2022-03-12 17:36:15,331 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42480400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:36:14 GMT 2022, lastUpdateTimeNanos=466514440220687}
2022-03-12 17:36:15,321 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:207}] to mongodb2:27017
2022-03-12 17:36:15,331 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42832600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:36:14 GMT 2022, lastUpdateTimeNanos=466514440572787}
2022-03-12 17:36:15,332 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42583600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:36:14 GMT 2022, lastUpdateTimeNanos=466514440450587}
2022-03-12 17:36:15,343 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:36:15,344 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:36:15,346 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda0fc392a1689d7af7c8', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:36:15,436 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:36:15,495 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:36:16,146 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: ffe08e98-0a99-4449-bf6f-2165ade32882

2022-03-12 17:36:16,379 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7332a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@53a7a60c, org.springframework.security.web.header.HeaderWriterFilter@3ae126d1, org.springframework.security.web.authentication.logout.LogoutFilter@79b2852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a87026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2503ec73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c233af, org.springframework.security.web.session.SessionManagementFilter@43fda8d9, org.springframework.security.web.access.ExceptionTranslationFilter@77f68df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10db6131]
2022-03-12 17:36:18,254 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:36:18,568 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:36:18,638 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:36:18,769 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:36:18,786 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:36:18,870 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:36:18,872 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:36:18,877 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:36:18,879 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:36:18,883 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:36:18,884 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:36:18,887 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:36:19,166 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:36:19,173 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:36:19,178 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:36:19,189 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106579187 with initial instances count: 2
2022-03-12 17:36:19,205 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:36:19,207 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106579207, current=UP, previous=STARTING]
2022-03-12 17:36:19,212 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:19,213 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:36:19,229 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:36:19,255 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:36:19,297 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:36:19,301 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:36:19,310 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:36:19,319 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:36:19,322 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:19,324 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:36:19,335 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:19,337 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:19,352 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:36:19,388 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:36:25,764 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:25,769 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:27,905 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:28,681 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:28,684 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:36:29,480 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:36:29,542 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:29,544 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:30,310 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:36:30,316 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:36:30,697 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 365 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:36:31,175 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:36:31,179 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:36:31,211 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:36:31,212 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:36:31,854 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:36:33,175 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:36:33,198 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:33,200 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:36:33,201 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:36:33,284 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:36:33,286 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3740 ms
2022-03-12 17:36:35,432 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:36:35,435 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:36:35,503 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:36:35,509 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:36:35,566 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:210}] to mongodb3:27017
2022-03-12 17:36:35,564 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:189}] to mongodb1:27017
2022-03-12 17:36:35,564 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:210}] to mongodb2:27017
2022-03-12 17:36:35,564 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:211}] to mongodb3:27017
2022-03-12 17:36:35,564 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:190}] to mongodb1:27017
2022-03-12 17:36:35,564 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:209}] to mongodb2:27017
2022-03-12 17:36:35,578 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40728200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:36:34 GMT 2022, lastUpdateTimeNanos=466534719173687}
2022-03-12 17:36:35,584 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42540500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:36:34 GMT 2022, lastUpdateTimeNanos=466534721001187}
2022-03-12 17:36:35,584 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=38443600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:36:34 GMT 2022, lastUpdateTimeNanos=466534719173687}
2022-03-12 17:36:35,599 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:36:35,602 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:36:35,605 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda2350ce3049ef01202c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:36:35,703 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:36:35,765 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:36:37,062 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3f76e1c2-4a37-4a3a-8c9b-49931036f457

2022-03-12 17:36:38,286 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:36:42,943 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:36:43,795 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:36:43,935 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:36:44,480 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:36:44,521 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:36:44,753 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:36:44,754 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:36:44,757 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:36:44,758 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:36:44,761 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:36:44,762 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:36:44,764 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:36:45,514 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:36:45,524 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:36:45,536 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:36:45,554 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106605552 with initial instances count: 2
2022-03-12 17:36:45,579 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:36:45,584 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106605584, current=UP, previous=STARTING]
2022-03-12 17:36:45,592 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:45,597 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:36:45,608 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:36:45,653 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:36:45,849 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:36:45,855 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:36:45,868 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:36:45,898 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:36:45,901 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:45,904 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:36:45,919 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:45,923 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:36:45,941 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:36:46,013 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:36:52,629 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:52,634 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:54,950 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:55,760 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:55,764 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:36:56,553 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:36:56,598 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:36:56,600 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:36:57,683 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:36:57,693 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:36:58,156 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 429 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:36:58,562 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:36:58,565 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:36:58,596 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:36:58,597 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:36:59,221 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:37:00,554 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:37:00,578 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:00,580 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:37:00,581 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:37:00,675 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:37:00,679 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4078 ms
2022-03-12 17:37:02,562 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:37:02,566 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:37:02,652 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:37:02,656 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:37:02,730 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:212}] to mongodb3:27017
2022-03-12 17:37:02,729 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:212}] to mongodb2:27017
2022-03-12 17:37:02,729 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:192}] to mongodb1:27017
2022-03-12 17:37:02,730 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:211}] to mongodb2:27017
2022-03-12 17:37:02,729 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:213}] to mongodb3:27017
2022-03-12 17:37:02,729 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:191}] to mongodb1:27017
2022-03-12 17:37:02,738 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43467700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:36:54 GMT 2022, lastUpdateTimeNanos=466561920144087}
2022-03-12 17:37:02,740 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=54328300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:36:54 GMT 2022, lastUpdateTimeNanos=466561921646987}
2022-03-12 17:37:02,748 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=41922300, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:36:54 GMT 2022, lastUpdateTimeNanos=466561920328087}
2022-03-12 17:37:02,751 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:37:02,752 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:37:02,755 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda3ea1e1233501524b9c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:37:02,834 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:37:02,908 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:37:03,625 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 31d732af-a533-46e3-9982-7d879d891295

2022-03-12 17:37:03,896 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b34832b, org.springframework.security.web.context.SecurityContextPersistenceFilter@6296474f, org.springframework.security.web.header.HeaderWriterFilter@6a87026, org.springframework.security.web.authentication.logout.LogoutFilter@404db674, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@169268a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c601d50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48f4713c, org.springframework.security.web.session.SessionManagementFilter@44b21f9f, org.springframework.security.web.access.ExceptionTranslationFilter@49d831c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fe64d23]
2022-03-12 17:37:05,642 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:37:05,923 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:37:05,988 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:37:06,073 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:37:06,086 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:37:06,143 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:37:06,144 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:37:06,146 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:37:06,147 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:37:06,149 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:37:06,150 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:37:06,152 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:37:06,366 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:37:06,373 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:37:06,379 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:37:06,389 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106626387 with initial instances count: 2
2022-03-12 17:37:06,423 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:37:06,425 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106626425, current=UP, previous=STARTING]
2022-03-12 17:37:06,431 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:06,433 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:37:06,444 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:37:06,471 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:37:06,517 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:37:06,522 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:37:06,531 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:37:06,541 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:37:06,543 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:06,546 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:37:06,556 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:06,559 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:06,572 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:37:06,611 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:37:12,974 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:12,982 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:15,462 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:16,230 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:16,234 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:37:17,051 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:37:17,087 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:17,088 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:17,886 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:37:17,890 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:37:18,403 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 500 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:37:18,807 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:37:18,811 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:37:18,833 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:37:18,834 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2022-03-12 17:37:19,412 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:37:21,025 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:37:21,073 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:21,086 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:37:21,093 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:37:21,288 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:37:21,310 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4220 ms
2022-03-12 17:37:23,582 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:37:23,586 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:37:23,717 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:37:23,729 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:37:23,849 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:193}] to mongodb1:27017
2022-03-12 17:37:23,850 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:214}] to mongodb2:27017
2022-03-12 17:37:23,850 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:215}] to mongodb3:27017
2022-03-12 17:37:23,850 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:194}] to mongodb1:27017
2022-03-12 17:37:23,849 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:214}] to mongodb3:27017
2022-03-12 17:37:23,849 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:213}] to mongodb2:27017
2022-03-12 17:37:23,861 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70506500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:37:14 GMT 2022, lastUpdateTimeNanos=466583076207487}
2022-03-12 17:37:23,868 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69396800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:37:14 GMT 2022, lastUpdateTimeNanos=466583075321787}
2022-03-12 17:37:23,868 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68767600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:37:14 GMT 2022, lastUpdateTimeNanos=466583074433487}
2022-03-12 17:37:23,882 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:37:23,883 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:37:23,886 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda53ddb93500cef5a178', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:37:23,985 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:37:24,086 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:37:24,998 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 2c7e9c1a-8780-4453-b307-c19e7b4aae85

2022-03-12 17:37:25,388 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4730e0f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@43fda8d9, org.springframework.security.web.header.HeaderWriterFilter@3e4e4c1, org.springframework.security.web.authentication.logout.LogoutFilter@78a0ff63, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53a7a60c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ef60710, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@506a1372, org.springframework.security.web.session.SessionManagementFilter@56399b9e, org.springframework.security.web.access.ExceptionTranslationFilter@77114efe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f521c4]
2022-03-12 17:37:27,228 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:37:27,614 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:37:27,701 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:37:27,806 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:37:27,823 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:37:27,886 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:37:27,888 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:37:27,891 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:37:27,892 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:37:27,893 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:37:27,895 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:37:27,897 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:37:28,239 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:37:28,248 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:37:28,258 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:37:28,276 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106648273 with initial instances count: 2
2022-03-12 17:37:28,294 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:37:28,296 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106648296, current=UP, previous=STARTING]
2022-03-12 17:37:28,303 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:28,304 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:37:28,319 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:37:28,346 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:37:28,394 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:37:28,398 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:37:28,407 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:37:28,416 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:37:28,419 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:28,421 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:37:28,431 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:28,433 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:28,446 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:37:28,493 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:37:35,084 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:35,089 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:37,372 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:38,132 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:38,136 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:37:38,942 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:37:38,992 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:38,994 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:39,915 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:37:39,919 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:37:40,393 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 461 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:37:40,780 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:37:40,788 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:37:40,826 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:37:40,828 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2022-03-12 17:37:41,502 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:37:42,811 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:37:42,848 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:42,850 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:37:42,851 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:37:42,938 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:37:42,940 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3945 ms
2022-03-12 17:37:44,971 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:37:44,977 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:37:45,087 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:37:45,093 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:37:45,224 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:196}] to mongodb1:27017
2022-03-12 17:37:45,224 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:216}] to mongodb3:27017
2022-03-12 17:37:45,224 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:195}] to mongodb1:27017
2022-03-12 17:37:45,224 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:216}] to mongodb2:27017
2022-03-12 17:37:45,224 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:215}] to mongodb2:27017
2022-03-12 17:37:45,227 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:217}] to mongodb3:27017
2022-03-12 17:37:45,236 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=92141400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:37:44 GMT 2022, lastUpdateTimeNanos=466604447709987}
2022-03-12 17:37:45,241 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=95578600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:37:44 GMT 2022, lastUpdateTimeNanos=466604451057287}
2022-03-12 17:37:45,244 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=92185000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:37:44 GMT 2022, lastUpdateTimeNanos=466604447709987}
2022-03-12 17:37:45,266 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:37:45,270 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:37:45,282 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda6821f25e290660429c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:37:45,571 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:37:45,722 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:37:46,537 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: bfe42887-5903-468e-b2bf-aabd48c141e0

2022-03-12 17:37:46,801 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:37:48,576 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:37:48,885 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:37:48,964 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:37:49,061 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:37:49,076 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:37:49,133 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:37:49,135 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:37:49,137 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:37:49,138 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:37:49,139 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:37:49,141 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:37:49,143 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:37:49,410 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:37:49,417 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:37:49,424 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:37:49,436 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106669434 with initial instances count: 2
2022-03-12 17:37:49,455 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:37:49,457 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106669457, current=UP, previous=STARTING]
2022-03-12 17:37:49,463 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:49,466 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:37:49,478 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:37:49,504 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:37:49,574 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:37:49,579 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:37:49,587 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:37:49,597 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:37:49,600 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:49,602 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:37:49,614 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:49,616 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:37:49,631 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:37:49,684 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:37:56,872 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:56,879 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:59,203 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:37:59,966 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:37:59,972 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:38:00,781 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:38:00,833 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:38:00,834 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:38:01,717 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:38:01,721 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:38:02,100 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 366 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:38:02,527 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:38:02,538 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:38:02,579 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:38:02,581 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2022-03-12 17:38:03,171 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:38:05,213 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:38:05,232 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:05,233 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:38:05,234 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:38:05,316 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:38:05,319 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4484 ms
2022-03-12 17:38:07,146 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:38:07,149 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:38:07,218 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:38:07,221 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:38:07,286 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:217}] to mongodb2:27017
2022-03-12 17:38:07,284 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:219}] to mongodb3:27017
2022-03-12 17:38:07,284 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:218}] to mongodb2:27017
2022-03-12 17:38:07,284 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:197}] to mongodb1:27017
2022-03-12 17:38:07,284 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:198}] to mongodb1:27017
2022-03-12 17:38:07,284 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:218}] to mongodb3:27017
2022-03-12 17:38:07,295 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40336500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:38:04 GMT 2022, lastUpdateTimeNanos=466626546711087}
2022-03-12 17:38:07,296 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44105300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:38:04 GMT 2022, lastUpdateTimeNanos=466626546116187}
2022-03-12 17:38:07,299 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44496300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:38:04 GMT 2022, lastUpdateTimeNanos=466626546750687}
2022-03-12 17:38:07,308 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:38:07,309 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:38:07,312 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda7f9f34842ccac6f7be', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:38:07,394 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:38:07,469 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:38:08,129 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 53346f56-ffd3-4c7a-811b-01865f0ea496

2022-03-12 17:38:08,374 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:38:10,075 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:38:10,350 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:38:10,415 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:38:10,503 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:38:10,520 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:38:10,576 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:38:10,577 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:38:10,579 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:38:10,580 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:38:10,581 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:38:10,583 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:38:10,584 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:38:10,829 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:38:10,837 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:38:10,844 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:38:10,857 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106690855 with initial instances count: 2
2022-03-12 17:38:10,875 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:38:10,877 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106690877, current=UP, previous=STARTING]
2022-03-12 17:38:10,884 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:10,887 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:38:10,901 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:38:10,928 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:38:10,980 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:38:10,987 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:38:10,996 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:38:11,011 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:38:11,014 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:11,016 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:38:11,030 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:11,035 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:11,051 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:38:11,096 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:38:17,325 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:38:17,340 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:38:20,275 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:38:21,060 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:38:21,066 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:38:21,942 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:38:21,988 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:38:21,989 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:38:22,774 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:38:22,778 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:38:23,119 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 330 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:38:23,451 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:38:23,454 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:38:23,483 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:38:23,485 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2022-03-12 17:38:24,030 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:38:25,747 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:38:25,817 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:25,823 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:38:25,828 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:38:26,058 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:38:26,062 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4072 ms
2022-03-12 17:38:28,287 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:38:28,290 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:38:28,369 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:38:28,373 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:38:28,444 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:219}] to mongodb2:27017
2022-03-12 17:38:28,445 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:220}] to mongodb3:27017
2022-03-12 17:38:28,451 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52831300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:38:24 GMT 2022, lastUpdateTimeNanos=466647743179587}
2022-03-12 17:38:28,442 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:200}] to mongodb1:27017
2022-03-12 17:38:28,442 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:220}] to mongodb2:27017
2022-03-12 17:38:28,445 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:221}] to mongodb3:27017
2022-03-12 17:38:28,442 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:199}] to mongodb1:27017
2022-03-12 17:38:28,457 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48684900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:38:24 GMT 2022, lastUpdateTimeNanos=466647739196687}
2022-03-12 17:38:28,460 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51616200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:38:24 GMT 2022, lastUpdateTimeNanos=466647744206187}
2022-03-12 17:38:28,466 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:38:28,467 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:38:28,470 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cda94625cea18eb4051bb', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:38:28,546 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:38:28,618 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:38:29,325 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c80cdc75-e0e7-43e2-996f-efe19c225533

2022-03-12 17:38:29,829 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:38:31,982 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:38:32,382 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:38:32,451 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:38:32,584 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:38:32,607 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:38:32,678 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:38:32,679 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:38:32,681 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:38:32,682 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:38:32,683 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:38:32,685 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:38:32,687 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:38:32,944 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:38:32,953 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:38:32,963 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:38:32,976 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106712975 with initial instances count: 2
2022-03-12 17:38:32,994 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:38:32,998 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106712998, current=UP, previous=STARTING]
2022-03-12 17:38:33,003 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:33,011 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:38:33,026 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:38:33,069 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:38:33,145 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:38:33,150 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:38:33,162 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:38:33,176 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:38:33,181 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:33,184 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:38:33,196 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:33,199 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:33,215 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:38:33,259 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:38:39,955 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:38:39,961 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:38:42,293 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:38:43,060 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:38:43,064 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:38:43,877 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:38:43,925 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:38:43,927 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:38:44,909 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:38:44,913 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:38:45,284 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 361 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:38:45,667 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:38:45,671 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:38:45,706 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:38:45,707 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2022-03-12 17:38:46,448 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:38:47,728 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:38:47,747 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:47,749 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:38:47,751 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:38:47,851 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:38:47,854 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3926 ms
2022-03-12 17:38:49,935 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:38:49,940 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:38:50,035 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:38:50,039 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:38:50,111 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:202}] to mongodb1:27017
2022-03-12 17:38:50,110 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:222}] to mongodb2:27017
2022-03-12 17:38:50,111 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:222}] to mongodb3:27017
2022-03-12 17:38:50,117 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50352400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:38:44 GMT 2022, lastUpdateTimeNanos=466669408474887}
2022-03-12 17:38:50,110 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:221}] to mongodb2:27017
2022-03-12 17:38:50,110 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:223}] to mongodb3:27017
2022-03-12 17:38:50,110 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:201}] to mongodb1:27017
2022-03-12 17:38:50,117 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49051400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:38:44 GMT 2022, lastUpdateTimeNanos=466669407084487}
2022-03-12 17:38:50,117 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49733700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:38:44 GMT 2022, lastUpdateTimeNanos=466669407097187}
2022-03-12 17:38:50,127 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:38:50,128 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:38:50,130 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaa9d69a7452ed4bb14d', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:38:50,201 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:38:50,258 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:38:51,007 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 311d2b23-cd37-4f96-9e21-05954021ab57

2022-03-12 17:38:51,270 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b34832b, org.springframework.security.web.context.SecurityContextPersistenceFilter@6296474f, org.springframework.security.web.header.HeaderWriterFilter@6a87026, org.springframework.security.web.authentication.logout.LogoutFilter@404db674, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@169268a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c601d50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48f4713c, org.springframework.security.web.session.SessionManagementFilter@44b21f9f, org.springframework.security.web.access.ExceptionTranslationFilter@49d831c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fe64d23]
2022-03-12 17:38:53,302 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:38:53,620 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:38:53,685 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:38:53,786 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:38:53,809 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:38:53,872 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:38:53,873 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:38:53,875 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:38:53,876 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:38:53,877 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:38:53,879 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:38:53,881 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:38:54,137 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:38:54,144 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:38:54,150 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:38:54,159 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106734158 with initial instances count: 2
2022-03-12 17:38:54,175 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:38:54,177 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106734177, current=UP, previous=STARTING]
2022-03-12 17:38:54,182 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:54,183 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:38:54,196 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:38:54,221 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:38:54,267 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:38:54,272 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:38:54,280 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:38:54,289 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:38:54,292 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:54,294 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:38:54,305 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:54,307 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:38:54,319 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:38:54,359 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:39:00,752 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:00,757 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:03,100 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:03,936 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:03,941 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:39:04,749 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:39:04,794 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:04,796 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:05,664 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:39:05,668 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:39:06,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 364 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:39:06,473 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:39:06,487 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:39:06,513 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:39:06,514 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2022-03-12 17:39:07,362 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:39:08,744 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:39:08,771 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:08,775 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:39:08,777 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:39:08,874 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:39:08,876 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4079 ms
2022-03-12 17:39:10,818 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:39:10,822 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:39:10,891 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:39:10,895 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:39:10,965 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:223}] to mongodb2:27017
2022-03-12 17:39:10,965 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:203}] to mongodb1:27017
2022-03-12 17:39:10,965 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:204}] to mongodb1:27017
2022-03-12 17:39:10,964 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:224}] to mongodb3:27017
2022-03-12 17:39:10,966 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:224}] to mongodb2:27017
2022-03-12 17:39:10,964 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:225}] to mongodb3:27017
2022-03-12 17:39:10,978 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43635000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:39:04 GMT 2022, lastUpdateTimeNanos=466690297007087}
2022-03-12 17:39:10,976 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44184300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:39:04 GMT 2022, lastUpdateTimeNanos=466690297464387}
2022-03-12 17:39:10,978 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47069700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:39:04 GMT 2022, lastUpdateTimeNanos=466690300527387}
2022-03-12 17:39:10,992 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:39:11,007 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:39:11,009 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdabe5da0457735e9faea', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:39:11,056 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:39:11,157 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:39:11,848 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7c0b2e06-9e4b-41cb-bc37-ac5a6ebc97cc

2022-03-12 17:39:12,093 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:39:14,127 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:39:14,392 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:39:14,467 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:39:14,571 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:39:14,587 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:39:14,644 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:39:14,646 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:39:14,648 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:39:14,649 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:39:14,650 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:39:14,652 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:39:14,654 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:39:14,900 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:39:14,907 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:39:14,914 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:39:14,927 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106754924 with initial instances count: 2
2022-03-12 17:39:14,942 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:39:14,944 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106754944, current=UP, previous=STARTING]
2022-03-12 17:39:14,950 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:14,954 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:39:14,967 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:39:14,992 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:39:15,076 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:39:15,081 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:39:15,092 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:39:15,101 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:39:15,104 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:15,107 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:39:15,117 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:15,120 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:15,134 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:39:15,172 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:39:21,967 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:21,972 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:24,258 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:25,049 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:25,053 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:39:25,894 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:39:25,966 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:25,967 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:26,967 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:39:26,971 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:39:27,431 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 450 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:39:27,858 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:39:27,862 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:39:27,903 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:39:27,906 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2022-03-12 17:39:28,531 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:39:29,994 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:39:30,015 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:30,017 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:39:30,018 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:39:30,099 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:39:30,101 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4132 ms
2022-03-12 17:39:32,095 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:39:32,098 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:39:32,168 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:39:32,172 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:39:32,241 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:206}] to mongodb1:27017
2022-03-12 17:39:32,241 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:226}] to mongodb2:27017
2022-03-12 17:39:32,243 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:205}] to mongodb1:27017
2022-03-12 17:39:32,246 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:227}] to mongodb3:27017
2022-03-12 17:39:32,246 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:226}] to mongodb3:27017
2022-03-12 17:39:32,246 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:225}] to mongodb2:27017
2022-03-12 17:39:32,251 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51181600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:39:24 GMT 2022, lastUpdateTimeNanos=466711609611487}
2022-03-12 17:39:32,249 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52000200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:39:24 GMT 2022, lastUpdateTimeNanos=466711610436287}
2022-03-12 17:39:32,249 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50214900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:39:24 GMT 2022, lastUpdateTimeNanos=466711609898987}
2022-03-12 17:39:32,261 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:39:32,263 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:39:32,269 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdad40b2c0405c22ba1c0', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:39:32,336 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:39:32,423 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:39:33,067 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7193e7b1-1504-4435-9634-6d6014ae9959

2022-03-12 17:39:33,342 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:39:35,451 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:39:35,734 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:39:35,799 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:39:35,917 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:39:35,937 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:39:36,003 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:39:36,005 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:39:36,007 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:39:36,009 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:39:36,010 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:39:36,011 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:39:36,013 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:39:36,231 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:39:36,239 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:39:36,246 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:39:36,258 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106776255 with initial instances count: 2
2022-03-12 17:39:36,294 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:39:36,297 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106776297, current=UP, previous=STARTING]
2022-03-12 17:39:36,304 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:36,304 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:39:36,320 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:39:36,353 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:39:36,398 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:39:36,402 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:39:36,411 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:39:36,421 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:39:36,424 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:36,428 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:39:36,439 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:36,442 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:36,456 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:39:36,496 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:39:43,763 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:43,769 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:46,088 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:46,856 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:46,859 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:39:47,640 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:39:47,687 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:39:47,689 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:39:48,383 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:39:48,386 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:39:48,746 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 351 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:39:49,098 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:39:49,101 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:39:49,133 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:39:49,134 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:39:49,707 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:39:50,939 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:39:50,958 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:50,960 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:39:50,961 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:39:51,052 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:39:51,054 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3364 ms
2022-03-12 17:39:52,830 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:39:52,834 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:39:52,912 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:39:52,915 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:39:52,984 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:228}] to mongodb2:27017
2022-03-12 17:39:52,988 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:207}] to mongodb1:27017
2022-03-12 17:39:52,984 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:227}] to mongodb2:27017
2022-03-12 17:39:52,988 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:229}] to mongodb3:27017
2022-03-12 17:39:52,984 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:228}] to mongodb3:27017
2022-03-12 17:39:52,984 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:208}] to mongodb1:27017
2022-03-12 17:39:52,997 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45856200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:39:44 GMT 2022, lastUpdateTimeNanos=466732351555187}
2022-03-12 17:39:53,006 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46434000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:39:44 GMT 2022, lastUpdateTimeNanos=466732352596187}
2022-03-12 17:39:53,009 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45928600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:39:44 GMT 2022, lastUpdateTimeNanos=466732351593787}
2022-03-12 17:39:53,024 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:39:53,026 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:39:53,027 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdae81100151ac2f98c62', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:39:53,100 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:39:53,161 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:39:53,856 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 71d72c0d-cf0a-4156-b087-3506e833b024

2022-03-12 17:39:54,118 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 17:39:56,042 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:39:56,310 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:39:56,385 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:39:56,508 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:39:56,523 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:39:56,580 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:39:56,581 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:39:56,583 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:39:56,584 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:39:56,585 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:39:56,586 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:39:56,589 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:39:56,866 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:39:56,875 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:39:56,882 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:39:56,894 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106796892 with initial instances count: 2
2022-03-12 17:39:56,911 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:39:56,913 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106796913, current=UP, previous=STARTING]
2022-03-12 17:39:56,919 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:56,921 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:39:56,937 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:39:56,975 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:39:57,045 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:39:57,050 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:39:57,059 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:39:57,069 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:39:57,072 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:57,074 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:39:57,088 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:57,091 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:39:57,106 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:39:57,150 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:40:04,949 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:04,955 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:07,218 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:08,049 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:08,055 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:40:09,078 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:40:09,170 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:09,172 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:10,591 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:40:10,606 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:40:10,999 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 382 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:40:11,393 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:40:11,399 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:40:11,441 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:40:11,443 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2022-03-12 17:40:12,034 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:40:13,188 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:40:13,225 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:13,227 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:40:13,229 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:40:13,324 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:40:13,326 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4151 ms
2022-03-12 17:40:15,126 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:40:15,129 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:40:15,202 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:40:15,206 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:40:15,282 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:231}] to mongodb3:27017
2022-03-12 17:40:15,282 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:229}] to mongodb2:27017
2022-03-12 17:40:15,282 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:230}] to mongodb3:27017
2022-03-12 17:40:15,290 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:230}] to mongodb2:27017
2022-03-12 17:40:15,282 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:210}] to mongodb1:27017
2022-03-12 17:40:15,290 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:209}] to mongodb1:27017
2022-03-12 17:40:15,294 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46608100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:40:14 GMT 2022, lastUpdateTimeNanos=466754686727787}
2022-03-12 17:40:15,295 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46438300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:40:14 GMT 2022, lastUpdateTimeNanos=466754686173387}
2022-03-12 17:40:15,297 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56098500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:40:14 GMT 2022, lastUpdateTimeNanos=466754695276487}
2022-03-12 17:40:15,306 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:40:15,307 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:40:15,309 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdaff93ab9c177c3795e3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:40:15,379 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:40:15,479 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:40:16,123 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 0bd4e63c-459e-44d8-8ccc-02a13cd4eac8

2022-03-12 17:40:16,451 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:40:18,476 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:40:18,787 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:40:18,859 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:40:18,963 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:40:18,977 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:40:19,090 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:40:19,092 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:40:19,097 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:40:19,099 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:40:19,103 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:40:19,107 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:40:19,112 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:40:19,544 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:40:19,552 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:40:19,560 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:40:19,573 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106819571 with initial instances count: 2
2022-03-12 17:40:19,591 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:40:19,594 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106819594, current=UP, previous=STARTING]
2022-03-12 17:40:19,601 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:19,602 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:40:19,621 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:40:19,654 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:40:19,720 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:40:19,727 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:40:19,739 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:40:19,750 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:40:19,755 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:19,758 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:40:19,775 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:19,778 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:19,793 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:40:19,835 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:40:26,082 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:26,087 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:28,407 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:29,172 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:29,176 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:40:29,998 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:40:30,043 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:30,045 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:30,788 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:40:30,792 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:40:31,158 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 356 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:40:31,541 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:40:31,544 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:40:31,579 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:40:31,581 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 17:40:32,316 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:40:34,416 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:40:34,432 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:34,434 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:40:34,435 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:40:34,503 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:40:34,505 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4458 ms
2022-03-12 17:40:36,054 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:40:36,056 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:40:36,112 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:40:36,115 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:40:36,171 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:233}] to mongodb3:27017
2022-03-12 17:40:36,170 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:232}] to mongodb2:27017
2022-03-12 17:40:36,170 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:211}] to mongodb1:27017
2022-03-12 17:40:36,170 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:232}] to mongodb3:27017
2022-03-12 17:40:36,177 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39307200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:40:34 GMT 2022, lastUpdateTimeNanos=466775609688487}
2022-03-12 17:40:36,179 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39307200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:40:34 GMT 2022, lastUpdateTimeNanos=466775609688487}
2022-03-12 17:40:36,172 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:212}] to mongodb1:27017
2022-03-12 17:40:36,178 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:231}] to mongodb2:27017
2022-03-12 17:40:36,182 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=39345100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:40:34 GMT 2022, lastUpdateTimeNanos=466775609743587}
2022-03-12 17:40:36,195 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:40:36,196 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:40:36,197 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb14d508f975d36a41b9', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:40:36,281 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:40:36,391 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:40:36,946 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3ed2975a-b952-41e9-9cd6-f44c6f20dbe2

2022-03-12 17:40:37,129 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48f4713c, org.springframework.security.web.context.SecurityContextPersistenceFilter@4288d98e, org.springframework.security.web.header.HeaderWriterFilter@ef60710, org.springframework.security.web.authentication.logout.LogoutFilter@50f097b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@285c6918, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79b2852b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f1868c9, org.springframework.security.web.session.SessionManagementFilter@7ee8130e, org.springframework.security.web.access.ExceptionTranslationFilter@53a7a60c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58437801]
2022-03-12 17:40:38,597 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:40:38,835 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:40:38,914 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:40:39,014 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:40:39,029 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:40:39,114 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:40:39,116 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:40:39,120 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:40:39,123 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:40:39,125 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:40:39,126 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:40:39,129 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:40:39,415 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:40:39,426 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:40:39,433 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:40:39,444 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106839442 with initial instances count: 2
2022-03-12 17:40:39,463 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:40:39,466 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106839466, current=UP, previous=STARTING]
2022-03-12 17:40:39,471 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:39,474 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:40:39,504 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:40:39,573 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:40:39,630 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:40:39,635 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:40:39,649 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:40:39,663 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:40:39,668 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:39,690 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:40:39,706 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:39,710 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:39,729 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:40:39,779 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:40:46,419 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:46,424 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:48,700 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:49,494 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:49,498 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:40:50,290 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:40:50,359 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:40:50,361 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:40:51,297 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:40:51,302 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:40:51,697 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 383 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:40:52,071 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:40:52,077 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:40:52,131 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:40:52,133 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2022-03-12 17:40:52,917 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:40:54,174 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:40:54,206 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:40:54,209 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:40:54,213 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:40:54,340 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:40:54,343 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3980 ms
2022-03-12 17:40:56,250 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:40:56,253 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:40:56,357 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:40:56,361 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:40:56,437 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:235}] to mongodb3:27017
2022-03-12 17:40:56,436 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:213}] to mongodb1:27017
2022-03-12 17:40:56,443 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48675800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:40:54 GMT 2022, lastUpdateTimeNanos=466795911091187}
2022-03-12 17:40:56,437 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:234}] to mongodb3:27017
2022-03-12 17:40:56,437 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:233}] to mongodb2:27017
2022-03-12 17:40:56,437 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:214}] to mongodb1:27017
2022-03-12 17:40:56,437 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:234}] to mongodb2:27017
2022-03-12 17:40:56,451 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:40:56,451 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47495700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:40:54 GMT 2022, lastUpdateTimeNanos=466795910241687}
2022-03-12 17:40:56,455 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:40:56,456 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:40:56,456 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb28ec1f71600716c811', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48426000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:40:54 GMT 2022, lastUpdateTimeNanos=466795910951587}
2022-03-12 17:40:56,516 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:40:56,575 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:40:57,368 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 87149069-caa2-4436-82d7-9ab802db5acd

2022-03-12 17:40:57,605 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 17:40:59,466 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:40:59,838 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:40:59,947 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:41:00,066 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:41:00,084 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:41:00,153 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:41:00,155 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:41:00,157 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:41:00,157 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:41:00,159 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:41:00,160 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:41:00,163 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:41:00,407 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:41:00,418 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:41:00,426 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:41:00,436 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106860434 with initial instances count: 2
2022-03-12 17:41:00,451 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:41:00,453 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106860453, current=UP, previous=STARTING]
2022-03-12 17:41:00,458 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:00,460 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:41:00,473 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:41:00,500 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:41:00,560 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:41:00,565 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:41:00,582 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:41:00,591 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:41:00,594 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:00,596 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:41:00,607 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:00,610 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:00,622 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:41:00,657 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:41:08,134 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:41:08,142 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:41:10,973 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:41:11,725 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:41:11,733 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:41:12,566 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:41:12,655 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:41:12,657 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:41:14,833 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:41:14,837 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:41:16,386 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 1525 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:41:17,576 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:41:17,582 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:41:17,635 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:41:17,636 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2022-03-12 17:41:19,226 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:41:22,716 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:41:22,759 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:22,762 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:41:22,764 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:41:23,013 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:41:23,016 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 10358 ms
2022-03-12 17:41:27,074 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:41:27,076 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:41:27,183 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:41:27,187 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:41:27,283 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:236}] to mongodb2:27017
2022-03-12 17:41:27,284 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:236}] to mongodb3:27017
2022-03-12 17:41:27,283 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:215}] to mongodb1:27017
2022-03-12 17:41:27,283 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:237}] to mongodb3:27017
2022-03-12 17:41:27,293 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70514800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:41:24 GMT 2022, lastUpdateTimeNanos=466826792686087}
2022-03-12 17:41:27,284 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:216}] to mongodb1:27017
2022-03-12 17:41:27,284 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:235}] to mongodb2:27017
2022-03-12 17:41:27,293 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=72961000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:41:24 GMT 2022, lastUpdateTimeNanos=466826794970587}
2022-03-12 17:41:27,309 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71226700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:41:24 GMT 2022, lastUpdateTimeNanos=466826792697387}
2022-03-12 17:41:27,321 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:41:27,324 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:41:27,330 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb47326d0542362fd7a3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:41:27,536 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:41:27,841 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:41:30,748 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 6e59aacb-4fa1-470d-b0f8-000cee4c5791

2022-03-12 17:41:32,463 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d5ef498, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ae126d1, org.springframework.security.web.header.HeaderWriterFilter@11c3ff67, org.springframework.security.web.authentication.logout.LogoutFilter@44b21f9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6242ae3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b9eb03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95eb320, org.springframework.security.web.session.SessionManagementFilter@3e4e4c1, org.springframework.security.web.access.ExceptionTranslationFilter@2aaf152b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f847af]
2022-03-12 17:41:40,804 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:41:42,303 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:41:42,507 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:41:42,944 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:41:42,995 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:41:43,262 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:41:43,264 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:41:43,268 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:41:43,270 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:41:43,273 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:41:43,274 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:41:43,278 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:41:44,247 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:41:44,266 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:41:44,282 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:41:44,310 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106904307 with initial instances count: 2
2022-03-12 17:41:44,348 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:41:44,363 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106904363, current=UP, previous=STARTING]
2022-03-12 17:41:44,377 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:44,391 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:41:44,403 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:41:44,466 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:41:44,730 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:41:44,739 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:41:44,762 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:41:44,776 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:41:44,781 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:44,786 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:41:44,815 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:44,822 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:41:44,844 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:41:44,936 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:41:53,338 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:41:53,351 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:41:55,968 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:41:56,873 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:41:56,879 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:41:57,719 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:41:57,789 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:41:57,790 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:41:58,926 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:41:58,929 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:41:59,469 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 522 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:42:00,035 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:42:00,041 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:42:00,082 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:42:00,091 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2022-03-12 17:42:00,968 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:42:02,890 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:42:02,915 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:02,918 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:42:02,921 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:42:03,048 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:42:03,050 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5258 ms
2022-03-12 17:42:05,883 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:42:05,888 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:42:06,000 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:42:06,017 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:42:06,147 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:238}] to mongodb2:27017
2022-03-12 17:42:06,146 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:217}] to mongodb1:27017
2022-03-12 17:42:06,146 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:238}] to mongodb3:27017
2022-03-12 17:42:06,147 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:239}] to mongodb3:27017
2022-03-12 17:42:06,146 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:218}] to mongodb1:27017
2022-03-12 17:42:06,162 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=102283600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:42:04 GMT 2022, lastUpdateTimeNanos=466865693293087}
2022-03-12 17:42:06,147 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:237}] to mongodb2:27017
2022-03-12 17:42:06,167 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=102211400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:42:04 GMT 2022, lastUpdateTimeNanos=466865690553587}
2022-03-12 17:42:06,168 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=102521000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:42:04 GMT 2022, lastUpdateTimeNanos=466865691036687}
2022-03-12 17:42:06,181 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:42:06,182 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:42:06,185 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb6deb763512eb8c2272', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:42:06,288 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:42:06,403 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:42:07,395 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: fd9ef4fe-2dce-43ed-82a1-cdc1432c76f7

2022-03-12 17:42:07,797 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 17:42:10,475 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:42:10,906 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:42:11,036 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:42:11,196 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:42:11,235 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:42:11,460 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:42:11,466 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:42:11,474 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:42:11,478 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:42:11,486 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:42:11,488 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:42:11,491 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:42:11,950 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:42:11,957 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:42:11,964 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:42:11,975 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106931973 with initial instances count: 2
2022-03-12 17:42:11,989 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:42:11,992 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106931992, current=UP, previous=STARTING]
2022-03-12 17:42:12,006 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:12,006 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:42:12,027 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:42:12,072 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:42:12,180 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:42:12,188 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:42:12,200 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:42:12,245 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:42:12,250 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:12,253 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:42:12,268 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:12,272 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:12,300 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:42:12,393 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:42:21,220 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:42:21,229 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:42:23,865 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:42:24,644 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:42:24,651 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:42:25,496 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:42:25,558 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:42:25,560 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:42:26,696 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:42:26,702 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:42:27,266 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 547 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:42:27,885 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:42:27,890 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:42:27,936 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:42:27,939 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2022-03-12 17:42:28,818 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:42:30,688 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:42:30,716 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:30,721 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:42:30,725 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:42:30,844 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:42:30,847 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5284 ms
2022-03-12 17:42:33,798 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:42:33,803 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:42:33,928 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:42:33,933 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:42:34,078 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:219}] to mongodb1:27017
2022-03-12 17:42:34,078 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:240}] to mongodb2:27017
2022-03-12 17:42:34,079 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:240}] to mongodb3:27017
2022-03-12 17:42:34,078 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:241}] to mongodb3:27017
2022-03-12 17:42:34,079 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:239}] to mongodb2:27017
2022-03-12 17:42:34,079 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:220}] to mongodb1:27017
2022-03-12 17:42:34,100 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=97428100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:42:24 GMT 2022, lastUpdateTimeNanos=466893656158887}
2022-03-12 17:42:34,100 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=96659300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:42:24 GMT 2022, lastUpdateTimeNanos=466893656158887}
2022-03-12 17:42:34,099 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=95541500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:42:24 GMT 2022, lastUpdateTimeNanos=466893656513587}
2022-03-12 17:42:34,126 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:42:34,129 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:42:34,134 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdb89753f817da9ff5459', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:42:34,239 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:42:34,343 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:42:35,468 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 675b1514-63f1-4576-bf53-6a4da0b131d8

2022-03-12 17:42:36,058 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@95eb320, org.springframework.security.web.context.SecurityContextPersistenceFilter@46a488c2, org.springframework.security.web.header.HeaderWriterFilter@4397a639, org.springframework.security.web.authentication.logout.LogoutFilter@7ee8130e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65ddee5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43fda8d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f521c4, org.springframework.security.web.session.SessionManagementFilter@7e7f3cfd, org.springframework.security.web.access.ExceptionTranslationFilter@39bbd9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ed34ef5]
2022-03-12 17:42:38,142 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:42:38,450 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:42:38,548 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:42:38,673 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:42:38,689 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:42:38,770 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:42:38,771 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:42:38,773 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:42:38,775 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:42:38,776 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:42:38,777 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:42:38,780 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:42:39,058 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:42:39,068 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:42:39,076 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:42:39,092 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106959089 with initial instances count: 2
2022-03-12 17:42:39,110 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:42:39,112 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106959112, current=UP, previous=STARTING]
2022-03-12 17:42:39,117 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:39,119 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:42:39,132 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:42:39,166 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:42:39,230 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:42:39,237 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:42:39,251 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:42:39,265 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:42:39,269 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:39,271 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:42:39,284 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:39,287 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:39,302 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:42:39,347 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:42:46,220 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:42:46,226 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:42:48,634 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:42:49,400 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:42:49,406 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:42:50,203 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:42:50,254 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:42:50,256 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:42:51,200 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:42:51,208 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:42:51,704 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 482 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:42:52,203 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:42:52,209 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:42:52,245 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:42:52,248 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2022-03-12 17:42:53,087 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:42:54,477 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:42:54,500 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:42:54,503 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:42:54,505 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:42:54,605 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:42:54,607 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4350 ms
2022-03-12 17:42:56,704 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:42:56,706 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:42:56,791 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:42:56,795 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:42:56,928 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:222}] to mongodb1:27017
2022-03-12 17:42:56,934 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:242}] to mongodb2:27017
2022-03-12 17:42:56,929 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:221}] to mongodb1:27017
2022-03-12 17:42:56,928 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:241}] to mongodb2:27017
2022-03-12 17:42:56,934 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:243}] to mongodb3:27017
2022-03-12 17:42:56,928 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:242}] to mongodb3:27017
2022-03-12 17:42:56,946 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=88402000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:42:54 GMT 2022, lastUpdateTimeNanos=466916541400987}
2022-03-12 17:42:56,947 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=88501800, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:42:54 GMT 2022, lastUpdateTimeNanos=466916541400987}
2022-03-12 17:42:56,947 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=75943900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:42:54 GMT 2022, lastUpdateTimeNanos=466916541415487}
2022-03-12 17:42:56,960 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:42:56,961 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:42:56,964 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdba0d2cf197ea1168673', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:42:57,060 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:42:57,133 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:42:58,011 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3b9ab8e8-d5d0-4b94-9a89-737456ca16e6

2022-03-12 17:42:58,386 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 17:43:00,289 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:43:00,686 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:43:00,763 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:43:00,889 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:43:00,914 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:43:00,991 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:43:00,993 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:43:00,995 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:43:00,997 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:43:00,998 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:43:00,999 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:43:01,006 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:43:01,279 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:43:01,287 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:43:01,294 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:43:01,306 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647106981303 with initial instances count: 2
2022-03-12 17:43:01,322 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:43:01,325 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647106981325, current=UP, previous=STARTING]
2022-03-12 17:43:01,331 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:01,334 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:43:01,347 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:43:01,374 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:43:01,429 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:43:01,434 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:43:01,443 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:43:01,452 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:43:01,455 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:01,457 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:43:01,468 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:01,471 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:01,484 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:43:01,552 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:43:08,029 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:08,033 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:10,428 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:11,190 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:11,194 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:43:12,004 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:43:12,058 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:12,060 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:12,977 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:43:12,985 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:43:13,671 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 657 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:43:14,171 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:43:14,190 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:43:14,268 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:43:14,270 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 0 Redis repository interfaces.
2022-03-12 17:43:15,127 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:43:16,468 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:43:16,488 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:16,491 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:43:16,493 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:43:16,579 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:43:16,598 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4537 ms
2022-03-12 17:43:18,764 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:43:18,767 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:43:18,836 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:43:18,845 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:43:18,905 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:244}] to mongodb3:27017
2022-03-12 17:43:18,906 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:223}] to mongodb1:27017
2022-03-12 17:43:18,903 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:244}] to mongodb2:27017
2022-03-12 17:43:18,933 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43872500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:43:14 GMT 2022, lastUpdateTimeNanos=466938517867487}
2022-03-12 17:43:18,906 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:224}] to mongodb1:27017
2022-03-12 17:43:18,906 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:245}] to mongodb3:27017
2022-03-12 17:43:18,909 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:243}] to mongodb2:27017
2022-03-12 17:43:18,914 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45963100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:43:14 GMT 2022, lastUpdateTimeNanos=466938517931487}
2022-03-12 17:43:18,943 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44856700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:43:14 GMT 2022, lastUpdateTimeNanos=466938518116787}
2022-03-12 17:43:18,948 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:43:18,951 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:43:18,953 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbb6838197221919a509', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:43:19,062 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:43:19,182 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:43:20,135 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: d668c975-2459-4bfa-a45c-b2bd99676bdf

2022-03-12 17:43:20,976 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c41ec0, org.springframework.security.web.context.SecurityContextPersistenceFilter@ef60710, org.springframework.security.web.header.HeaderWriterFilter@65ddee5a, org.springframework.security.web.authentication.logout.LogoutFilter@313f8301, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2503ec73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44b21f9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a0e495, org.springframework.security.web.session.SessionManagementFilter@28bdbe88, org.springframework.security.web.access.ExceptionTranslationFilter@3ae126d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@506a1372]
2022-03-12 17:43:24,359 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:43:24,917 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:43:25,008 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:43:25,306 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:43:25,349 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:43:25,533 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:43:25,535 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:43:25,537 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:43:25,538 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:43:25,539 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:43:25,540 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:43:25,542 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:43:26,300 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:43:26,311 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:43:26,323 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:43:26,343 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107006341 with initial instances count: 2
2022-03-12 17:43:26,358 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:43:26,362 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107006362, current=UP, previous=STARTING]
2022-03-12 17:43:26,367 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:26,374 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:43:26,378 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:43:26,424 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:43:26,633 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:43:26,638 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:43:26,660 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:43:26,674 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:43:26,679 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:26,682 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:43:26,699 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:26,702 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:26,719 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:43:26,786 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:43:33,168 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:33,172 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:35,477 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:36,262 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:36,267 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:43:37,081 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:43:37,126 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:37,127 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:37,822 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:43:37,825 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:43:38,150 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 315 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:43:38,497 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:43:38,502 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:43:38,534 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:43:38,536 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:43:39,225 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:43:40,461 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:43:40,486 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:40,488 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:43:40,489 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:43:40,568 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:43:40,570 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3442 ms
2022-03-12 17:43:42,393 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:43:42,396 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:43:42,463 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:43:42,469 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:43:42,547 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:246}] to mongodb2:27017
2022-03-12 17:43:42,551 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:246}] to mongodb3:27017
2022-03-12 17:43:42,547 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:226}] to mongodb1:27017
2022-03-12 17:43:42,547 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:245}] to mongodb2:27017
2022-03-12 17:43:42,554 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=67558100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:43:34 GMT 2022, lastUpdateTimeNanos=466962204082687}
2022-03-12 17:43:42,556 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:247}] to mongodb3:27017
2022-03-12 17:43:42,556 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61978900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:43:34 GMT 2022, lastUpdateTimeNanos=466962198416687}
2022-03-12 17:43:42,556 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:225}] to mongodb1:27017
2022-03-12 17:43:42,575 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=72940800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:43:34 GMT 2022, lastUpdateTimeNanos=466962209160387}
2022-03-12 17:43:42,593 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:43:42,596 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:43:42,599 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbce48707623d9c6c517', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:43:42,730 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:43:42,836 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:43:43,530 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 75c23ebf-4c49-45e4-baee-a9d255f0f6e7

2022-03-12 17:43:43,788 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@553bc36c, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e4e4c1, org.springframework.security.web.header.HeaderWriterFilter@39bbd9e0, org.springframework.security.web.authentication.logout.LogoutFilter@606f81b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ae126d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65ddee5a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@380e1909, org.springframework.security.web.session.SessionManagementFilter@79a7bfbc, org.springframework.security.web.access.ExceptionTranslationFilter@5349b246, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2149594a]
2022-03-12 17:43:45,991 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:43:46,280 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:43:46,346 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:43:46,440 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:43:46,453 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:43:46,505 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:43:46,507 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:43:46,508 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:43:46,510 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:43:46,511 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:43:46,511 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:43:46,513 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:43:46,753 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:43:46,761 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:43:46,795 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:43:46,811 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107026808 with initial instances count: 2
2022-03-12 17:43:46,829 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:43:46,832 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107026832, current=UP, previous=STARTING]
2022-03-12 17:43:46,837 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:46,839 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:43:46,860 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:43:46,906 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:43:46,974 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:43:46,978 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:43:46,986 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:43:46,996 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:43:46,999 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:47,004 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:43:47,016 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:47,019 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:43:47,032 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:43:47,070 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:43:54,065 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:54,070 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:56,250 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:57,013 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:57,018 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:43:57,837 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:43:57,892 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:43:57,893 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:43:58,575 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:43:58,577 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:43:58,959 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 371 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:43:59,337 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:43:59,350 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:43:59,371 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:43:59,372 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2022-03-12 17:43:59,918 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:44:01,093 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:44:01,113 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:01,115 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:44:01,117 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:44:01,216 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:44:01,218 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3323 ms
2022-03-12 17:44:02,917 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:44:02,919 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:44:02,983 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:44:02,990 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:44:03,061 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:227}] to mongodb1:27017
2022-03-12 17:44:03,059 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:247}] to mongodb2:27017
2022-03-12 17:44:03,059 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:248}] to mongodb3:27017
2022-03-12 17:44:03,062 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:249}] to mongodb3:27017
2022-03-12 17:44:03,061 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:228}] to mongodb1:27017
2022-03-12 17:44:03,062 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:248}] to mongodb2:27017
2022-03-12 17:44:03,074 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42544500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:43:54 GMT 2022, lastUpdateTimeNanos=466982745005987}
2022-03-12 17:44:03,075 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44430200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:43:54 GMT 2022, lastUpdateTimeNanos=466982744998987}
2022-03-12 17:44:03,076 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44485100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:43:54 GMT 2022, lastUpdateTimeNanos=466982744998987}
2022-03-12 17:44:03,086 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:44:03,088 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:44:03,090 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbe2eb94d270bed513db', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:44:03,154 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:44:03,218 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:44:03,815 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 7c832683-6f77-4d40-8372-ce4fad01f268

2022-03-12 17:44:04,060 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7332a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@53a7a60c, org.springframework.security.web.header.HeaderWriterFilter@3ae126d1, org.springframework.security.web.authentication.logout.LogoutFilter@79b2852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a87026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2503ec73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c233af, org.springframework.security.web.session.SessionManagementFilter@43fda8d9, org.springframework.security.web.access.ExceptionTranslationFilter@77f68df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10db6131]
2022-03-12 17:44:05,677 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:44:05,927 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:44:05,986 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:44:06,100 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:44:06,113 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:44:06,165 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:44:06,167 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:44:06,169 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:44:06,170 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:44:06,171 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:44:06,172 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:44:06,174 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:44:06,371 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:44:06,377 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:44:06,383 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:44:06,393 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107046391 with initial instances count: 2
2022-03-12 17:44:06,408 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:44:06,410 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107046410, current=UP, previous=STARTING]
2022-03-12 17:44:06,415 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:06,416 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:44:06,430 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:44:06,456 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:44:06,499 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:44:06,505 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:44:06,516 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:44:06,538 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:44:06,541 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:06,543 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:44:06,554 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:06,557 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:06,570 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:44:06,628 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:44:13,984 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:13,990 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:16,248 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:17,000 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:17,007 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:44:17,867 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:44:17,914 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:17,915 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:18,748 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:44:18,771 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:44:19,134 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 351 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:44:19,621 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:44:19,626 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:44:19,685 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:44:19,687 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2022-03-12 17:44:20,297 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:44:21,440 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:44:21,460 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:21,462 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:44:21,464 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:44:21,549 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:44:21,560 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3644 ms
2022-03-12 17:44:23,240 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:44:23,242 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:44:23,312 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:44:23,316 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:44:23,379 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:250}] to mongodb3:27017
2022-03-12 17:44:23,378 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:249}] to mongodb2:27017
2022-03-12 17:44:23,378 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:230}] to mongodb1:27017
2022-03-12 17:44:23,378 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:250}] to mongodb2:27017
2022-03-12 17:44:23,378 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:251}] to mongodb3:27017
2022-03-12 17:44:23,378 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:229}] to mongodb1:27017
2022-03-12 17:44:23,387 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=42858000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:44:14 GMT 2022, lastUpdateTimeNanos=467003099998987}
2022-03-12 17:44:23,385 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45047300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:44:14 GMT 2022, lastUpdateTimeNanos=467003099926087}
2022-03-12 17:44:23,386 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45068100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:44:14 GMT 2022, lastUpdateTimeNanos=467003100163787}
2022-03-12 17:44:23,395 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:44:23,396 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:44:23,398 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdbf783cfd86f5ee9fe09', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:44:23,461 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:44:23,527 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:44:24,155 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 2f245999-ef0a-462c-91f1-4a276644e35f

2022-03-12 17:44:24,388 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4afbb6c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@65ddee5a, org.springframework.security.web.header.HeaderWriterFilter@77114efe, org.springframework.security.web.authentication.logout.LogoutFilter@4288d98e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34b9eb03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a7a60c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db6131, org.springframework.security.web.session.SessionManagementFilter@46a488c2, org.springframework.security.web.access.ExceptionTranslationFilter@11c3ff67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@380e1909]
2022-03-12 17:44:26,065 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:44:26,398 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:44:26,478 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:44:26,588 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:44:26,607 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:44:26,665 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:44:26,666 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:44:26,668 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:44:26,669 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:44:26,670 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:44:26,670 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:44:26,672 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:44:26,903 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:44:26,909 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:44:26,916 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:44:26,928 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107066926 with initial instances count: 2
2022-03-12 17:44:26,944 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:44:26,946 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107066946, current=UP, previous=STARTING]
2022-03-12 17:44:26,951 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:26,954 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:44:26,965 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:44:26,990 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:44:27,060 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:44:27,065 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:44:27,073 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:44:27,081 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:44:27,084 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:27,086 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:44:27,096 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:27,099 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:27,114 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:44:27,155 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:44:33,652 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:33,658 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:35,989 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:36,765 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:36,770 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:44:37,596 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:44:37,676 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:37,678 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:38,684 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:44:38,688 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:44:39,135 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 438 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:44:39,502 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:44:39,506 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:44:39,539 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:44:39,541 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:44:40,122 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:44:41,544 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:44:41,579 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:41,586 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:44:41,589 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:44:41,684 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:44:41,686 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4007 ms
2022-03-12 17:44:44,344 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:44:44,347 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:44:44,446 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:44:44,451 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:44:44,615 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:251}] to mongodb2:27017
2022-03-12 17:44:44,615 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:252}] to mongodb2:27017
2022-03-12 17:44:44,615 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:232}] to mongodb1:27017
2022-03-12 17:44:44,616 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:253}] to mongodb3:27017
2022-03-12 17:44:44,628 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=132995000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:44:34 GMT 2022, lastUpdateTimeNanos=467024337198687}
2022-03-12 17:44:44,616 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:231}] to mongodb1:27017
2022-03-12 17:44:44,617 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:252}] to mongodb3:27017
2022-03-12 17:44:44,626 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=129327100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:44:34 GMT 2022, lastUpdateTimeNanos=467024335057987}
2022-03-12 17:44:44,626 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=129254400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:44:34 GMT 2022, lastUpdateTimeNanos=467024335057987}
2022-03-12 17:44:44,644 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:44:44,647 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:44:44,650 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc0c74b5bd62655f9b93', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:44:44,809 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:44:44,941 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:44:45,728 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 2dec5aed-c034-439d-9d63-2fa1093bf8d3

2022-03-12 17:44:45,998 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c6017b9, org.springframework.security.web.context.SecurityContextPersistenceFilter@34b9eb03, org.springframework.security.web.header.HeaderWriterFilter@77f68df, org.springframework.security.web.authentication.logout.LogoutFilter@285c6918, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49d831c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a87026, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4730e0f0, org.springframework.security.web.session.SessionManagementFilter@65ddee5a, org.springframework.security.web.access.ExceptionTranslationFilter@24841372, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@95eb320]
2022-03-12 17:44:48,058 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:44:48,455 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:44:48,539 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:44:48,637 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:44:48,651 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:44:48,704 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:44:48,705 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:44:48,706 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:44:48,708 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:44:48,708 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:44:48,709 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:44:48,711 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:44:48,938 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:44:48,945 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:44:48,952 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:44:48,962 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107088960 with initial instances count: 2
2022-03-12 17:44:48,990 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:44:48,993 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107088993, current=UP, previous=STARTING]
2022-03-12 17:44:48,998 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:49,003 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:44:49,012 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:44:49,039 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:44:49,086 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:44:49,090 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:44:49,098 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:44:49,123 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:44:49,126 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:49,128 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:44:49,139 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:49,141 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:44:49,155 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:44:49,195 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:44:56,273 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:56,278 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:58,672 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:44:59,443 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:44:59,448 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:45:00,246 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:45:00,301 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:45:00,302 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:45:01,169 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:45:01,174 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:45:01,607 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 420 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:45:02,046 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:45:02,051 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:45:02,083 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:45:02,084 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:45:02,977 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:45:04,536 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:45:04,556 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:04,559 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:45:04,561 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:45:04,639 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:45:04,641 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4337 ms
2022-03-12 17:45:06,936 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:45:06,939 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:45:07,035 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:45:07,039 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:45:07,121 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:234}] to mongodb1:27017
2022-03-12 17:45:07,116 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:233}] to mongodb1:27017
2022-03-12 17:45:07,123 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:253}] to mongodb2:27017
2022-03-12 17:45:07,116 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:254}] to mongodb2:27017
2022-03-12 17:45:07,116 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:254}] to mongodb3:27017
2022-03-12 17:45:07,122 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:255}] to mongodb3:27017
2022-03-12 17:45:07,149 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52497400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:45:04 GMT 2022, lastUpdateTimeNanos=467046871510887}
2022-03-12 17:45:07,169 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62553400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:45:04 GMT 2022, lastUpdateTimeNanos=467046881540387}
2022-03-12 17:45:07,185 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52379000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:45:04 GMT 2022, lastUpdateTimeNanos=467046871510887}
2022-03-12 17:45:07,226 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:45:07,235 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:45:07,240 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc22fcf0f13bcee02e39', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:45:07,345 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:45:07,451 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:45:08,303 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 1d6096d9-88b4-443c-8e69-cb4bc7e604a1

2022-03-12 17:45:08,546 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f521c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@6242ae3b, org.springframework.security.web.header.HeaderWriterFilter@24841372, org.springframework.security.web.authentication.logout.LogoutFilter@6296474f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56399b9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49d831c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4afbb6c2, org.springframework.security.web.session.SessionManagementFilter@3ae126d1, org.springframework.security.web.access.ExceptionTranslationFilter@27fe9713, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@553bc36c]
2022-03-12 17:45:10,489 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:45:10,816 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:45:10,893 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:45:10,984 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:45:11,000 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:45:11,075 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:45:11,077 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:45:11,080 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:45:11,081 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:45:11,083 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:45:11,084 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:45:11,087 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:45:11,371 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:45:11,380 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:45:11,390 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:45:11,413 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107111408 with initial instances count: 2
2022-03-12 17:45:11,441 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:45:11,444 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107111444, current=UP, previous=STARTING]
2022-03-12 17:45:11,450 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:11,451 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:45:11,466 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:45:11,497 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:45:11,544 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:45:11,549 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:45:11,557 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:45:11,566 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:45:11,569 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:11,571 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:45:11,581 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:11,584 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:11,597 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:45:11,631 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:45:18,662 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:45:18,667 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:45:21,040 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:45:21,833 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:45:21,837 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:45:22,632 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:45:22,667 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:45:22,668 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:45:23,296 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:45:23,299 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:45:23,680 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 366 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:45:24,095 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:45:24,099 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:45:24,132 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:45:24,134 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:45:24,899 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:45:26,598 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:45:26,622 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:26,624 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:45:26,626 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:45:26,770 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:45:26,774 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4104 ms
2022-03-12 17:45:28,822 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:45:28,825 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:45:28,905 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:45:28,910 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:45:28,978 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:256}] to mongodb2:27017
2022-03-12 17:45:28,978 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:255}] to mongodb2:27017
2022-03-12 17:45:28,974 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:256}] to mongodb3:27017
2022-03-12 17:45:28,978 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:235}] to mongodb1:27017
2022-03-12 17:45:28,984 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47050100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:45:24 GMT 2022, lastUpdateTimeNanos=467068766693187}
2022-03-12 17:45:28,978 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:236}] to mongodb1:27017
2022-03-12 17:45:28,974 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:257}] to mongodb3:27017
2022-03-12 17:45:28,991 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47149800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:45:24 GMT 2022, lastUpdateTimeNanos=467068767188687}
2022-03-12 17:45:28,991 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47466100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:45:24 GMT 2022, lastUpdateTimeNanos=467068767135487}
2022-03-12 17:45:29,003 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:45:29,006 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:45:29,008 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc38c67b9060e96949df', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:45:29,090 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:45:29,217 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:45:30,144 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c7aa8201-d036-4567-b482-7f79b813f28b

2022-03-12 17:45:30,449 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:45:32,455 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:45:32,831 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:45:32,912 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:45:33,019 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:45:33,033 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:45:33,106 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:45:33,108 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:45:33,110 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:45:33,111 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:45:33,113 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:45:33,114 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:45:33,116 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:45:33,454 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:45:33,471 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:45:33,497 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:45:33,512 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107133509 with initial instances count: 2
2022-03-12 17:45:33,545 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:45:33,550 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107133550, current=UP, previous=STARTING]
2022-03-12 17:45:33,561 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:33,562 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:45:33,582 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:45:33,625 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:45:33,714 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:45:33,721 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:45:33,733 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:45:33,748 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:45:33,753 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:33,755 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:45:33,774 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:33,779 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:33,799 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:45:33,869 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:45:40,494 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:45:40,498 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:45:42,866 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:45:43,762 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:45:43,766 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:45:44,575 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:45:44,616 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:45:44,617 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:45:45,386 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:45:45,390 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:45:45,758 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 357 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:45:46,173 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:45:46,177 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:45:46,222 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:45:46,224 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2022-03-12 17:45:46,848 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:45:48,247 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:45:48,276 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:48,280 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:45:48,282 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:45:48,487 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:45:48,490 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3872 ms
2022-03-12 17:45:50,992 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:45:50,995 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:45:51,094 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:45:51,099 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:45:51,198 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:257}] to mongodb2:27017
2022-03-12 17:45:51,198 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:258}] to mongodb3:27017
2022-03-12 17:45:51,199 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:237}] to mongodb1:27017
2022-03-12 17:45:51,202 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:238}] to mongodb1:27017
2022-03-12 17:45:51,201 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:258}] to mongodb2:27017
2022-03-12 17:45:51,201 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:259}] to mongodb3:27017
2022-03-12 17:45:51,205 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=64331600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:45:44 GMT 2022, lastUpdateTimeNanos=467090991595787}
2022-03-12 17:45:51,210 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61997200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:45:44 GMT 2022, lastUpdateTimeNanos=467090991151087}
2022-03-12 17:45:51,210 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61347500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:45:44 GMT 2022, lastUpdateTimeNanos=467090990023187}
2022-03-12 17:45:51,220 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:45:51,224 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:45:51,227 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc4efe137c5e0f199515', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:45:51,294 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:45:51,351 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:45:52,127 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: cb466383-eedc-46e1-8f2e-2be5149bc134

2022-03-12 17:45:52,459 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:45:54,397 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:45:54,664 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:45:54,739 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:45:54,826 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:45:54,840 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:45:54,893 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:45:54,894 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:45:54,895 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:45:54,896 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:45:54,897 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:45:54,898 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:45:54,899 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:45:55,143 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:45:55,150 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:45:55,156 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:45:55,166 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107155165 with initial instances count: 2
2022-03-12 17:45:55,180 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:45:55,183 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107155183, current=UP, previous=STARTING]
2022-03-12 17:45:55,191 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:55,192 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:45:55,209 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:45:55,244 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:45:55,294 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:45:55,300 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:45:55,311 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:45:55,325 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:45:55,330 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:55,334 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:45:55,346 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:55,349 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:45:55,373 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:45:55,418 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:46:01,914 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:01,919 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:04,248 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:05,247 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:05,251 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:46:06,569 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:46:06,625 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:06,626 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:07,463 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:46:07,467 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:46:07,807 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 330 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:46:08,278 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:46:08,282 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:46:08,317 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:46:08,319 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:46:09,040 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:46:10,624 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:46:10,643 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:10,644 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:46:10,646 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:46:10,722 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:46:10,725 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4098 ms
2022-03-12 17:46:12,746 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:46:12,749 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:46:12,829 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:46:12,833 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:46:12,902 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:240}] to mongodb1:27017
2022-03-12 17:46:12,902 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:260}] to mongodb3:27017
2022-03-12 17:46:12,903 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:259}] to mongodb2:27017
2022-03-12 17:46:12,902 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:239}] to mongodb1:27017
2022-03-12 17:46:12,904 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:260}] to mongodb2:27017
2022-03-12 17:46:12,905 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:261}] to mongodb3:27017
2022-03-12 17:46:12,908 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49070200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:46:04 GMT 2022, lastUpdateTimeNanos=467112730010387}
2022-03-12 17:46:12,909 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48239500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:46:04 GMT 2022, lastUpdateTimeNanos=467112729409487}
2022-03-12 17:46:12,913 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47473700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:46:04 GMT 2022, lastUpdateTimeNanos=467112729645387}
2022-03-12 17:46:12,921 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:46:12,923 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:46:12,924 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc64871bd158fd51acce', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:46:13,087 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:46:13,204 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:46:14,026 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 57a476eb-5c5d-4293-a994-091fb5d4e503

2022-03-12 17:46:14,261 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6af5bbd0, org.springframework.security.web.context.SecurityContextPersistenceFilter@44b21f9f, org.springframework.security.web.header.HeaderWriterFilter@53a7a60c, org.springframework.security.web.authentication.logout.LogoutFilter@59ce792e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6296474f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@285c6918, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76464795, org.springframework.security.web.session.SessionManagementFilter@606f81b5, org.springframework.security.web.access.ExceptionTranslationFilter@34b9eb03, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35a0e495]
2022-03-12 17:46:16,557 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:46:16,929 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:46:17,014 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:46:17,133 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:46:17,148 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:46:17,200 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:46:17,202 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:46:17,203 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:46:17,205 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:46:17,206 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:46:17,207 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:46:17,209 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:46:17,570 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:46:17,583 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:46:17,593 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:46:17,606 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107177604 with initial instances count: 2
2022-03-12 17:46:17,626 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:46:17,630 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107177630, current=UP, previous=STARTING]
2022-03-12 17:46:17,639 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:17,641 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:46:17,656 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:46:17,684 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:46:17,750 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:46:17,755 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:46:17,770 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:46:17,780 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:46:17,783 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:17,788 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:46:17,803 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:17,806 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:17,821 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:46:17,881 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:46:25,146 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:25,156 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:27,511 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:28,292 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:28,300 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:46:29,126 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:46:29,181 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:29,189 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:29,899 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:46:29,902 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:46:30,306 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 392 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:46:30,718 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:46:30,721 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:46:30,751 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:46:30,753 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2022-03-12 17:46:31,336 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:46:32,711 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:46:32,732 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:32,734 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:46:32,736 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:46:32,838 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:46:32,841 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3650 ms
2022-03-12 17:46:34,825 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:46:34,827 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:46:34,898 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:46:34,901 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:46:34,962 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:262}] to mongodb2:27017
2022-03-12 17:46:34,963 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:261}] to mongodb2:27017
2022-03-12 17:46:34,963 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:263}] to mongodb3:27017
2022-03-12 17:46:34,966 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:241}] to mongodb1:27017
2022-03-12 17:46:34,962 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:262}] to mongodb3:27017
2022-03-12 17:46:34,962 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:242}] to mongodb1:27017
2022-03-12 17:46:34,969 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40353400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:46:34 GMT 2022, lastUpdateTimeNanos=467134825621287}
2022-03-12 17:46:34,974 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=40671800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:46:34 GMT 2022, lastUpdateTimeNanos=467134826019887}
2022-03-12 17:46:34,977 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=41265900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:46:34 GMT 2022, lastUpdateTimeNanos=467134826543587}
2022-03-12 17:46:34,988 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:46:34,995 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:46:35,001 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc7a667caf115df60ff3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:46:35,085 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:46:35,143 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:46:35,865 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c12e1426-9657-4f10-abc8-752d08ec0206

2022-03-12 17:46:36,111 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:46:37,977 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:46:38,549 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:46:38,702 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:46:39,039 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:46:39,077 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:46:39,201 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:46:39,203 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:46:39,207 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:46:39,208 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:46:39,212 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:46:39,215 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:46:39,218 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:46:39,637 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:46:39,649 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:46:39,656 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:46:39,675 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107199672 with initial instances count: 2
2022-03-12 17:46:39,699 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:46:39,704 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107199704, current=UP, previous=STARTING]
2022-03-12 17:46:39,717 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:39,722 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:46:39,747 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:46:39,783 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:46:39,893 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:46:39,912 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:46:39,932 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:46:39,951 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:46:39,957 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:39,961 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:46:39,984 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:39,991 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:40,025 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:46:40,110 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:46:48,643 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:48,652 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:51,155 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:51,965 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:51,970 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:46:52,783 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:46:52,860 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:46:52,861 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:46:53,890 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:46:53,894 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:46:54,440 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 531 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:46:54,984 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:46:54,991 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:46:55,043 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:46:55,045 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2022-03-12 17:46:55,904 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:46:57,667 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:46:57,696 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:46:57,699 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:46:57,701 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:46:57,837 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:46:57,841 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4978 ms
2022-03-12 17:47:00,334 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:47:00,336 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:47:00,432 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:47:00,436 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:47:00,523 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:265}] to mongodb3:27017
2022-03-12 17:47:00,521 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:263}] to mongodb2:27017
2022-03-12 17:47:00,523 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:264}] to mongodb2:27017
2022-03-12 17:47:00,523 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:264}] to mongodb3:27017
2022-03-12 17:47:00,521 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:243}] to mongodb1:27017
2022-03-12 17:47:00,521 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:244}] to mongodb1:27017
2022-03-12 17:47:00,531 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=58221000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:46:54 GMT 2022, lastUpdateTimeNanos=467160418639987}
2022-03-12 17:47:00,532 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51350100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:46:54 GMT 2022, lastUpdateTimeNanos=467160420020587}
2022-03-12 17:47:00,535 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=58110100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:46:54 GMT 2022, lastUpdateTimeNanos=467160418699287}
2022-03-12 17:47:00,550 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:47:00,552 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:47:00,556 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdc947d58a82935674ab3', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:47:00,656 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:47:00,767 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:47:02,171 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 928964ba-67a9-4da1-b47b-3d969316df33

2022-03-12 17:47:03,408 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@380e1909, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e7f3cfd, org.springframework.security.web.header.HeaderWriterFilter@27fe9713, org.springframework.security.web.authentication.logout.LogoutFilter@5e1fc42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a488c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56399b9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d5ef498, org.springframework.security.web.session.SessionManagementFilter@77f68df, org.springframework.security.web.access.ExceptionTranslationFilter@32b0876c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e58ca]
2022-03-12 17:47:08,287 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:47:09,042 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:47:09,154 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:47:09,552 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:47:09,600 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:47:09,837 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:47:09,840 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:47:09,842 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:47:09,843 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:47:09,845 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:47:09,846 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:47:09,848 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:47:10,786 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:47:10,804 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:47:10,821 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:47:10,858 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107230854 with initial instances count: 2
2022-03-12 17:47:10,897 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:47:10,906 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107230905, current=UP, previous=STARTING]
2022-03-12 17:47:10,915 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:10,921 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:47:10,946 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:47:11,013 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:47:11,244 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:47:11,249 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:47:11,277 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:47:11,298 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:47:11,306 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:11,311 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:47:11,339 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:11,345 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:11,375 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:47:11,473 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:47:19,706 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:47:19,714 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:47:22,231 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:47:22,992 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:47:22,996 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:47:23,793 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:47:23,865 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:47:23,867 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:47:24,990 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:47:24,995 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:47:25,525 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 510 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:47:26,066 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:47:26,074 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:47:26,120 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:47:26,123 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2022-03-12 17:47:26,995 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:47:28,889 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:47:28,920 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:28,924 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:47:28,927 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:47:29,044 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:47:29,047 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5176 ms
2022-03-12 17:47:31,702 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:47:31,704 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:47:31,802 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:47:31,806 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:47:31,887 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:245}] to mongodb1:27017
2022-03-12 17:47:31,887 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:266}] to mongodb3:27017
2022-03-12 17:47:31,887 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:246}] to mongodb1:27017
2022-03-12 17:47:31,887 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:265}] to mongodb2:27017
2022-03-12 17:47:31,892 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:267}] to mongodb3:27017
2022-03-12 17:47:31,901 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53251700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:47:24 GMT 2022, lastUpdateTimeNanos=467191820485387}
2022-03-12 17:47:31,892 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:266}] to mongodb2:27017
2022-03-12 17:47:31,903 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=54347500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:47:24 GMT 2022, lastUpdateTimeNanos=467191820642887}
2022-03-12 17:47:31,902 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55343700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:47:24 GMT 2022, lastUpdateTimeNanos=467191821431087}
2022-03-12 17:47:31,925 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:47:31,928 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:47:31,930 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcb38313162209a732ad', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:47:32,036 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:47:32,136 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:47:33,134 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 712c7e4e-4b0f-4f95-8fc0-d98919fbdbdb

2022-03-12 17:47:33,467 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:47:35,933 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:47:36,340 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:47:36,431 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:47:36,557 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:47:36,583 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:47:36,661 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:47:36,662 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:47:36,665 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:47:36,666 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:47:36,667 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:47:36,669 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:47:36,671 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:47:36,989 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:47:37,001 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:47:37,012 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:47:37,028 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107257026 with initial instances count: 2
2022-03-12 17:47:37,071 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:47:37,074 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107257074, current=UP, previous=STARTING]
2022-03-12 17:47:37,084 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:37,089 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:47:37,107 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:47:37,156 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:47:37,232 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:47:37,240 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:47:37,256 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:47:37,272 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:47:37,276 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:37,280 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:47:37,293 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:37,295 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:37,317 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:47:37,381 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:47:45,730 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:47:45,736 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:47:48,291 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:47:49,073 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:47:49,081 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:47:49,952 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:47:50,038 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:47:50,055 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:47:51,119 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:47:51,123 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:47:51,655 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 517 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:47:52,188 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:47:52,193 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:47:52,251 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:47:52,254 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2022-03-12 17:47:53,100 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:47:55,024 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:47:55,056 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:47:55,059 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:47:55,061 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:47:55,189 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:47:55,192 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5134 ms
2022-03-12 17:47:57,866 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:47:57,885 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:47:58,014 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:47:58,023 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:47:58,136 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:267}] to mongodb2:27017
2022-03-12 17:47:58,134 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:268}] to mongodb3:27017
2022-03-12 17:47:58,132 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:248}] to mongodb1:27017
2022-03-12 17:47:58,132 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:268}] to mongodb2:27017
2022-03-12 17:47:58,135 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:269}] to mongodb3:27017
2022-03-12 17:47:58,132 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:247}] to mongodb1:27017
2022-03-12 17:47:58,151 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=91358900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:47:54 GMT 2022, lastUpdateTimeNanos=467218106473587}
2022-03-12 17:47:58,157 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=90569000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:47:54 GMT 2022, lastUpdateTimeNanos=467218105727587}
2022-03-12 17:47:58,162 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=86495000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:47:54 GMT 2022, lastUpdateTimeNanos=467218100473087}
2022-03-12 17:47:58,174 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:47:58,176 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:47:58,180 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdccd8303ce766f6e5ffd', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:47:58,295 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:47:58,417 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:47:59,409 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 146fbd2b-52f9-4e83-9e4f-29995dbe223b

2022-03-12 17:47:59,791 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 17:48:02,504 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:48:02,777 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:48:02,855 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:48:02,953 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:48:02,967 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:48:03,025 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:48:03,026 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:48:03,028 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:48:03,029 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:48:03,030 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:48:03,032 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:48:03,033 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:48:03,318 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:48:03,325 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:48:03,332 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:48:03,343 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107283341 with initial instances count: 2
2022-03-12 17:48:03,361 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:48:03,364 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107283364, current=UP, previous=STARTING]
2022-03-12 17:48:03,372 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:03,374 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:48:03,396 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:48:03,438 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:48:03,494 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:48:03,499 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:48:03,507 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:48:03,520 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:48:03,524 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:03,528 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:48:03,543 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:03,547 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:03,562 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:48:03,647 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:48:10,181 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:10,187 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:12,463 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:13,212 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:13,216 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:48:14,021 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:48:14,064 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:14,066 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:15,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:48:15,047 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:48:15,540 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 480 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:48:16,009 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:48:16,014 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:48:16,042 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:48:16,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2022-03-12 17:48:16,604 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:48:17,917 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:48:17,939 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:17,942 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:48:17,943 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:48:18,036 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:48:18,038 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3971 ms
2022-03-12 17:48:19,872 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:48:19,880 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:48:19,966 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:48:19,970 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:48:20,055 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:270}] to mongodb2:27017
2022-03-12 17:48:20,058 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:250}] to mongodb1:27017
2022-03-12 17:48:20,054 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:269}] to mongodb2:27017
2022-03-12 17:48:20,054 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:271}] to mongodb3:27017
2022-03-12 17:48:20,054 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:249}] to mongodb1:27017
2022-03-12 17:48:20,054 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:270}] to mongodb3:27017
2022-03-12 17:48:20,066 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60846700, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:48:14 GMT 2022, lastUpdateTimeNanos=467240023453687}
2022-03-12 17:48:20,066 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=59080700, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:48:14 GMT 2022, lastUpdateTimeNanos=467240023035287}
2022-03-12 17:48:20,068 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60380200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:48:14 GMT 2022, lastUpdateTimeNanos=467240023055587}
2022-03-12 17:48:20,079 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:48:20,080 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:48:20,083 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdce3cd0ce95b55118ac6', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:48:20,140 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:48:20,201 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:48:20,878 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 989ffa89-90e5-4807-8347-29b9b052c1c1

2022-03-12 17:48:21,131 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:48:22,944 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:48:23,237 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:48:23,301 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:48:23,387 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:48:23,401 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:48:23,451 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:48:23,452 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:48:23,454 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:48:23,455 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:48:23,456 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:48:23,457 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:48:23,458 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:48:23,721 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:48:23,728 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:48:23,735 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:48:23,749 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107303746 with initial instances count: 2
2022-03-12 17:48:23,784 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:48:23,786 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107303786, current=UP, previous=STARTING]
2022-03-12 17:48:23,792 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:23,796 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:48:23,806 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:48:23,831 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:48:23,900 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:48:23,907 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:48:23,919 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:48:23,931 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:48:23,934 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:23,937 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:48:23,949 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:23,952 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:23,967 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:48:24,019 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:48:30,282 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:30,287 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:32,570 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:33,332 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:33,335 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:48:34,157 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:48:34,211 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:34,212 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:34,967 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:48:34,971 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:48:35,288 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 308 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:48:35,626 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:48:35,629 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:48:35,660 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:48:35,665 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2022-03-12 17:48:36,293 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:48:37,497 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:48:37,517 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:37,519 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:48:37,521 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:48:37,609 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:48:37,611 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3397 ms
2022-03-12 17:48:39,610 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:48:39,614 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:48:39,769 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:48:39,788 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:48:40,119 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:271}] to mongodb2:27017
2022-03-12 17:48:40,117 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:5, serverValue:252}] to mongodb1:27017
2022-03-12 17:48:40,117 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:272}] to mongodb3:27017
2022-03-12 17:48:40,120 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:273}] to mongodb3:27017
2022-03-12 17:48:40,117 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:272}] to mongodb2:27017
2022-03-12 17:48:40,156 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=211088900, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:48:34 GMT 2022, lastUpdateTimeNanos=467260120192787}
2022-03-12 17:48:40,117 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:251}] to mongodb1:27017
2022-03-12 17:48:40,156 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=228252600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:48:34 GMT 2022, lastUpdateTimeNanos=467260121137487}
2022-03-12 17:48:40,175 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=207138300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:48:34 GMT 2022, lastUpdateTimeNanos=467260118026987}
2022-03-12 17:48:40,209 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:48:40,211 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:48:40,222 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdcf74db13e4b82af231a', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:48:40,458 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:48:40,762 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:48:42,851 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 9c8b4e8e-d4d5-4d2e-849a-80b532da248f

2022-03-12 17:48:43,551 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d5ef498, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ae126d1, org.springframework.security.web.header.HeaderWriterFilter@11c3ff67, org.springframework.security.web.authentication.logout.LogoutFilter@44b21f9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6242ae3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34b9eb03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@95eb320, org.springframework.security.web.session.SessionManagementFilter@3e4e4c1, org.springframework.security.web.access.ExceptionTranslationFilter@2aaf152b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f847af]
2022-03-12 17:48:47,118 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:48:47,533 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:48:47,640 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:48:47,766 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:48:47,787 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:48:47,876 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:48:47,877 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:48:47,881 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:48:47,882 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:48:47,884 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:48:47,886 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:48:47,889 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:48:48,278 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:48:48,287 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:48:48,297 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:48:48,310 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107328308 with initial instances count: 2
2022-03-12 17:48:48,335 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:48:48,338 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107328337, current=UP, previous=STARTING]
2022-03-12 17:48:48,346 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:48,348 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:48:48,388 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:48:48,426 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:48:48,507 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:48:48,514 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:48:48,527 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:48:48,540 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:48:48,545 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:48,548 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:48:48,564 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:48,568 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:48:48,589 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:48:48,654 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:48:55,452 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:55,459 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:57,974 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:58,736 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:48:58,739 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:48:59,529 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:48:59,582 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:48:59,583 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:49:00,340 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:49:00,343 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:49:00,742 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 389 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:49:01,178 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:49:01,182 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:49:01,224 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:49:01,225 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:49:01,829 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:49:03,130 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:49:03,151 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:03,152 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:49:03,153 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:49:03,245 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:49:03,247 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3662 ms
2022-03-12 17:49:05,104 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:49:05,107 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:49:05,182 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:49:05,186 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:49:05,251 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:253}] to mongodb1:27017
2022-03-12 17:49:05,251 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:275}] to mongodb3:27017
2022-03-12 17:49:05,251 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:254}] to mongodb1:27017
2022-03-12 17:49:05,254 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:274}] to mongodb3:27017
2022-03-12 17:49:05,254 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:273}] to mongodb2:27017
2022-03-12 17:49:05,262 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43421900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:49:04 GMT 2022, lastUpdateTimeNanos=467285293334287}
2022-03-12 17:49:05,257 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:274}] to mongodb2:27017
2022-03-12 17:49:05,261 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45619600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:49:04 GMT 2022, lastUpdateTimeNanos=467285293132487}
2022-03-12 17:49:05,262 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48065200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:49:04 GMT 2022, lastUpdateTimeNanos=467285295581287}
2022-03-12 17:49:05,270 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:49:05,271 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:49:05,273 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd11d2c144722a447128', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:49:05,329 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:49:05,397 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:49:06,031 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: c60802d5-f9f9-43fb-84e9-b16f724a463e

2022-03-12 17:49:06,284 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 17:49:08,309 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:49:09,055 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:49:09,172 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:49:09,406 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:49:09,450 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:49:09,711 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:49:09,714 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:49:09,719 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:49:09,721 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:49:09,727 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:49:09,729 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:49:09,735 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:49:10,425 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:49:10,441 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:49:10,463 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:49:10,489 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107350484 with initial instances count: 2
2022-03-12 17:49:10,520 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:49:10,526 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107350526, current=UP, previous=STARTING]
2022-03-12 17:49:10,542 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:10,547 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:49:10,582 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:49:10,643 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:49:10,749 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:49:10,761 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:49:10,784 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:49:10,803 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:49:10,811 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:10,816 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:49:10,837 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:10,845 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:10,870 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:49:10,947 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:49:19,597 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:49:19,605 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:49:22,165 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:49:22,922 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:49:22,926 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:49:23,778 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:49:23,844 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:49:23,846 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:49:24,939 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:49:24,948 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:49:25,484 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 513 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:49:26,069 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:49:26,076 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:49:26,120 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:49:26,125 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2022-03-12 17:49:27,002 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:49:28,967 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:49:28,998 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:29,004 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:49:29,007 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:49:29,135 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:49:29,138 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5290 ms
2022-03-12 17:49:31,749 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:49:31,753 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:49:31,857 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:49:31,864 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:49:31,973 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:277}] to mongodb3:27017
2022-03-12 17:49:31,972 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:276}] to mongodb2:27017
2022-03-12 17:49:31,972 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:255}] to mongodb1:27017
2022-03-12 17:49:31,972 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:256}] to mongodb1:27017
2022-03-12 17:49:31,973 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:276}] to mongodb3:27017
2022-03-12 17:49:31,972 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:275}] to mongodb2:27017
2022-03-12 17:49:31,982 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=78936300, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:49:24 GMT 2022, lastUpdateTimeNanos=467312047651487}
2022-03-12 17:49:31,992 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=77841700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:49:24 GMT 2022, lastUpdateTimeNanos=467312047096587}
2022-03-12 17:49:31,984 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=77574500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:49:24 GMT 2022, lastUpdateTimeNanos=467312046889887}
2022-03-12 17:49:32,014 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:49:32,018 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:49:32,022 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd2be894f51950454454', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:49:32,128 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:49:32,219 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:49:33,188 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 5ee45d2c-2aa2-4b71-9e30-ac41b533ba4f

2022-03-12 17:49:33,539 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77c233af, org.springframework.security.web.context.SecurityContextPersistenceFilter@28bdbe88, org.springframework.security.web.header.HeaderWriterFilter@46a488c2, org.springframework.security.web.authentication.logout.LogoutFilter@326d27ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ef60710, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@606f81b5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37b56ac7, org.springframework.security.web.session.SessionManagementFilter@49d831c2, org.springframework.security.web.access.ExceptionTranslationFilter@3e4e4c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c6017b9]
2022-03-12 17:49:36,112 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:49:36,551 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:49:36,656 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:49:36,793 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:49:36,817 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:49:36,907 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:49:36,910 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:49:36,931 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:49:36,934 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:49:36,936 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:49:36,937 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:49:36,939 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:49:37,286 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:49:37,297 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:49:37,309 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:49:37,324 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107377320 with initial instances count: 2
2022-03-12 17:49:37,372 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:49:37,375 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107377375, current=UP, previous=STARTING]
2022-03-12 17:49:37,382 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:37,390 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:49:37,407 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:49:37,450 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:49:37,529 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:49:37,537 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:49:37,549 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:49:37,563 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:49:37,568 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:37,573 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:49:37,585 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:37,590 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:37,609 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:49:37,673 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:49:45,888 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:49:45,896 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:49:48,491 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:49:49,282 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:49:49,287 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:49:50,101 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:49:50,170 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:49:50,172 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:49:51,280 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:49:51,284 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:49:51,799 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 499 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:49:52,361 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:49:52,367 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:49:52,399 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:49:52,401 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2022-03-12 17:49:53,183 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:49:54,926 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:49:54,956 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:49:54,959 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:49:54,961 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:49:55,078 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:49:55,081 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4907 ms
2022-03-12 17:49:57,803 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:49:57,806 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:49:57,888 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:49:57,900 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:49:58,053 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:279}] to mongodb3:27017
2022-03-12 17:49:58,054 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:257}] to mongodb1:27017
2022-03-12 17:49:58,050 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:278}] to mongodb3:27017
2022-03-12 17:49:58,054 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:278}] to mongodb2:27017
2022-03-12 17:49:58,065 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70768800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:49:54 GMT 2022, lastUpdateTimeNanos=467338160539787}
2022-03-12 17:49:58,050 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:258}] to mongodb1:27017
2022-03-12 17:49:58,050 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:277}] to mongodb2:27017
2022-03-12 17:49:58,071 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71884400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:49:54 GMT 2022, lastUpdateTimeNanos=467338160400987}
2022-03-12 17:49:58,072 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70559100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:49:54 GMT 2022, lastUpdateTimeNanos=467338159899687}
2022-03-12 17:49:58,082 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:49:58,083 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:49:58,087 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd45199db336c50c22b6', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:49:58,158 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:49:58,254 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:49:58,972 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 0179b835-adcf-402a-9d5d-94c8e951f355

2022-03-12 17:49:59,193 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1868c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@169268a7, org.springframework.security.web.header.HeaderWriterFilter@600f5704, org.springframework.security.web.authentication.logout.LogoutFilter@7add838c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a0ff63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d27ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6ec50, org.springframework.security.web.session.SessionManagementFilter@6296474f, org.springframework.security.web.access.ExceptionTranslationFilter@28bdbe88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6af5bbd0]
2022-03-12 17:50:00,917 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:50:01,348 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:50:01,442 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:50:01,587 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:50:01,606 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:50:01,682 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:50:01,684 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:50:01,688 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:50:01,691 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:50:01,693 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:50:01,695 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:50:01,698 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:50:02,032 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:50:02,041 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:50:02,050 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:50:02,081 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107402077 with initial instances count: 2
2022-03-12 17:50:02,104 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:50:02,108 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107402108, current=UP, previous=STARTING]
2022-03-12 17:50:02,117 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:50:02,118 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:02,143 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:50:02,205 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:50:02,311 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:50:02,324 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:50:02,352 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:50:02,374 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:50:02,381 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:02,386 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:50:02,414 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:02,422 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:02,464 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:50:02,609 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:50:08,939 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:50:08,945 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:50:11,209 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:50:12,032 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:50:12,036 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:50:12,863 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:50:12,903 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:50:12,904 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:50:13,604 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:50:13,606 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:50:13,933 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 316 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:50:14,287 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:50:14,290 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:50:14,312 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:50:14,321 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:50:14,859 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:50:15,995 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:50:16,036 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:16,039 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:50:16,041 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:50:16,120 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:50:16,122 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3217 ms
2022-03-12 17:50:18,873 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:50:18,876 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:50:18,971 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:50:18,977 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:50:19,090 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:280}] to mongodb2:27017
2022-03-12 17:50:19,088 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:279}] to mongodb2:27017
2022-03-12 17:50:19,088 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:280}] to mongodb3:27017
2022-03-12 17:50:19,088 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:260}] to mongodb1:27017
2022-03-12 17:50:19,090 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:259}] to mongodb1:27017
2022-03-12 17:50:19,088 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:281}] to mongodb3:27017
2022-03-12 17:50:19,118 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65267000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:50:14 GMT 2022, lastUpdateTimeNanos=467359198179387}
2022-03-12 17:50:19,119 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65464700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:50:14 GMT 2022, lastUpdateTimeNanos=467359198144687}
2022-03-12 17:50:19,122 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63767500, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:50:14 GMT 2022, lastUpdateTimeNanos=467359198144687}
2022-03-12 17:50:19,136 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:50:19,138 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:50:19,145 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd5a2ce82920e8f1c021', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:50:19,228 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:50:19,352 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:50:20,364 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: bc6b4f51-c44a-4443-ac3f-e92ebe15a44d

2022-03-12 17:50:20,639 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:50:23,351 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:50:24,220 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:50:24,373 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:50:24,530 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:50:24,557 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:50:24,652 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:50:24,654 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:50:24,656 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:50:24,657 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:50:24,658 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:50:24,659 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:50:24,662 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:50:25,070 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:50:25,083 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:50:25,091 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:50:25,116 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107425113 with initial instances count: 2
2022-03-12 17:50:25,141 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:50:25,146 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107425145, current=UP, previous=STARTING]
2022-03-12 17:50:25,154 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:25,156 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:50:25,178 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:50:25,224 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:50:25,305 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:50:25,312 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:50:25,329 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:50:25,342 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:50:25,358 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:25,366 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:50:25,389 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:25,395 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:25,416 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:50:25,481 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:50:34,445 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:50:34,451 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:50:36,635 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:50:37,422 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:50:37,426 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:50:38,211 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:50:38,267 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:50:38,268 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:50:39,009 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:50:39,012 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:50:39,374 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 352 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:50:39,729 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:50:39,733 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:50:39,771 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:50:39,772 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2022-03-12 17:50:40,370 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:50:41,911 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:50:41,953 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:41,957 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:50:41,960 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:50:42,182 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:50:42,190 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3921 ms
2022-03-12 17:50:44,950 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:50:44,953 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:50:45,051 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:50:45,057 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:50:45,149 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:281}] to mongodb2:27017
2022-03-12 17:50:45,156 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:261}] to mongodb1:27017
2022-03-12 17:50:45,153 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:282}] to mongodb2:27017
2022-03-12 17:50:45,154 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:262}] to mongodb1:27017
2022-03-12 17:50:45,149 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:283}] to mongodb3:27017
2022-03-12 17:50:45,149 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:282}] to mongodb3:27017
2022-03-12 17:50:45,164 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65932000, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:50:44 GMT 2022, lastUpdateTimeNanos=467385295507187}
2022-03-12 17:50:45,168 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=67058000, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:50:44 GMT 2022, lastUpdateTimeNanos=467385295255587}
2022-03-12 17:50:45,169 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65600000, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:50:44 GMT 2022, lastUpdateTimeNanos=467385294644587}
2022-03-12 17:50:45,190 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:50:45,194 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:50:45,200 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd7480b8064640588d2a', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:50:45,296 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:50:45,407 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:50:46,191 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 92f54962-6913-4909-9e1b-0dd8d71f74ca

2022-03-12 17:50:46,616 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5399f6c5, org.springframework.security.web.context.SecurityContextPersistenceFilter@2503ec73, org.springframework.security.web.header.HeaderWriterFilter@34b9eb03, org.springframework.security.web.authentication.logout.LogoutFilter@7c2dfa2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e1fc42f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6296474f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe64d23, org.springframework.security.web.session.SessionManagementFilter@ef60710, org.springframework.security.web.access.ExceptionTranslationFilter@6242ae3b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77c233af]
2022-03-12 17:50:48,914 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:50:49,345 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:50:49,441 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:50:49,701 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:50:49,741 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:50:49,827 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:50:49,829 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:50:49,830 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:50:49,832 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:50:49,833 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:50:49,834 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:50:49,836 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:50:50,143 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:50:50,151 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:50:50,159 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:50:50,173 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107450171 with initial instances count: 2
2022-03-12 17:50:50,190 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:50:50,192 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107450192, current=UP, previous=STARTING]
2022-03-12 17:50:50,199 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:50,201 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:50:50,221 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:50:50,248 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:50:50,320 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:50:50,324 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:50:50,333 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:50:50,343 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:50:50,346 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:50,348 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:50:50,358 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:50,361 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:50:50,374 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:50:50,417 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:50:57,750 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:50:57,761 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:00,023 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:00,961 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:00,965 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:51:01,820 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:51:01,864 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:01,866 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:02,674 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:51:02,678 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:51:03,057 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 367 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:51:03,428 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:51:03,432 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:51:03,475 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:51:03,476 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2022-03-12 17:51:04,198 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:51:05,610 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:51:05,633 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:05,635 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:51:05,637 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:51:05,746 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:51:05,749 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3882 ms
2022-03-12 17:51:07,935 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:51:07,938 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:51:08,036 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:51:08,040 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:51:08,146 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:283}] to mongodb2:27017
2022-03-12 17:51:08,146 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:264}] to mongodb1:27017
2022-03-12 17:51:08,146 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:6, serverValue:263}] to mongodb1:27017
2022-03-12 17:51:08,152 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:284}] to mongodb3:27017
2022-03-12 17:51:08,152 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:285}] to mongodb3:27017
2022-03-12 17:51:08,156 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:284}] to mongodb2:27017
2022-03-12 17:51:08,222 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69565100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:51:04 GMT 2022, lastUpdateTimeNanos=467408327419187}
2022-03-12 17:51:08,222 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69994700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:51:04 GMT 2022, lastUpdateTimeNanos=467408327429687}
2022-03-12 17:51:08,227 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71336300, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:51:04 GMT 2022, lastUpdateTimeNanos=467408329020687}
2022-03-12 17:51:08,236 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:51:08,237 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:51:08,243 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdd8b7cc43c7f3773485d', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:51:08,278 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:51:08,366 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:51:08,957 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 39d5e2f8-34eb-46da-970c-fe29a8235959

2022-03-12 17:51:09,182 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:51:11,451 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:51:11,741 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:51:11,821 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:51:11,925 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:51:11,944 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:51:12,027 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:51:12,028 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:51:12,032 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:51:12,034 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:51:12,035 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:51:12,037 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:51:12,041 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:51:12,252 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:51:12,259 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:51:12,265 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:51:12,275 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107472273 with initial instances count: 2
2022-03-12 17:51:12,289 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:51:12,291 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107472291, current=UP, previous=STARTING]
2022-03-12 17:51:12,296 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:12,297 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:51:12,311 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:51:12,336 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:51:12,379 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:51:12,383 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:51:12,391 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:51:12,400 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:51:12,403 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:12,405 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:51:12,416 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:12,419 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:12,448 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:51:12,482 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:51:18,646 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:18,650 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:20,840 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:21,642 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:21,650 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:51:22,545 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:51:22,590 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:22,592 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:23,338 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:51:23,341 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:51:23,671 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 320 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:51:24,317 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:51:24,322 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:51:24,366 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:51:24,370 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2022-03-12 17:51:25,256 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:51:26,929 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:51:26,948 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:26,951 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:51:26,953 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:51:27,071 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:51:27,083 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4490 ms
2022-03-12 17:51:29,192 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:51:29,195 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:51:29,269 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:51:29,273 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:51:29,370 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:286}] to mongodb3:27017
2022-03-12 17:51:29,370 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:266}] to mongodb1:27017
2022-03-12 17:51:29,372 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:265}] to mongodb1:27017
2022-03-12 17:51:29,370 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:285}] to mongodb2:27017
2022-03-12 17:51:29,382 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:286}] to mongodb2:27017
2022-03-12 17:51:29,377 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:2, serverValue:287}] to mongodb3:27017
2022-03-12 17:51:29,389 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66980800, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:51:24 GMT 2022, lastUpdateTimeNanos=467429586135187}
2022-03-12 17:51:29,391 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66486900, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:51:24 GMT 2022, lastUpdateTimeNanos=467429586135187}
2022-03-12 17:51:29,390 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66756500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:51:24 GMT 2022, lastUpdateTimeNanos=467429586135187}
2022-03-12 17:51:29,409 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:51:29,410 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:51:29,417 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cdda1393e061d03292fac', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:51:29,553 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:51:29,657 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:51:30,511 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 6ab2bd92-da89-4143-8d96-cd36612aa4ef

2022-03-12 17:51:30,808 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7332a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@53a7a60c, org.springframework.security.web.header.HeaderWriterFilter@3ae126d1, org.springframework.security.web.authentication.logout.LogoutFilter@79b2852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a87026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2503ec73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c233af, org.springframework.security.web.session.SessionManagementFilter@43fda8d9, org.springframework.security.web.access.ExceptionTranslationFilter@77f68df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10db6131]
2022-03-12 17:51:32,716 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:51:32,990 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:51:33,067 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:51:33,162 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:51:33,174 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:51:33,224 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:51:33,226 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:51:33,227 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:51:33,228 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:51:33,229 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:51:33,230 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:51:33,232 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:51:33,439 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:51:33,446 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:51:33,453 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:51:33,467 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107493463 with initial instances count: 2
2022-03-12 17:51:33,490 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:51:33,493 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107493493, current=UP, previous=STARTING]
2022-03-12 17:51:33,501 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:33,502 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:51:33,524 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:51:33,578 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:51:33,680 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:51:33,689 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:51:33,703 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:51:33,728 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:51:33,732 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:33,736 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:51:33,751 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:33,756 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:33,772 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:51:33,817 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:51:40,459 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:40,464 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:43,404 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:44,278 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:44,294 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:51:45,360 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:51:45,426 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:51:45,428 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:51:46,621 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:51:46,632 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:51:47,221 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 570 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:51:47,819 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:51:47,827 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:51:47,872 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:51:47,874 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2022-03-12 17:51:48,746 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:51:50,558 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:51:50,591 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:50,597 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:51:50,601 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:51:50,728 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:51:50,732 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5302 ms
2022-03-12 17:51:53,352 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:51:53,356 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:51:53,477 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:51:53,483 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:51:53,580 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:289}] to mongodb3:27017
2022-03-12 17:51:53,576 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:288}] to mongodb3:27017
2022-03-12 17:51:53,576 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:267}] to mongodb1:27017
2022-03-12 17:51:53,580 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:287}] to mongodb2:27017
2022-03-12 17:51:53,576 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:268}] to mongodb1:27017
2022-03-12 17:51:53,580 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:288}] to mongodb2:27017
2022-03-12 17:51:53,592 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65855600, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:51:44 GMT 2022, lastUpdateTimeNanos=467453828176487}
2022-03-12 17:51:53,597 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65632100, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:51:44 GMT 2022, lastUpdateTimeNanos=467453828176487}
2022-03-12 17:51:53,601 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65243400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:51:44 GMT 2022, lastUpdateTimeNanos=467453828151487}
2022-03-12 17:51:53,619 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:51:53,621 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:51:53,624 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddb98a1f1865cb18d1a4', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:51:53,757 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:51:53,855 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:51:54,940 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 3ca76e17-2fa0-4f12-bd34-72e59ba9866e

2022-03-12 17:51:55,359 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7332a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@53a7a60c, org.springframework.security.web.header.HeaderWriterFilter@3ae126d1, org.springframework.security.web.authentication.logout.LogoutFilter@79b2852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a87026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2503ec73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c233af, org.springframework.security.web.session.SessionManagementFilter@43fda8d9, org.springframework.security.web.access.ExceptionTranslationFilter@77f68df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10db6131]
2022-03-12 17:51:58,063 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:51:58,461 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:51:58,551 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:51:58,711 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:51:58,736 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:51:58,817 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:51:58,819 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:51:58,824 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:51:58,826 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:51:58,827 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:51:58,828 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:51:58,830 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:51:59,183 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:51:59,195 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:51:59,202 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:51:59,219 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107519217 with initial instances count: 2
2022-03-12 17:51:59,241 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:51:59,245 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107519245, current=UP, previous=STARTING]
2022-03-12 17:51:59,254 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:59,258 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:51:59,276 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:51:59,314 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:51:59,408 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:51:59,416 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:51:59,429 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:51:59,440 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:51:59,446 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:59,450 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:51:59,469 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:59,472 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:51:59,493 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:51:59,584 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:52:07,766 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:52:07,772 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:52:10,382 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:52:11,186 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:52:11,190 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:52:12,042 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:52:12,098 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:52:12,100 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:52:13,799 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:52:13,808 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:52:14,829 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 991 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:52:15,249 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:52:15,253 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:52:15,294 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:52:15,296 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2022-03-12 17:52:16,345 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:52:18,428 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:52:18,459 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:18,463 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:52:18,467 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:52:18,630 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:52:18,637 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6535 ms
2022-03-12 17:52:20,913 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:52:20,916 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:52:20,998 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:52:21,011 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:52:21,103 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:290}] to mongodb2:27017
2022-03-12 17:52:21,104 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:270}] to mongodb1:27017
2022-03-12 17:52:21,103 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:290}] to mongodb3:27017
2022-03-12 17:52:21,105 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:289}] to mongodb2:27017
2022-03-12 17:52:21,105 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:291}] to mongodb3:27017
2022-03-12 17:52:21,105 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:269}] to mongodb1:27017
2022-03-12 17:52:21,113 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70409900, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:52:14 GMT 2022, lastUpdateTimeNanos=467481354514387}
2022-03-12 17:52:21,115 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70337500, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:52:14 GMT 2022, lastUpdateTimeNanos=467481354733687}
2022-03-12 17:52:21,119 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70419400, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:52:14 GMT 2022, lastUpdateTimeNanos=467481354479687}
2022-03-12 17:52:21,131 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:52:21,136 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:52:21,140 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddd4ca2fc20aa7abbc4b', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:52:21,210 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:52:21,263 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:52:21,958 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 323d8301-c3ba-4abf-a0a4-5d6e5fe05ce8

2022-03-12 17:52:22,217 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b34832b, org.springframework.security.web.context.SecurityContextPersistenceFilter@6296474f, org.springframework.security.web.header.HeaderWriterFilter@6a87026, org.springframework.security.web.authentication.logout.LogoutFilter@404db674, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@169268a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c601d50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48f4713c, org.springframework.security.web.session.SessionManagementFilter@44b21f9f, org.springframework.security.web.access.ExceptionTranslationFilter@49d831c2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fe64d23]
2022-03-12 17:52:24,082 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:52:24,368 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:52:24,433 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:52:24,539 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:52:24,553 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:52:24,607 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:52:24,609 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:52:24,610 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:52:24,611 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:52:24,612 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:52:24,613 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:52:24,615 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:52:24,884 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:52:24,895 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:52:24,904 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:52:24,935 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107544929 with initial instances count: 2
2022-03-12 17:52:24,957 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:52:24,963 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107544963, current=UP, previous=STARTING]
2022-03-12 17:52:24,972 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:24,978 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:52:24,989 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:52:25,038 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:52:25,124 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:52:25,129 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:52:25,139 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:52:25,148 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:52:25,151 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:25,154 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:52:25,166 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:25,169 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:25,183 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:52:25,227 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:52:32,325 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:52:32,331 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:52:34,643 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:52:35,428 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:52:35,432 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:52:36,237 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:52:36,276 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:52:36,277 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:52:37,143 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:52:37,147 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:52:37,561 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 401 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:52:38,097 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:52:38,103 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:52:38,139 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:52:38,141 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2022-03-12 17:52:38,847 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:52:40,250 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:52:40,271 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:40,273 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:52:40,275 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:52:40,374 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:52:40,377 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4098 ms
2022-03-12 17:52:42,568 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:52:42,585 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:52:42,700 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:52:42,705 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:52:42,800 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:291}] to mongodb2:27017
2022-03-12 17:52:42,797 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:292}] to mongodb3:27017
2022-03-12 17:52:42,800 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:271}] to mongodb1:27017
2022-03-12 17:52:42,797 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:272}] to mongodb1:27017
2022-03-12 17:52:42,800 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:2, serverValue:292}] to mongodb2:27017
2022-03-12 17:52:42,811 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=67292300, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:52:34 GMT 2022, lastUpdateTimeNanos=467503083679887}
2022-03-12 17:52:42,797 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:293}] to mongodb3:27017
2022-03-12 17:52:42,808 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=67832100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:52:34 GMT 2022, lastUpdateTimeNanos=467503084341087}
2022-03-12 17:52:42,808 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65767400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:52:34 GMT 2022, lastUpdateTimeNanos=467503084164787}
2022-03-12 17:52:42,823 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:52:42,830 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:52:42,835 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cddea6a71643d833c2c25', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:52:42,947 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:52:43,050 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:52:44,230 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 849f0af7-caec-4c33-8cf2-5c2b830b34c7

2022-03-12 17:52:45,257 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58437801, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e1fc42f, org.springframework.security.web.header.HeaderWriterFilter@49d831c2, org.springframework.security.web.authentication.logout.LogoutFilter@4b0b64cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ee8130e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@169268a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6af5bbd0, org.springframework.security.web.session.SessionManagementFilter@2503ec73, org.springframework.security.web.access.ExceptionTranslationFilter@56399b9e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37c41ec0]
2022-03-12 17:52:48,901 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:52:49,443 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:52:49,525 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:52:49,799 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:52:49,832 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:52:49,999 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:52:50,004 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:52:50,006 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:52:50,007 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:52:50,009 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:52:50,010 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:52:50,012 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:52:50,713 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:52:50,725 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:52:50,738 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:52:50,760 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107570758 with initial instances count: 2
2022-03-12 17:52:50,804 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:52:50,808 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107570808, current=UP, previous=STARTING]
2022-03-12 17:52:50,815 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:50,830 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:52:50,831 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:52:50,883 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:52:51,087 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:52:51,092 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:52:51,105 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:52:51,118 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:52:51,124 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:51,127 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:52:51,145 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:51,148 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:52:51,165 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:52:51,227 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:52:58,304 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:52:58,310 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:00,807 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:01,651 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:01,655 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:53:02,458 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:53:02,508 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:02,510 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:03,288 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:53:03,292 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:53:03,653 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 351 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:53:04,048 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:53:04,052 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:53:04,082 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:53:04,084 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2022-03-12 17:53:04,726 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:53:06,042 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:53:06,063 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:06,066 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:53:06,067 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:53:06,148 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:53:06,151 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3639 ms
2022-03-12 17:53:09,375 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:53:09,377 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:53:09,494 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:53:09,501 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:53:09,607 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:274}] to mongodb1:27017
2022-03-12 17:53:09,605 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:273}] to mongodb1:27017
2022-03-12 17:53:09,605 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:295}] to mongodb3:27017
2022-03-12 17:53:09,607 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:294}] to mongodb3:27017
2022-03-12 17:53:09,606 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:293}] to mongodb2:27017
2022-03-12 17:53:09,620 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60538400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:53:04 GMT 2022, lastUpdateTimeNanos=467529858904887}
2022-03-12 17:53:09,607 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:6, serverValue:294}] to mongodb2:27017
2022-03-12 17:53:09,619 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61611600, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:53:04 GMT 2022, lastUpdateTimeNanos=467529858508787}
2022-03-12 17:53:09,620 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62347100, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:53:04 GMT 2022, lastUpdateTimeNanos=467529858962987}
2022-03-12 17:53:09,632 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:53:09,633 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:53:09,636 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde059cf24f6e9e01ee6b', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:53:09,729 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:53:09,847 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:53:10,544 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: bda9d9de-d910-49b9-9662-d43f23bf29db

2022-03-12 17:53:10,816 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76464795, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee8130e, org.springframework.security.web.header.HeaderWriterFilter@28bdbe88, org.springframework.security.web.authentication.logout.LogoutFilter@4860827a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4288d98e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a0ff63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b34832b, org.springframework.security.web.session.SessionManagementFilter@5e1fc42f, org.springframework.security.web.access.ExceptionTranslationFilter@43fda8d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5399f6c5]
2022-03-12 17:53:13,866 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:53:14,322 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:53:14,433 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:53:14,556 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:53:14,591 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:53:14,699 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:53:14,701 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:53:14,706 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:53:14,709 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:53:14,713 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:53:14,716 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:53:14,731 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:53:15,116 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:53:15,128 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:53:15,136 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:53:15,157 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107595153 with initial instances count: 2
2022-03-12 17:53:15,199 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:53:15,202 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107595202, current=UP, previous=STARTING]
2022-03-12 17:53:15,212 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:15,215 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:53:15,239 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:53:15,290 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:53:15,432 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:53:15,441 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:53:15,458 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:53:15,471 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:53:15,478 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:15,481 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:53:15,500 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:15,507 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:15,527 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:53:15,594 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:53:23,827 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:23,834 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:26,441 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:27,222 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:27,226 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:53:28,034 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:53:28,107 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:28,109 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:29,222 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:53:29,228 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:53:29,837 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 593 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:53:30,510 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:53:30,515 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:53:30,551 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:53:30,554 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2022-03-12 17:53:31,562 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:53:34,218 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:53:34,263 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:34,269 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:53:34,273 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:53:34,423 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:53:34,427 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6315 ms
2022-03-12 17:53:38,229 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:53:38,232 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:53:38,315 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:53:38,320 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:53:38,403 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:4, serverValue:295}] to mongodb2:27017
2022-03-12 17:53:38,403 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:276}] to mongodb1:27017
2022-03-12 17:53:38,407 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:296}] to mongodb2:27017
2022-03-12 17:53:38,413 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:3, serverValue:275}] to mongodb1:27017
2022-03-12 17:53:38,415 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60994600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:53:34 GMT 2022, lastUpdateTimeNanos=467558696938387}
2022-03-12 17:53:38,408 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:297}] to mongodb3:27017
2022-03-12 17:53:38,408 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:5, serverValue:296}] to mongodb3:27017
2022-03-12 17:53:38,416 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62283700, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:53:34 GMT 2022, lastUpdateTimeNanos=467558698111887}
2022-03-12 17:53:38,423 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=58769200, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:53:34 GMT 2022, lastUpdateTimeNanos=467558696938387}
2022-03-12 17:53:38,429 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:53:38,431 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:53:38,433 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde22e6fa5d575c52b96f', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:53:38,512 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:53:38,582 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:53:39,239 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: fe66b9fc-0974-4929-8f84-235ea562fe1e

2022-03-12 17:53:39,546 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db6131, org.springframework.security.web.context.SecurityContextPersistenceFilter@56399b9e, org.springframework.security.web.header.HeaderWriterFilter@79a7bfbc, org.springframework.security.web.authentication.logout.LogoutFilter@169268a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43fda8d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28bdbe88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c6017b9, org.springframework.security.web.session.SessionManagementFilter@6242ae3b, org.springframework.security.web.access.ExceptionTranslationFilter@4397a639, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d5ef498]
2022-03-12 17:53:42,951 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:53:43,464 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:53:43,579 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:53:43,743 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:53:43,767 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:53:43,887 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:53:43,890 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:53:43,892 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:53:43,893 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:53:43,896 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:53:43,897 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:53:43,900 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:53:44,315 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:53:44,329 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:53:44,345 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:53:44,366 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107624364 with initial instances count: 2
2022-03-12 17:53:44,394 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:53:44,396 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107624396, current=UP, previous=STARTING]
2022-03-12 17:53:44,405 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:44,409 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:53:44,432 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:53:44,487 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:53:44,579 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:53:44,590 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:53:44,605 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:53:44,622 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:53:44,628 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:44,633 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:53:44,662 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:44,669 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:53:44,696 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:53:44,774 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:53:53,077 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:53,087 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:55,721 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:56,505 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:56,509 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:53:57,339 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:53:57,395 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:53:57,397 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:53:58,557 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:53:58,563 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:53:59,096 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 516 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:53:59,640 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:53:59,645 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:53:59,699 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:53:59,701 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2022-03-12 17:54:00,604 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:54:02,450 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:54:02,481 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:02,484 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:54:02,486 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:54:02,621 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:54:02,624 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5223 ms
2022-03-12 17:54:05,368 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:54:05,371 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:54:05,519 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:54:05,527 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:54:05,639 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:299}] to mongodb3:27017
2022-03-12 17:54:05,639 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:297}] to mongodb2:27017
2022-03-12 17:54:05,641 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:298}] to mongodb2:27017
2022-03-12 17:54:05,639 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:4, serverValue:298}] to mongodb3:27017
2022-03-12 17:54:05,639 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:1, serverValue:277}] to mongodb1:27017
2022-03-12 17:54:05,642 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:278}] to mongodb1:27017
2022-03-12 17:54:05,658 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=85637600, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:54:04 GMT 2022, lastUpdateTimeNanos=467585964923587}
2022-03-12 17:54:05,658 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=83117400, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:54:04 GMT 2022, lastUpdateTimeNanos=467585962681887}
2022-03-12 17:54:05,659 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=81877800, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:54:04 GMT 2022, lastUpdateTimeNanos=467585961143387}
2022-03-12 17:54:05,671 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:54:05,672 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:54:05,678 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde3d169f2f723cb9a860', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:54:05,802 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:54:05,942 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:54:06,919 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 974bacf4-a082-4a99-b2b7-42e54aeb9f90

2022-03-12 17:54:07,312 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@380e1909, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e7f3cfd, org.springframework.security.web.header.HeaderWriterFilter@27fe9713, org.springframework.security.web.authentication.logout.LogoutFilter@5e1fc42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46a488c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56399b9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d5ef498, org.springframework.security.web.session.SessionManagementFilter@77f68df, org.springframework.security.web.access.ExceptionTranslationFilter@32b0876c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f1e58ca]
2022-03-12 17:54:09,940 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:54:10,377 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:54:10,479 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:54:10,618 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:54:10,641 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:54:10,735 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:54:10,737 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:54:10,740 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:54:10,741 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:54:10,743 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:54:10,746 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:54:10,750 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:54:11,134 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:54:11,143 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:54:11,151 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:54:11,172 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107651167 with initial instances count: 2
2022-03-12 17:54:11,194 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:54:11,198 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107651198, current=UP, previous=STARTING]
2022-03-12 17:54:11,207 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:11,210 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:54:11,228 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:54:11,274 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:54:11,355 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:54:11,363 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:54:11,382 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:54:11,405 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:54:11,409 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:11,412 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:54:11,435 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:11,442 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:11,469 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:54:11,544 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:54:20,614 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:54:20,626 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:54:23,163 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:54:23,962 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:54:23,966 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:54:24,758 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:54:24,815 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:54:24,817 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:54:25,616 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:54:25,619 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:54:26,021 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 392 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:54:26,446 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:54:26,452 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:54:26,491 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:54:26,493 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2022-03-12 17:54:27,239 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:54:28,514 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:54:28,540 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:28,542 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:54:28,543 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:54:28,645 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:54:28,648 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3829 ms
2022-03-12 17:54:30,584 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:54:30,586 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:54:30,664 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:54:30,667 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:54:30,749 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:300}] to mongodb2:27017
2022-03-12 17:54:30,749 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:1, serverValue:299}] to mongodb2:27017
2022-03-12 17:54:30,749 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:280}] to mongodb1:27017
2022-03-12 17:54:30,749 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:279}] to mongodb1:27017
2022-03-12 17:54:30,749 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:3, serverValue:300}] to mongodb3:27017
2022-03-12 17:54:30,749 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:301}] to mongodb3:27017
2022-03-12 17:54:30,765 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=61048500, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:54:24 GMT 2022, lastUpdateTimeNanos=467611106010987}
2022-03-12 17:54:30,767 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60840100, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:54:24 GMT 2022, lastUpdateTimeNanos=467611105713987}
2022-03-12 17:54:30,765 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60068400, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:54:24 GMT 2022, lastUpdateTimeNanos=467611105461787}
2022-03-12 17:54:30,783 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:54:30,799 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:54:30,801 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde56ea67c72a2e5c6262', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:54:30,900 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:54:30,967 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:54:31,683 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 74c04420-3cbb-4c79-b4c1-d5442201c3fe

2022-03-12 17:54:31,934 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c6017b9, org.springframework.security.web.context.SecurityContextPersistenceFilter@34b9eb03, org.springframework.security.web.header.HeaderWriterFilter@77f68df, org.springframework.security.web.authentication.logout.LogoutFilter@285c6918, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49d831c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a87026, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4730e0f0, org.springframework.security.web.session.SessionManagementFilter@65ddee5a, org.springframework.security.web.access.ExceptionTranslationFilter@24841372, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@95eb320]
2022-03-12 17:54:33,528 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:54:33,826 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:54:33,891 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:54:34,000 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:54:34,015 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:54:34,066 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:54:34,067 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:54:34,069 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:54:34,070 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:54:34,070 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:54:34,071 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:54:34,073 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:54:34,312 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:54:34,321 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:54:34,327 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:54:34,342 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107674340 with initial instances count: 2
2022-03-12 17:54:34,358 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:54:34,361 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107674361, current=UP, previous=STARTING]
2022-03-12 17:54:34,366 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:34,368 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:54:34,383 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:54:34,410 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:54:34,461 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:54:34,468 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:54:34,480 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:54:34,494 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:54:34,499 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:34,502 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:54:34,514 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:34,518 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:34,535 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:54:34,573 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2022-03-12 17:54:40,733 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:54:40,738 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:54:42,948 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:54:43,722 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:54:43,726 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/BerkerIgdir/configservice.git/src/main/resources/config/urlshortener/urlshortener.properties'}]
2022-03-12 17:54:44,523 INFO com.urlshortener.UrlshortenerApplication [main] The following profiles are active: default
2022-03-12 17:54:44,563 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Fetching config from server at : http://configserver:8071
2022-03-12 17:54:44,565 INFO org.springframework.boot.context.config.ConfigDataLoader [main] Located environment: name=urlshortener, profiles=[default], label=null, version=a0cc44be19d54bbdf06463b7c58a515fff1bc98c, state=null
2022-03-12 17:54:45,295 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:54:45,297 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2022-03-12 17:54:45,616 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 309 ms. Found 1 MongoDB repository interfaces.
2022-03-12 17:54:45,977 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-03-12 17:54:45,981 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-03-12 17:54:46,011 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.urlshortener.repository.URLRepo. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2022-03-12 17:54:46,013 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2022-03-12 17:54:46,617 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=78b93246-241f-36a1-87b0-8c94b5763814
2022-03-12 17:54:47,826 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-03-12 17:54:47,846 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:47,848 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2022-03-12 17:54:47,870 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2022-03-12 17:54:47,972 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2022-03-12 17:54:47,974 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3408 ms
2022-03-12 17:54:49,787 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[mongodb1:27017, mongodb2:27017, mongodb3:27017], mode=MULTIPLE, requiredClusterType=REPLICA_SET, serverSelectionTimeout='30000 ms', requiredReplicaSetName='rsmongo'}
2022-03-12 17:54:49,790 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb1:27017 to client view of cluster
2022-03-12 17:54:49,872 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb2:27017 to client view of cluster
2022-03-12 17:54:49,876 INFO org.mongodb.driver.cluster [main] Adding discovered server mongodb3:27017 to client view of cluster
2022-03-12 17:54:49,956 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:3, serverValue:301}] to mongodb2:27017
2022-03-12 17:54:49,955 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:1, serverValue:303}] to mongodb3:27017
2022-03-12 17:54:49,969 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb2:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb2:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=59144200, setName='rsmongo', canonicalAddress=mongodb2:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4571b883806e0f0d4d0, counter=4}, lastWriteDate=Sat Mar 12 17:54:44 GMT 2022, lastUpdateTimeNanos=467630314820387}
2022-03-12 17:54:49,954 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb2:27017] Opened connection [connectionId{localValue:5, serverValue:302}] to mongodb2:27017
2022-03-12 17:54:49,954 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:2, serverValue:281}] to mongodb1:27017
2022-03-12 17:54:49,956 INFO org.mongodb.driver.connection [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb3:27017] Opened connection [connectionId{localValue:6, serverValue:302}] to mongodb3:27017
2022-03-12 17:54:49,976 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb1:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=54723200, setName='rsmongo', canonicalAddress=mongodb1:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000029, setVersion=1, topologyVersion=TopologyVersion{processId=622ca457d37cabcb6d18df78, counter=6}, lastWriteDate=Sat Mar 12 17:54:44 GMT 2022, lastUpdateTimeNanos=467630310611987}
2022-03-12 17:54:49,961 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb1:27017] Opened connection [connectionId{localValue:4, serverValue:282}] to mongodb1:27017
2022-03-12 17:54:49,980 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb3:27017] Monitor thread successfully connected to server with description ServerDescription{address=mongodb3:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=57503300, setName='rsmongo', canonicalAddress=mongodb3:27017, hosts=[mongodb1:27017, mongodb3:27017, mongodb2:27017], passives=[], arbiters=[], primary='mongodb1:27017', tagSet=TagSet{[]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=622ca4574f3041c5e2d1bc88, counter=4}, lastWriteDate=Sat Mar 12 17:54:44 GMT 2022, lastUpdateTimeNanos=467630314888687}
2022-03-12 17:54:49,984 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb1:27017] Setting max election id to 7fffffff0000000000000029 from replica set primary mongodb1:27017
2022-03-12 17:54:49,986 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb1:27017] Setting max set version to 1 from replica set primary mongodb1:27017
2022-03-12 17:54:49,988 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='622cde6970a85612c673177c', description='null'}-mongodb1:27017] Discovered replica set primary mongodb1:27017
2022-03-12 17:54:50,062 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:54:50,158 WARN org.springframework.data.convert.CustomConversions [main] Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-03-12 17:54:50,835 INFO org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration [main] 

Using generated security password: 1ef9dd47-28fc-4860-921d-ca6871950556

2022-03-12 17:54:51,087 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7332a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@53a7a60c, org.springframework.security.web.header.HeaderWriterFilter@3ae126d1, org.springframework.security.web.authentication.logout.LogoutFilter@79b2852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a87026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2503ec73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c233af, org.springframework.security.web.session.SessionManagementFilter@43fda8d9, org.springframework.security.web.access.ExceptionTranslationFilter@77f68df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10db6131]
2022-03-12 17:54:52,797 INFO org.springframework.cloud.netflix.eureka.config.DiscoveryClientOptionalArgsConfiguration [main] Eureka HTTP Client uses RestTemplate.
2022-03-12 17:54:53,093 WARN org.springframework.cloud.loadbalancer.config.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger [main] Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-03-12 17:54:53,156 INFO org.springframework.cloud.netflix.eureka.InstanceInfoFactory [main] Setting initial instance status as: STARTING
2022-03-12 17:54:53,246 INFO com.netflix.discovery.DiscoveryClient [main] Initializing Eureka in region us-east-1
2022-03-12 17:54:53,267 INFO com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver [main] Resolving eureka endpoints via configuration
2022-03-12 17:54:53,321 INFO com.netflix.discovery.DiscoveryClient [main] Disable delta property : false
2022-03-12 17:54:53,322 INFO com.netflix.discovery.DiscoveryClient [main] Single vip registry refresh property : null
2022-03-12 17:54:53,324 INFO com.netflix.discovery.DiscoveryClient [main] Force full registry fetch : false
2022-03-12 17:54:53,326 INFO com.netflix.discovery.DiscoveryClient [main] Application is null : false
2022-03-12 17:54:53,327 INFO com.netflix.discovery.DiscoveryClient [main] Registered Applications size is zero : true
2022-03-12 17:54:53,328 INFO com.netflix.discovery.DiscoveryClient [main] Application version is -1: true
2022-03-12 17:54:53,330 INFO com.netflix.discovery.DiscoveryClient [main] Getting all instance registry info from the eureka server
2022-03-12 17:54:53,586 INFO com.netflix.discovery.DiscoveryClient [main] The response status is 200
2022-03-12 17:54:53,593 INFO com.netflix.discovery.DiscoveryClient [main] Starting heartbeat executor: renew interval is: 30
2022-03-12 17:54:53,599 INFO com.netflix.discovery.InstanceInfoReplicator [main] InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-03-12 17:54:53,610 INFO com.netflix.discovery.DiscoveryClient [main] Discovery Client initialized at timestamp 1647107693607 with initial instances count: 2
2022-03-12 17:54:53,624 INFO org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry [main] Registering application URLSHORTENER with eureka with status UP
2022-03-12 17:54:53,626 INFO com.netflix.discovery.DiscoveryClient [main] Saw local status change event StatusChangeEvent [timestamp=1647107693626, current=UP, previous=STARTING]
2022-03-12 17:54:53,633 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:53,635 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener: registering service...
2022-03-12 17:54:53,647 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2022-03-12 17:54:53,678 INFO com.netflix.discovery.DiscoveryClient [main] Shutting down DiscoveryClient ...
2022-03-12 17:54:53,722 INFO com.netflix.discovery.DiscoveryClient [DiscoveryClient-InstanceInfoReplicator-0] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - registration status: 204
2022-03-12 17:54:53,727 INFO com.netflix.discovery.DiscoveryClient [main] Unregistering ...
2022-03-12 17:54:53,735 INFO com.netflix.discovery.DiscoveryClient [main] DiscoveryClient_URLSHORTENER/94bb03a6177d:urlshortener - deregister  status: 200
2022-03-12 17:54:53,744 INFO com.netflix.discovery.DiscoveryClient [main] Completed shut down of DiscoveryClient
2022-03-12 17:54:53,747 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:53,749 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2022-03-12 17:54:53,759 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:53,762 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
2022-03-12 17:54:53,777 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2022-03-12 17:54:53,817 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

